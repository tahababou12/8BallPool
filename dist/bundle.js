!function(t){var e={};function s(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(i,o,function(e){return t[e]}.bind(null,o));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=10)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(6);e.GAME_CONFIG={GAME_WIDTH:1500,GAME_HEIGHT:825,RED_BALLS_POSITIONS:[{x:1056,y:433},{x:1090,y:374},{x:1126,y:393},{x:1126,y:472},{x:1162,y:335},{x:1162,y:374},{x:1162,y:452}],YELLOW_BALLS_POSITIONS:[{x:1022,y:413},{x:1056,y:393},{x:1090,y:452},{x:1126,y:354},{x:1126,y:433},{x:1162,y:413},{x:1162,y:491}],CUE_BALL_POSITION:{x:413,y:413},EIGHT_BALL_POSITION:{x:1090,y:413},MATCH_SCORE_POSITIONS:[{x:420,y:27},{x:932,y:27}],MATCH_SCORE_MARGIN:20,OVERALL_SCORE_LABELS_POSITIONS:[{x:628,y:460},{x:778,y:460}],OVERALL_SCORE_LABEL_FONT:"200px Impact",OVERALL_SCORE_LABEL_COLOR:"#126736",OVERALL_SCORE_LABEL_ALIGNMENT:"top",SPRITES_BASE_PATH:"assets/sprites/",SPRITES:{MAIN_MENU_BACKGROUND:"main_menu_background.png",TABLE:"spr_background4.png",CUE_BALL:"spr_ball2.png",RED_BALL:"spr_redBall2.png",YELLOW_BALL:"spr_yellowBall2.png",BLACK_BALL:"spr_blackBall2.png",STICK:"spr_stick.png",TWO_PLAYERS_BUTTON:"2_players_button.png",TWO_PLAYERS_BUTTON_HOVERED:"2_players_button_hover.png",ONE_PLAYER_BUTTON:"1_player_button.png",ONE_PLAYER_BUTTON_HOVERED:"1_player_button_hover.png",MUTE_BUTTON:"mute_button.png",MUTE_BUTTON_HOVERED:"mute_button_hover.png",MUTE_BUTTON_PRESSED:"mute_button_pressed.png",MUTE_BUTTON_PRESSED_HOVERED:"mute_button_pressed_hover.png",EASY_BUTTON:"easy_button.png",EASY_BUTTON_HOVERED:"easy_button_hover.png",MEDIUM_BUTTON:"medium_button.png",MEDIUM_BUTTON_HOVERED:"medium_button_hover.png",HARD_BUTTON:"hard_button.png",HARD_BUTTON_HOVERED:"hard_button_hover.png",BACK_BUTTON:"back_button.png",BACK_BUTTON_HOVERED:"back_button_hover.png",CONTINUE_BUTTON:"continue_button.png",CONTINUE_BUTTON_HOVERED:"continue_button_hover.png",INSANE_BUTTON:"insane_button.png",INSANE_BUTTON_HOVERED:"insane_button_hover.png",ABOUT_BUTTON:"about_button.png",ABOUT_BUTTON_HOVERED:"about_button_hover.png",CONTROLS:"controls.png",RED_SCORE:"red_score.png",YELLOW_SCORE:"yellow_score.png"},SOUNDS_BASE_PATH:"assets/sounds/",SOUNDS:{BALLS_COLLIDE:"BallsCollide.wav",STRIKE:"Strike.wav",RAIL:"Hole.wav",MUSIC:"Bossa Antigua.mp3"},FRICTION:.0208,COLLISION_LOSS:.0208,CUSHION_WIDTH:57,POCKET_RADIUS:48,POCKETS_POSITIONS:[{x:62,y:62},{x:750,y:32},{x:1435,y:62},{x:62,y:762},{x:750,y:794},{x:1435,y:762}],CURRENT_PLAYER_LABEL_POSITION:{x:640,y:260},CURRENT_PLAYER_LABEL_COLOR:"#126736",CURRENT_PLAYER_LABEL:"PLAYER ",CURRENT_PLAYER_LABEL_FONT:"70px Impact",CURRENT_PLAYER_LABEL_ALIGNMENT:"top",BALL_DIAMETER:38,BALL_ORIGIN:{x:25,y:25},BALL_MIN_VELOCITY_LENGTH:.05,MAX_BALL_EXPECTED_VELOCITY:200,MAX_BALL_EXPECTED_COLLISION_FORCE:100,STICK_ORIGIN:{x:970,y:11},STICK_SHOT_ORIGIN:{x:950,y:11},POWER_TO_ADD_PER_FRAME:1,STICK_MOVEMENT_PER_FRAME:2,STICK_MAX_POWER:65,SELECT_MOUSE_BUTTON:0,SHOOT_MOUSE_BUTTON:0,PLACE_BALL_IN_HAND_MOUSE_BUTTON:0,INCREASE_SHOT_POWER_KEY:87,DECREASE_SHOT_POWER_KEY:83,BACK_TO_MENU_KEY:27,TIMEOUT_TO_HIDE_STICK_AFTER_SHOT:500,TIMOUT_TO_HIDE_BALL_AFTER_POCKET:100,LOADING_SCREEN_TIMEOUT:5e3,MAIN_MENU_CONFIG:{LABELS:[{text:"Classic 8-Ball",position:{x:100,y:100},font:"100px Bookman",color:"white",alignment:"left"},{text:`© ${(new Date).getFullYear()} Chen Shmilovich`,position:{x:1250,y:800},font:"20px Bookman",color:"white",alignment:"left"}],BUTTONS:[{action:i.MenuActionType.PVP,position:{x:200,y:200},sprite:"TWO_PLAYERS_BUTTON",spriteOnHover:"TWO_PLAYERS_BUTTON_HOVERED"},{action:i.MenuActionType.GoToSubMenu,value:0,position:{x:200,y:400},sprite:"ONE_PLAYER_BUTTON",spriteOnHover:"ONE_PLAYER_BUTTON_HOVERED"},{action:i.MenuActionType.ToggleSound,position:{x:1430,y:10},sprite:"MUTE_BUTTON",spriteOnHover:"MUTE_BUTTON_HOVERED"}],SUB_MENUS:[{LABELS:[{text:"Choose Difficulty",position:{x:100,y:100},font:"100px Bookman",color:"white",alignment:"left"},{text:`© ${(new Date).getFullYear()} Chen Shmilovich`,position:{x:1250,y:800},font:"20px Bookman",color:"white",alignment:"left"}],BUTTONS:[{action:i.MenuActionType.GoToPreviousMenu,position:{x:100,y:150},sprite:"BACK_BUTTON",spriteOnHover:"BACK_BUTTON_HOVERED"},{action:i.MenuActionType.ToggleSound,position:{x:1430,y:10},sprite:"MUTE_BUTTON",spriteOnHover:"MUTE_BUTTON_HOVERED"}],SUB_MENUS:[]}]},DEFAULT_CURSOR:"default",BUTTON_CURSOR:"pointer",LOADING_SCREEN_IMAGE_POSITION:{x:450,y:112.5},SOUND_ON:!0}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),o=s(3);const n=document.getElementById("screen"),_=document.getElementById("gameArea");e.Canvas2D=new class{get scaleX(){return this._scale.x}get scaleY(){return this._scale.y}get offsetX(){return this._offset.x}get offsetY(){return this._offset.y}constructor(t,e){this._canvasContainer=e,this._canvas=t,this._context=this._canvas.getContext("2d"),this.resizeCanvas()}resizeCanvas(){const t=i.GAME_CONFIG.GAME_WIDTH,e=i.GAME_CONFIG.GAME_HEIGHT,s=t/e;let n=window.innerHeight,_=window.innerWidth;_/n>s?_=n*s:n=_/s,this._canvasContainer.style.width=_+"px",this._canvasContainer.style.height=n+"px",this._canvasContainer.style.marginTop=(window.innerHeight-n)/2+"px",this._canvasContainer.style.marginLeft=(window.innerWidth-_)/2+"px",this._canvasContainer.style.marginBottom=(window.innerHeight-n)/2+"px",this._canvasContainer.style.marginRight=(window.innerWidth-_)/2+"px",this._scale=new o.Vector2(_/t,n/e),this._canvas.width=_,this._canvas.height=n,this._canvas.offsetParent&&(this._offset=new o.Vector2(this._canvas.offsetLeft,this._canvas.offsetTop))}clear(){this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}drawImage(t,e=o.Vector2.zero,s=0,i=o.Vector2.zero){this._context.save(),this._context.scale(this._scale.x,this._scale.y),this._context.translate(e.x,e.y),this._context.rotate(s),this._context.drawImage(t,0,0,t.width,t.height,-i.x,-i.y,t.width,t.height),this._context.restore()}drawText(t,e,s,i,o="left"){this._context.save(),this._context.scale(this._scale.x,this._scale.y),this._context.fillStyle=s,this._context.font=e,this._context.textAlign=o,this._context.fillText(t,i.x,i.y),this._context.restore()}changeCursor(t){this._canvas.style.cursor=t}}(n,_),window.addEventListener("resize",e.Canvas2D.resizeCanvas.bind(e.Canvas2D))},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);e.Assets=new class{constructor(){this._sprites=new Map,this._sounds=new Map}async loadGameAssets(){await this.loadGameSprites(),await this.loadGameSounds()}getSprite(t){return this._sprites.get(t)}getSound(t){return this._sounds.get(t).cloneNode(!0)}playSound(t,e){if(i.GAME_CONFIG.SOUND_ON){const s=this.getSound(t);s.volume=e,s.play()}}loadSprite(t){const e=new Image;return this._sprites.set(t,e),new Promise(s=>{e.onload=(()=>s()),e.src=i.GAME_CONFIG.SPRITES_BASE_PATH+t})}async loadGameSprites(){const t=Object.values(i.GAME_CONFIG.SPRITES).map(this.loadSprite.bind(this));await Promise.all(t)}loadSound(t){const e=new Audio;return this._sounds.set(t,e),new Promise(s=>{e.src=i.GAME_CONFIG.SOUNDS_BASE_PATH+t,s()})}async loadGameSounds(){const t=Object.values(i.GAME_CONFIG.SOUNDS).map(this.loadSound.bind(this));await Promise.all(t)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(t,e){this._x=t,this._y=e}get x(){return this._x}get y(){return this._y}static get zero(){return new i(0,0)}get length(){return Math.sqrt(Math.pow(this._x,2)+Math.pow(this._y,2))}static copy(t){return new i(t.x,t.y)}addX(t){return new i(this._x,this._y).addToX(t)}addY(t){return new i(this._x,this._y).addToY(t)}addToX(t){return this._x+=t,this}addToY(t){return this._y+=t,this}addTo(t){return this.addToX(t.x).addToY(t.y)}add(t){return new i(this._x,this._y).addTo(t)}subtractTo(t){return this._x-=t.x,this._y-=t.y,this}subtract(t){return new i(this._x,this._y).subtractTo(t)}mult(t){return new i(this._x,this._y).multBy(t)}multBy(t){return this._x*=t,this._y*=t,this}dot(t){return this._x*t.x+this._y*t.y}distFrom(t){return this.subtract(t).length}}e.Vector2=i},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(7),o=s(1),n=s(3);e.Mouse=new class{constructor(){this._buttonStates=[];for(let t=0;t<3;t++)this._buttonStates[t]=new i.ButtonState;this._position=n.Vector2.zero,document.addEventListener("mousemove",t=>this.handleMouseMove(t)),document.addEventListener("mousedown",t=>this.handleMouseDown(t)),document.addEventListener("mouseup",t=>this.handleMouseUp(t))}get position(){return n.Vector2.copy(this._position)}handleMouseMove(t){const e=(t.pageX-o.Canvas2D.offsetX)/o.Canvas2D.scaleX,s=(t.pageY-o.Canvas2D.offsetY)/o.Canvas2D.scaleY;this._position=new n.Vector2(e,s)}handleMouseDown(t){this._buttonStates[t.button].down=!0,this._buttonStates[t.button].pressed=!0}handleMouseUp(t){this._buttonStates[t.button].down=!1}reset(){for(let t=0;t<3;t++)this._buttonStates[t].pressed=!1}isDown(t){return this._buttonStates[t].down}isPressed(t){return this._buttonStates[t].pressed}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.white="#BABABA",t.black="#2B2B2B",t.red="#B62A2F",t.yellow="#FECA34"}(e.Color||(e.Color={}))},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.CONTINUE=0]="CONTINUE",t[t.PVP=1]="PVP",t[t.PVC=2]="PVC",t[t.ToggleSound=3]="ToggleSound",t[t.GoToSubMenu=4]="GoToSubMenu",t[t.GoToPreviousMenu=5]="GoToPreviousMenu"}(e.MenuActionType||(e.MenuActionType={}))},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ButtonState=class{constructor(){this.down=!1,this.pressed=!1}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapRange=((t,e,s,i,o)=>{let n=(t-e)*(o-i)/(s-e)+i;return n=(n=n<i?i:n)>o?o:n})},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(7);e.Keyboard=new class{constructor(){this._keyStates=[];for(let t=0;t<256;t++)this._keyStates[t]=new i.ButtonState;document.addEventListener("keyup",t=>this.handleKeyUp(t)),document.addEventListener("keydown",t=>this.handleKeyDown(t))}handleKeyUp(t){this._keyStates[t.keyCode].down=!1}handleKeyDown(t){this._keyStates[t.keyCode].pressed=!0,this._keyStates[t.keyCode].down=!0}reset(){for(let t=0;t<256;t++)this._keyStates[t].pressed=!1}isDown(t){return this._keyStates[t].down}isPressed(t){return this._keyStates[t].pressed}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(24),o=s(11),n=s(12),_=s(13),r=s(14),a=s(0),l=s(6),c=s(15),h=s(2),u=s(18),E=s(9),O=s(1),d=s(4);class T{constructor(){this._previousMenus=[],this._menu=new c.Menu}initMenuActions(){this._menuActionsMap=new Map,this._menuActionsMap.set(l.MenuActionType.PVP,new r.PVPCommand(this)),this._menuActionsMap.set(l.MenuActionType.PVC,new _.PVCCommand(this)),this._menuActionsMap.set(l.MenuActionType.ToggleSound,new n.ToggleSoundCommand),this._menuActionsMap.set(l.MenuActionType.GoToSubMenu,new o.GoToSubMenuCommand(this)),this._menuActionsMap.set(l.MenuActionType.GoToPreviousMenu,new i.GoToPreviousMenuCommand(this))}initMainMenu(){this._menu.init(this._menuActionsMap,a.GAME_CONFIG.MAIN_MENU_CONFIG)}async init(){await h.Assets.loadGameAssets(),this.initMenuActions(),this.initMainMenu(),this._menu.active=!0,this._poolGame=new u.GameWorld,this.gameLoop()}goToSubMenu(t){this._menu&&(this._menu.active=!1,this._previousMenus.push(this._menu)),this._menu=this._menu.getSubMenu(t),this._menu.active=!0}goToPreviousMenu(){this._previousMenus.length>0&&(this._menu.active=!1,this._menu=this._previousMenus.pop(),this._menu.active=!0)}start(){this.displayLoadingScreen().then(()=>{this._menu.active=!1,this._poolGame=new u.GameWorld,this._poolGame.initMatch()})}displayLoadingScreen(){return new Promise(t=>{this._isLoading=!0,O.Canvas2D.clear(),O.Canvas2D.drawImage(h.Assets.getSprite(a.GAME_CONFIG.SPRITES.CONTROLS),a.GAME_CONFIG.LOADING_SCREEN_IMAGE_POSITION),setTimeout(()=>{this._isLoading=!1,t()},a.GAME_CONFIG.LOADING_SCREEN_TIMEOUT)})}handleInput(){!this._menu.active&&E.Keyboard.isPressed(a.GAME_CONFIG.BACK_TO_MENU_KEY)&&(this.initMainMenu(),this._menu.active=!0)}update(){this._isLoading||(this.handleInput(),this._menu.active?this._menu.update():this._poolGame.update(),E.Keyboard.reset(),d.Mouse.reset())}draw(){this._isLoading||(O.Canvas2D.clear(),this._menu.active?this._menu.draw():this._poolGame.draw())}gameLoop(){this.update(),this.draw(),window.requestAnimationFrame(()=>{this.gameLoop()})}}e.Game=T,(new T).init()},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.GoToSubMenuCommand=class{constructor(t){this._game=t}execute(t){this._game.goToSubMenu(t)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0);e.ToggleSoundCommand=class{toggleMuteButtonSprite(){const t=i.GAME_CONFIG.SPRITES.MUTE_BUTTON,e=i.GAME_CONFIG.SPRITES.MUTE_BUTTON_HOVERED;i.GAME_CONFIG.SPRITES.MUTE_BUTTON=i.GAME_CONFIG.SPRITES.MUTE_BUTTON_PRESSED,i.GAME_CONFIG.SPRITES.MUTE_BUTTON_HOVERED=i.GAME_CONFIG.SPRITES.MUTE_BUTTON_PRESSED_HOVERED,i.GAME_CONFIG.SPRITES.MUTE_BUTTON_PRESSED=t,i.GAME_CONFIG.SPRITES.MUTE_BUTTON_PRESSED_HOVERED=e}execute(){i.GAME_CONFIG.SOUND_ON=!i.GAME_CONFIG.SOUND_ON,this.toggleMuteButtonSprite()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.PVCCommand=class{constructor(t){this._game=t}execute(){this._game.start()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.PVPCommand=class{constructor(t){this._game=t}execute(){this._game.start()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(16),o=s(2),n=s(1),_=s(0),r=s(17);class a{set active(t){this._active=t}get active(){return this._active}init(t,e){this._buttons=e.BUTTONS.map(e=>new i.MenuButton(t.get(e.action),e.value,e.position,e.sprite,e.spriteOnHover)),this._labels=e.LABELS.map(t=>new r.MenuLabel(t.text,t.position,t.font,t.color,t.alignment)),this._subMenus=e.SUB_MENUS.map(e=>{const s=new a;return s.init(t,e),s})}getSubMenu(t){return this._subMenus[t]}update(){this._active&&this._buttons.forEach(t=>t.update()),this._subMenus.forEach(t=>t.update())}draw(){this._active&&(n.Canvas2D.changeCursor(_.GAME_CONFIG.DEFAULT_CURSOR),n.Canvas2D.drawImage(o.Assets.getSprite(_.GAME_CONFIG.SPRITES.MAIN_MENU_BACKGROUND)),this._labels.forEach(t=>t.draw()),this._buttons.forEach(t=>t.draw())),this._subMenus.forEach(t=>t.draw())}}e.Menu=a},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),o=s(4),n=s(1),_=s(2);e.MenuButton=class{constructor(t,e,s,o,n){this._command=t,this._value=e,this._position=s,this._spriteKey=o,this._spriteOnHoverKey=n,this._activeSprite=_.Assets.getSprite(i.GAME_CONFIG.SPRITES[this._spriteKey])}set hovered(t){this._hovered=t}isInsideButton(t){return t.x>this._position.x&&t.x<this._position.x+this._activeSprite.width&&t.y>this._position.y&&t.y<this._position.y+this._activeSprite.height}handleInput(){this.hovered=this.isInsideButton(o.Mouse.position),this._activeSprite=this._hovered?_.Assets.getSprite(i.GAME_CONFIG.SPRITES[this._spriteOnHoverKey]):_.Assets.getSprite(i.GAME_CONFIG.SPRITES[this._spriteKey]),this._hovered&&o.Mouse.isPressed(i.GAME_CONFIG.SELECT_MOUSE_BUTTON)&&(n.Canvas2D.changeCursor(i.GAME_CONFIG.DEFAULT_CURSOR),this._command.execute(this._value))}update(){this.handleInput()}draw(){this._hovered&&n.Canvas2D.changeCursor(i.GAME_CONFIG.BUTTON_CURSOR),n.Canvas2D.drawImage(this._activeSprite,this._position)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(1);e.MenuLabel=class{constructor(t,e,s,i,o){this._text=t,this._position=e,this._font=s,this._color=i,this._alignment=o}draw(){i.Canvas2D.drawText(this._text,this._font,this._color,this._position,this._alignment)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(8),o=s(19),n=s(20),_=s(21),r=s(5),a=s(3),l=s(0),c=s(2),h=s(1),u=s(22),E=s(4),O=s(23);e.GameWorld=class{constructor(){this._players=[new n.Player,new n.Player],this._currentPlayerIndex=0,this.initMatch()}get currentPlayer(){return this._players[this._currentPlayerIndex]}get nextPlayer(){return this._players[(this._currentPlayerIndex+1)%this._players.length]}getBallsByColor(t){return this._balls.filter(e=>e.color===t)}shootCueBall(){this._stick.power>0&&(this._stick.shoot(),this._cueBall.shoot(this._stick.power,this._stick.rotation),this._stick.movable=!1,setTimeout(()=>this._stick.hide(),l.GAME_CONFIG.TIMEOUT_TO_HIDE_STICK_AFTER_SHOT))}handleInput(){E.Mouse.isPressed(l.GAME_CONFIG.SHOOT_MOUSE_BUTTON)&&this.shootCueBall()}resolveBallCollisionWithCushion(t){const e=l.GAME_CONFIG.BALL_DIAMETER/2,s=t.nextPosition.y-e,i=t.nextPosition.x-e,o=t.nextPosition.x+e,n=t.nextPosition.y+e;let _=!1;s<=l.GAME_CONFIG.CUSHION_WIDTH&&(t.position=t.position.addY(l.GAME_CONFIG.CUSHION_WIDTH-t.position.y+e),t.velocity=new a.Vector2(t.velocity.x,-t.velocity.y),_=!0),i<=l.GAME_CONFIG.CUSHION_WIDTH&&(t.position=t.position.addX(l.GAME_CONFIG.CUSHION_WIDTH-t.position.x+e),t.velocity=new a.Vector2(-t.velocity.x,t.velocity.y),_=!0),o>=l.GAME_CONFIG.GAME_WIDTH-l.GAME_CONFIG.CUSHION_WIDTH&&(t.position=t.position.addX(l.GAME_CONFIG.GAME_WIDTH-l.GAME_CONFIG.CUSHION_WIDTH-t.position.x-e),t.velocity=new a.Vector2(-t.velocity.x,t.velocity.y),_=!0),n>=l.GAME_CONFIG.GAME_HEIGHT-l.GAME_CONFIG.CUSHION_WIDTH&&(t.position=t.position.addY(l.GAME_CONFIG.GAME_HEIGHT-l.GAME_CONFIG.CUSHION_WIDTH-t.position.y-e),t.velocity=new a.Vector2(t.velocity.x,-t.velocity.y),_=!0),_&&(t.velocity=t.velocity.mult(1-l.GAME_CONFIG.COLLISION_LOSS))}resolveBallsCollision(t,e){if(!t.visible||!e.visible)return!1;const s=t.position.subtract(e.position),i=s.length;if(i>l.GAME_CONFIG.BALL_DIAMETER)return!1;const o=s.mult((l.GAME_CONFIG.BALL_DIAMETER-i)/i);t.position=t.position.add(o.mult(.5)),e.position=e.position.subtract(o.mult(.5));const n=s.mult(1/s.length),_=new a.Vector2(-n.y,n.x),r=n.dot(t.velocity),c=_.dot(t.velocity),h=n.dot(e.velocity),u=_.dot(e.velocity),E=n.mult(h),O=_.mult(c),d=n.mult(r),T=_.mult(u);return t.velocity=E.add(O),e.velocity=d.add(T),t.velocity=t.velocity.mult(1-l.GAME_CONFIG.COLLISION_LOSS),e.velocity=e.velocity.mult(1-l.GAME_CONFIG.COLLISION_LOSS),!0}handleCollisions(){for(let t=0;t<this._balls.length;t++){this.resolveBallCollisionWithCushion(this._balls[t]);for(let e=t+1;e<this._balls.length;e++){const s=this._balls[t],o=this._balls[e];if(this.resolveBallsCollision(s,o)){const t=s.velocity.length+o.velocity.length,e=i.mapRange(t,0,l.GAME_CONFIG.MAX_BALL_EXPECTED_COLLISION_FORCE,0,1);if(c.Assets.playSound(l.GAME_CONFIG.SOUNDS.BALLS_COLLIDE,e),!this._turnState.firstCollidedBallColor){const t=s.color===r.Color.white?o.color:s.color;this._turnState.firstCollidedBallColor=t}}}}}isInsidePocket(t){return l.GAME_CONFIG.POCKETS_POSITIONS.some(e=>t.distFrom(e)<=l.GAME_CONFIG.POCKET_RADIUS)}resolveBallInPocket(t){this.isInsidePocket(t.position)&&t.hide()}isValidPlayerColor(t){return t===r.Color.red||t===r.Color.yellow}handleBallsInPockets(){this._balls.forEach(t=>{this.resolveBallInPocket(t),t.visible||this._turnState.pocketedBalls.includes(t)||(c.Assets.playSound(l.GAME_CONFIG.SOUNDS.RAIL,1),!this.currentPlayer.color&&this.isValidPlayerColor(t.color)&&(this.currentPlayer.color=t.color,this.nextPlayer.color=t.color===r.Color.yellow?r.Color.red:r.Color.yellow),this._turnState.pocketedBalls.push(t))})}handleBallInHand(){E.Mouse.isPressed(l.GAME_CONFIG.PLACE_BALL_IN_HAND_MOUSE_BUTTON)?(this._turnState.ballInHand=!1,this._stick.show(this._cueBall.position)):(this._stick.movable=!1,this._stick.visible=!1,this._cueBall.position=E.Mouse.position)}ballsMoving(){return this._balls.some(t=>t.moving)}concludeTurn(){this._turnState.pocketedBalls.forEach(t=>{const e=this._balls.indexOf(t);t.color!=r.Color.white&&this._balls.splice(e,1)}),this.currentPlayer.color&&(this.currentPlayer.matchScore=8-this.getBallsByColor(this.currentPlayer.color).length-this.getBallsByColor(r.Color.black).length),this.nextPlayer.color&&(this.nextPlayer.matchScore=8-this.getBallsByColor(this.nextPlayer.color).length-this.getBallsByColor(r.Color.black).length),this._turnState.isValid=this._referee.isValidTurn(this.currentPlayer,this._turnState)}handleGameOver(){this._turnState.isValid?this.currentPlayer.overallScore++:this.nextPlayer.overallScore++,this.initMatch()}nextTurn(){const t=!this._turnState.isValid;this._referee.isGameOver(this.currentPlayer,this._cueBall,this._8Ball)?this.handleGameOver():(this._cueBall.visible||this._cueBall.show(a.Vector2.copy(l.GAME_CONFIG.CUE_BALL_POSITION)),(t||0===this._turnState.pocketedBalls.length)&&(this._currentPlayerIndex++,this._currentPlayerIndex=this._currentPlayerIndex%this._players.length),this._stick.show(this._cueBall.position),this._turnState=new O.State,this._turnState.ballInHand=t)}drawCurrentPlayerLabel(){h.Canvas2D.drawText(l.GAME_CONFIG.CURRENT_PLAYER_LABEL+(this._currentPlayerIndex+1),l.GAME_CONFIG.CURRENT_PLAYER_LABEL_FONT,l.GAME_CONFIG.CURRENT_PLAYER_LABEL_COLOR,l.GAME_CONFIG.CURRENT_PLAYER_LABEL_POSITION,l.GAME_CONFIG.CURRENT_PLAYER_LABEL_ALIGNMENT)}drawMatchScores(){for(let t=0;t<this._players.length;t++)for(let e=0;e<this._players[t].matchScore;e++){const s=a.Vector2.copy(l.GAME_CONFIG.MATCH_SCORE_POSITIONS[t]).addToX(e*l.GAME_CONFIG.MATCH_SCORE_MARGIN),i=this._players[t].color===r.Color.red?c.Assets.getSprite(l.GAME_CONFIG.SPRITES.RED_SCORE):c.Assets.getSprite(l.GAME_CONFIG.SPRITES.YELLOW_SCORE);h.Canvas2D.drawImage(i,s)}}drawOverallScores(){for(let t=0;t<this._players.length;t++)h.Canvas2D.drawText(this._players[t].overallScore.toString(),l.GAME_CONFIG.OVERALL_SCORE_LABEL_FONT,l.GAME_CONFIG.OVERALL_SCORE_LABEL_COLOR,l.GAME_CONFIG.OVERALL_SCORE_LABELS_POSITIONS[t],l.GAME_CONFIG.OVERALL_SCORE_LABELS_ALIGNMENT)}initMatch(){const t=l.GAME_CONFIG.RED_BALLS_POSITIONS.map(t=>new u.Ball(a.Vector2.copy(t),r.Color.yellow)),e=l.GAME_CONFIG.YELLOW_BALLS_POSITIONS.map(t=>new u.Ball(a.Vector2.copy(t),r.Color.red));this._8Ball=new u.Ball(a.Vector2.copy(l.GAME_CONFIG.EIGHT_BALL_POSITION),r.Color.black),this._cueBall=new u.Ball(a.Vector2.copy(l.GAME_CONFIG.CUE_BALL_POSITION),r.Color.white),this._stick=new _.Stick(a.Vector2.copy(l.GAME_CONFIG.CUE_BALL_POSITION)),this._balls=[...t,...e,this._8Ball,this._cueBall],this._currentPlayerIndex=0,this._players.forEach(t=>{t.matchScore=0,t.color=null}),this._turnState=new O.State,this._referee=new o.Referee}update(){this._turnState.ballInHand?this.handleBallInHand():(this.handleBallsInPockets(),this.handleCollisions(),this.handleInput(),this._stick.update(),this._balls.forEach(t=>t.update()),this.ballsMoving()||this._stick.visible||(this.concludeTurn(),this.nextTurn()))}draw(){h.Canvas2D.drawImage(c.Assets.getSprite(l.GAME_CONFIG.SPRITES.TABLE)),this.drawCurrentPlayerLabel(),this.drawMatchScores(),this.drawOverallScores(),this._balls.forEach(t=>t.draw()),this._stick.draw()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(5);e.Referee=class{isValidFirstTouch(t,e){return!!e&&(t.color?t.color===e||7===t.matchScore&&e===i.Color.black||8===t.matchScore&&e===i.Color.black:e!==i.Color.black)}isValidPocketedBalls(t,e){if(0===e.length)return!0;if(t.color)return 8===t.matchScore?1===e.length&&e[0].color===i.Color.black:e.every(e=>e.color===t.color);{const t=e[0].color;return t!==i.Color.white&&t!==i.Color.black&&e.every(e=>e.color===t)}}isValidTurn(t,e){return this.isValidFirstTouch(t,e.firstCollidedBallColor)&&this.isValidPocketedBalls(t,e.pocketedBalls)}isGameOver(t,e,s){return!s.visible||!e.visible&&7===t.matchScore||!e.visible&&8===t.matchScore}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Player=class{constructor(){this.matchScore=0,this.overallScore=0}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(9),o=s(4),n=s(0),_=s(2),r=s(1),a=s(3),l=s(8);e.Stick=class{constructor(t){this._position=t,this._sprite=_.Assets.getSprite(n.GAME_CONFIG.SPRITES.STICK),this._rotation=0,this._origin=a.Vector2.copy(n.GAME_CONFIG.STICK_ORIGIN),this._power=0,this._movable=!0,this._visible=!0}get position(){return a.Vector2.copy(this._position)}get rotation(){return this._rotation}get power(){return this._power}set movable(t){this._movable=t}get visible(){return this._visible}set visible(t){this._visible=t}increasePower(){this._power+=n.GAME_CONFIG.POWER_TO_ADD_PER_FRAME,this._origin.addToX(n.GAME_CONFIG.STICK_MOVEMENT_PER_FRAME)}decreasePower(){this._power-=n.GAME_CONFIG.POWER_TO_ADD_PER_FRAME,this._origin.addToX(-n.GAME_CONFIG.STICK_MOVEMENT_PER_FRAME)}isLessThanMaxPower(){return this._power<n.GAME_CONFIG.STICK_MAX_POWER}isMoreThanMinPower(){return this._power>=0}updatePower(){i.Keyboard.isDown(n.GAME_CONFIG.INCREASE_SHOT_POWER_KEY)&&this.isLessThanMaxPower()?this.increasePower():i.Keyboard.isDown(n.GAME_CONFIG.DECREASE_SHOT_POWER_KEY)&&this.isMoreThanMinPower()&&this.decreasePower()}updateRotation(){const t=o.Mouse.position.y-this._position.y,e=o.Mouse.position.x-this._position.x;this._rotation=Math.atan2(t,e)}hide(){this._power=0,this._visible=!1,this._movable=!1}show(t){this._position=t,this._origin=a.Vector2.copy(n.GAME_CONFIG.STICK_ORIGIN),this._movable=!0,this._visible=!0}shoot(){this._origin=a.Vector2.copy(n.GAME_CONFIG.STICK_SHOT_ORIGIN);const t=l.mapRange(this._power,0,n.GAME_CONFIG.STICK_MAX_POWER,0,1);_.Assets.playSound(n.GAME_CONFIG.SOUNDS.STRIKE,t)}update(){this._movable&&(this.updateRotation(),this.updatePower())}draw(){this._visible&&r.Canvas2D.drawImage(this._sprite,this._position,this._rotation,this._origin)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),o=s(1),n=s(5),_=s(3),r=s(2);e.Ball=class{constructor(t,e){this._position=t,this._velocity=_.Vector2.zero,this._moving=!1,this._visible=!0,this._color=e,this.resolveSprite(e)}get position(){return _.Vector2.copy(this._position)}set position(t){this._position=t}get nextPosition(){return this.position.add(this._velocity.mult(1-i.GAME_CONFIG.FRICTION))}get velocity(){return _.Vector2.copy(this._velocity)}set velocity(t){this._moving=t.length>0,this._velocity=t}get moving(){return this._moving}get color(){return this._color}get visible(){return this._visible}resolveSprite(t){switch(t){case n.Color.white:this._sprite=r.Assets.getSprite(i.GAME_CONFIG.SPRITES.CUE_BALL);break;case n.Color.black:this._sprite=r.Assets.getSprite(i.GAME_CONFIG.SPRITES.BLACK_BALL);break;case n.Color.red:this._sprite=r.Assets.getSprite(i.GAME_CONFIG.SPRITES.RED_BALL);break;case n.Color.yellow:this._sprite=r.Assets.getSprite(i.GAME_CONFIG.SPRITES.YELLOW_BALL)}}shoot(t,e){this._velocity=new _.Vector2(t*Math.cos(e),t*Math.sin(e)),this._moving=!0}show(t){this._position=t,this._velocity=_.Vector2.zero,this._visible=!0}hide(){this._velocity=_.Vector2.zero,this._moving=!1,this._visible=!1}update(){this._moving&&(this._velocity.multBy(1-i.GAME_CONFIG.FRICTION),this._position.addTo(this._velocity),this._velocity.length<i.GAME_CONFIG.BALL_MIN_VELOCITY_LENGTH&&(this.velocity=_.Vector2.zero,this._moving=!1))}draw(){this._visible&&o.Canvas2D.drawImage(this._sprite,this._position,0,i.GAME_CONFIG.BALL_ORIGIN)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.State=class{constructor(){this.pocketedBalls=[],this.ballInHand=!1,this.isValid=!1}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.GoToPreviousMenuCommand=class{constructor(t){this._game=t}execute(){this._game.goToPreviousMenu()}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUuY29uZmlnLnRzIiwid2VicGFjazovLy8uL3NyYy9DYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Fzc2V0cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2VvbS9WZWN0b3IyLnRzIiwid2VicGFjazovLy8uL3NyYy9pbnB1dC9Nb3VzZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0NvbG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9tZW51L01lbnVBY3Rpb25UeXBlLnRzIiwid2VicGFjazovLy8uL3NyYy9pbnB1dC9CdXR0b25TdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0hlbHBlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5wdXQvS2V5Ym9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21lbnUvY29tbWFuZHMvR29Ub1N1Yk1lbnVDb21tYW5kLnRzIiwid2VicGFjazovLy8uL3NyYy9tZW51L2NvbW1hbmRzL1RvZ2dsZVNvdW5kQ29tbWFuZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWVudS9jb21tYW5kcy9QVkNDb21tYW5kLnRzIiwid2VicGFjazovLy8uL3NyYy9tZW51L2NvbW1hbmRzL1BWUENvbW1hbmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21lbnUvTWVudS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWVudS9NZW51QnV0dG9uLnRzIiwid2VicGFjazovLy8uL3NyYy9tZW51L01lbnVMYWJlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS1vYmplY3RzL0dhbWVXb3JsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS1vYmplY3RzL1JlZmVyZWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUtb2JqZWN0cy9QbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUtb2JqZWN0cy9TdGljay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS1vYmplY3RzL0JhbGwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUtb2JqZWN0cy9TdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWVudS9jb21tYW5kcy9Hb1RvUHJldmlvdXNNZW51Q29tbWFuZC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIk1lbnVBY3Rpb25UeXBlXzEiLCJHQU1FX0NPTkZJRyIsIkdBTUVfV0lEVEgiLCJHQU1FX0hFSUdIVCIsIlJFRF9CQUxMU19QT1NJVElPTlMiLCJ4IiwieSIsIllFTExPV19CQUxMU19QT1NJVElPTlMiLCJDVUVfQkFMTF9QT1NJVElPTiIsIkVJR0hUX0JBTExfUE9TSVRJT04iLCJNQVRDSF9TQ09SRV9QT1NJVElPTlMiLCJNQVRDSF9TQ09SRV9NQVJHSU4iLCJPVkVSQUxMX1NDT1JFX0xBQkVMU19QT1NJVElPTlMiLCJPVkVSQUxMX1NDT1JFX0xBQkVMX0ZPTlQiLCJPVkVSQUxMX1NDT1JFX0xBQkVMX0NPTE9SIiwiT1ZFUkFMTF9TQ09SRV9MQUJFTF9BTElHTk1FTlQiLCJTUFJJVEVTX0JBU0VfUEFUSCIsIlNQUklURVMiLCJNQUlOX01FTlVfQkFDS0dST1VORCIsIlRBQkxFIiwiQ1VFX0JBTEwiLCJSRURfQkFMTCIsIllFTExPV19CQUxMIiwiQkxBQ0tfQkFMTCIsIlNUSUNLIiwiVFdPX1BMQVlFUlNfQlVUVE9OIiwiVFdPX1BMQVlFUlNfQlVUVE9OX0hPVkVSRUQiLCJPTkVfUExBWUVSX0JVVFRPTiIsIk9ORV9QTEFZRVJfQlVUVE9OX0hPVkVSRUQiLCJNVVRFX0JVVFRPTiIsIk1VVEVfQlVUVE9OX0hPVkVSRUQiLCJNVVRFX0JVVFRPTl9QUkVTU0VEIiwiTVVURV9CVVRUT05fUFJFU1NFRF9IT1ZFUkVEIiwiRUFTWV9CVVRUT04iLCJFQVNZX0JVVFRPTl9IT1ZFUkVEIiwiTUVESVVNX0JVVFRPTiIsIk1FRElVTV9CVVRUT05fSE9WRVJFRCIsIkhBUkRfQlVUVE9OIiwiSEFSRF9CVVRUT05fSE9WRVJFRCIsIkJBQ0tfQlVUVE9OIiwiQkFDS19CVVRUT05fSE9WRVJFRCIsIkNPTlRJTlVFX0JVVFRPTiIsIkNPTlRJTlVFX0JVVFRPTl9IT1ZFUkVEIiwiSU5TQU5FX0JVVFRPTiIsIklOU0FORV9CVVRUT05fSE9WRVJFRCIsIkFCT1VUX0JVVFRPTiIsIkFCT1VUX0JVVFRPTl9IT1ZFUkVEIiwiQ09OVFJPTFMiLCJSRURfU0NPUkUiLCJZRUxMT1dfU0NPUkUiLCJTT1VORFNfQkFTRV9QQVRIIiwiU09VTkRTIiwiQkFMTFNfQ09MTElERSIsIlNUUklLRSIsIlJBSUwiLCJNVVNJQyIsIkZSSUNUSU9OIiwiQ09MTElTSU9OX0xPU1MiLCJDVVNISU9OX1dJRFRIIiwiUE9DS0VUX1JBRElVUyIsIlBPQ0tFVFNfUE9TSVRJT05TIiwiQ1VSUkVOVF9QTEFZRVJfTEFCRUxfUE9TSVRJT04iLCJDVVJSRU5UX1BMQVlFUl9MQUJFTF9DT0xPUiIsIkNVUlJFTlRfUExBWUVSX0xBQkVMIiwiQ1VSUkVOVF9QTEFZRVJfTEFCRUxfRk9OVCIsIkNVUlJFTlRfUExBWUVSX0xBQkVMX0FMSUdOTUVOVCIsIkJBTExfRElBTUVURVIiLCJCQUxMX09SSUdJTiIsIkJBTExfTUlOX1ZFTE9DSVRZX0xFTkdUSCIsIk1BWF9CQUxMX0VYUEVDVEVEX1ZFTE9DSVRZIiwiTUFYX0JBTExfRVhQRUNURURfQ09MTElTSU9OX0ZPUkNFIiwiU1RJQ0tfT1JJR0lOIiwiU1RJQ0tfU0hPVF9PUklHSU4iLCJQT1dFUl9UT19BRERfUEVSX0ZSQU1FIiwiU1RJQ0tfTU9WRU1FTlRfUEVSX0ZSQU1FIiwiU1RJQ0tfTUFYX1BPV0VSIiwiU0VMRUNUX01PVVNFX0JVVFRPTiIsIlNIT09UX01PVVNFX0JVVFRPTiIsIlBMQUNFX0JBTExfSU5fSEFORF9NT1VTRV9CVVRUT04iLCJJTkNSRUFTRV9TSE9UX1BPV0VSX0tFWSIsIkRFQ1JFQVNFX1NIT1RfUE9XRVJfS0VZIiwiQkFDS19UT19NRU5VX0tFWSIsIlRJTUVPVVRfVE9fSElERV9TVElDS19BRlRFUl9TSE9UIiwiVElNT1VUX1RPX0hJREVfQkFMTF9BRlRFUl9QT0NLRVQiLCJMT0FESU5HX1NDUkVFTl9USU1FT1VUIiwiTUFJTl9NRU5VX0NPTkZJRyIsIkxBQkVMUyIsInRleHQiLCJwb3NpdGlvbiIsImZvbnQiLCJjb2xvciIsImFsaWdubWVudCIsIkRhdGUiLCJnZXRGdWxsWWVhciIsIkJVVFRPTlMiLCJhY3Rpb24iLCJNZW51QWN0aW9uVHlwZSIsIlBWUCIsInNwcml0ZSIsInNwcml0ZU9uSG92ZXIiLCJHb1RvU3ViTWVudSIsIlRvZ2dsZVNvdW5kIiwiU1VCX01FTlVTIiwiR29Ub1ByZXZpb3VzTWVudSIsIkRFRkFVTFRfQ1VSU09SIiwiQlVUVE9OX0NVUlNPUiIsIkxPQURJTkdfU0NSRUVOX0lNQUdFX1BPU0lUSU9OIiwiU09VTkRfT04iLCJnYW1lX2NvbmZpZ18xIiwiVmVjdG9yMl8xIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNvbnRhaW5lciIsIkNhbnZhczJEIiwic2NhbGVYIiwidGhpcyIsIl9zY2FsZSIsInNjYWxlWSIsIm9mZnNldFgiLCJfb2Zmc2V0Iiwib2Zmc2V0WSIsIltvYmplY3QgT2JqZWN0XSIsImNhbnZhc0NvbnRhaW5lciIsIl9jYW52YXNDb250YWluZXIiLCJfY2FudmFzIiwiX2NvbnRleHQiLCJnZXRDb250ZXh0IiwicmVzaXplQ2FudmFzIiwib3JpZ2luYWxDYW52YXNXaWR0aCIsIm9yaWdpbmFsQ2FudmFzSGVpZ2h0Iiwid2lkdGhUb0hlaWdodCIsIm5ld0hlaWdodCIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwibmV3V2lkdGgiLCJpbm5lcldpZHRoIiwic3R5bGUiLCJ3aWR0aCIsImhlaWdodCIsIm1hcmdpblRvcCIsIm1hcmdpbkxlZnQiLCJtYXJnaW5Cb3R0b20iLCJtYXJnaW5SaWdodCIsIlZlY3RvcjIiLCJvZmZzZXRQYXJlbnQiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwiY2xlYXJSZWN0IiwiemVybyIsInJvdGF0aW9uIiwib3JpZ2luIiwic2F2ZSIsInNjYWxlIiwidHJhbnNsYXRlIiwicm90YXRlIiwiZHJhd0ltYWdlIiwicmVzdG9yZSIsInRleHRBbGlnbiIsImZpbGxTdHlsZSIsImZpbGxUZXh0IiwiY3Vyc29yIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkFzc2V0cyIsIl9zcHJpdGVzIiwiTWFwIiwiX3NvdW5kcyIsImxvYWRHYW1lU3ByaXRlcyIsImxvYWRHYW1lU291bmRzIiwiY2xvbmVOb2RlIiwidm9sdW1lIiwic291bmQiLCJnZXRTb3VuZCIsInBsYXkiLCJwYXRoIiwiaW1nIiwiSW1hZ2UiLCJzZXQiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm9ubG9hZCIsInNyYyIsImxvYWRQcm9taXNlcyIsInZhbHVlcyIsIm1hcCIsImxvYWRTcHJpdGUiLCJhbGwiLCJhdWRpbyIsIkF1ZGlvIiwibG9hZFNvdW5kIiwiX3giLCJfeSIsImxlbmd0aCIsIk1hdGgiLCJzcXJ0IiwicG93IiwidmVjdG9yIiwiYWRkVG9YIiwiYWRkVG9ZIiwiYWRkVG8iLCJzdWJ0cmFjdFRvIiwidiIsIm11bHRCeSIsInN1YnRyYWN0IiwiQnV0dG9uU3RhdGVfMSIsIkNhbnZhc18xIiwiTW91c2UiLCJfYnV0dG9uU3RhdGVzIiwiQnV0dG9uU3RhdGUiLCJfcG9zaXRpb24iLCJldmVudCIsImhhbmRsZU1vdXNlTW92ZSIsImhhbmRsZU1vdXNlRG93biIsImhhbmRsZU1vdXNlVXAiLCJjb3B5IiwibW91c2VYIiwicGFnZVgiLCJtb3VzZVkiLCJwYWdlWSIsImJ1dHRvbiIsImRvd24iLCJwcmVzc2VkIiwiQ29sb3IiLCJtYXBSYW5nZSIsIm51bSIsImluX21pbiIsImluX21heCIsIm91dF9taW4iLCJvdXRfbWF4IiwiS2V5Ym9hcmQiLCJfa2V5U3RhdGVzIiwiaGFuZGxlS2V5VXAiLCJoYW5kbGVLZXlEb3duIiwia2V5Q29kZSIsIkdvVG9QcmV2aW91c01lbnVDb21tYW5kXzEiLCJHb1RvU3ViTWVudUNvbW1hbmRfMSIsIlRvZ2dsZVNvdW5kQ29tbWFuZF8xIiwiUFZDQ29tbWFuZF8xIiwiUFZQQ29tbWFuZF8xIiwiTWVudV8xIiwiQXNzZXRzXzEiLCJHYW1lV29ybGRfMSIsIktleWJvYXJkXzEiLCJNb3VzZV8xIiwiR2FtZSIsIl9wcmV2aW91c01lbnVzIiwiX21lbnUiLCJNZW51IiwiX21lbnVBY3Rpb25zTWFwIiwiUFZQQ29tbWFuZCIsIlBWQyIsIlBWQ0NvbW1hbmQiLCJUb2dnbGVTb3VuZENvbW1hbmQiLCJHb1RvU3ViTWVudUNvbW1hbmQiLCJHb1RvUHJldmlvdXNNZW51Q29tbWFuZCIsImluaXQiLCJsb2FkR2FtZUFzc2V0cyIsImluaXRNZW51QWN0aW9ucyIsImluaXRNYWluTWVudSIsImFjdGl2ZSIsIl9wb29sR2FtZSIsIkdhbWVXb3JsZCIsImdhbWVMb29wIiwiaW5kZXgiLCJwdXNoIiwiZ2V0U3ViTWVudSIsInBvcCIsImRpc3BsYXlMb2FkaW5nU2NyZWVuIiwidGhlbiIsImluaXRNYXRjaCIsIl9pc0xvYWRpbmciLCJjbGVhciIsImdldFNwcml0ZSIsInNldFRpbWVvdXQiLCJpc1ByZXNzZWQiLCJoYW5kbGVJbnB1dCIsInVwZGF0ZSIsInJlc2V0IiwiZHJhdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIl9nYW1lIiwiZ29Ub1N1Yk1lbnUiLCJjdXJyZW50TXV0ZUJ1dHRvblBhdGgiLCJjdXJyZW50TXV0ZUJ1dHRvbkhvdmVyZWRQYXRoIiwidG9nZ2xlTXV0ZUJ1dHRvblNwcml0ZSIsInN0YXJ0IiwiTWVudUJ1dHRvbl8xIiwiTWVudUxhYmVsXzEiLCJfYWN0aXZlIiwiYWN0aW9uc01hcCIsImNvbmZpZyIsIl9idXR0b25zIiwiTWVudUJ1dHRvbiIsIl9sYWJlbHMiLCJsYWJlbCIsIk1lbnVMYWJlbCIsIl9zdWJNZW51cyIsIm1lbnUiLCJzdWJNZW51IiwiZm9yRWFjaCIsImNoYW5nZUN1cnNvciIsIl9jb21tYW5kIiwiX3ZhbHVlIiwiX3Nwcml0ZUtleSIsIl9zcHJpdGVPbkhvdmVyS2V5IiwiX2FjdGl2ZVNwcml0ZSIsImhvdmVyZWQiLCJfaG92ZXJlZCIsImlzSW5zaWRlQnV0dG9uIiwiZXhlY3V0ZSIsIl90ZXh0IiwiX2ZvbnQiLCJfY29sb3IiLCJfYWxpZ25tZW50IiwiZHJhd1RleHQiLCJIZWxwZXJfMSIsIlJlZmVyZWVfMSIsIlBsYXllcl8xIiwiU3RpY2tfMSIsIkNvbG9yXzEiLCJCYWxsXzEiLCJTdGF0ZV8xIiwiX3BsYXllcnMiLCJQbGF5ZXIiLCJfY3VycmVudFBsYXllckluZGV4IiwiY3VycmVudFBsYXllciIsIm5leHRQbGF5ZXIiLCJfYmFsbHMiLCJmaWx0ZXIiLCJiYWxsIiwiX3N0aWNrIiwicG93ZXIiLCJzaG9vdCIsIl9jdWVCYWxsIiwibW92YWJsZSIsImhpZGUiLCJzaG9vdEN1ZUJhbGwiLCJiYWxsUmFkaXVzIiwidG9wQmFsbEVkZ2UiLCJuZXh0UG9zaXRpb24iLCJsZWZ0QmFsbEVkZ2UiLCJyaWdodEJhbGxFZGdlIiwiYm90dG9tQmFsbEVkZ2UiLCJjb2xsaWRlZCIsImFkZFkiLCJ2ZWxvY2l0eSIsImFkZFgiLCJtdWx0IiwiZmlyc3QiLCJzZWNvbmQiLCJ2aXNpYmxlIiwiZGlzdCIsIm10ZCIsImFkZCIsInVuIiwidXQiLCJ2MW4iLCJkb3QiLCJ2MXQiLCJ2Mm4iLCJ2MnQiLCJ2MW5UYWciLCJ2MXRUYWciLCJ2Mm5UYWciLCJ2MnRUYWciLCJyZXNvbHZlQmFsbENvbGxpc2lvbldpdGhDdXNoaW9uIiwiaiIsImZpcnN0QmFsbCIsInNlY29uZEJhbGwiLCJyZXNvbHZlQmFsbHNDb2xsaXNpb24iLCJmb3JjZSIsInBsYXlTb3VuZCIsIl90dXJuU3RhdGUiLCJmaXJzdENvbGxpZGVkQmFsbENvbG9yIiwid2hpdGUiLCJzb21lIiwicG9ja2V0UG9zIiwiZGlzdEZyb20iLCJpc0luc2lkZVBvY2tldCIsInJlZCIsInllbGxvdyIsInJlc29sdmVCYWxsSW5Qb2NrZXQiLCJwb2NrZXRlZEJhbGxzIiwiaW5jbHVkZXMiLCJpc1ZhbGlkUGxheWVyQ29sb3IiLCJiYWxsSW5IYW5kIiwic2hvdyIsIm1vdmluZyIsImJhbGxJbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJtYXRjaFNjb3JlIiwiZ2V0QmFsbHNCeUNvbG9yIiwiYmxhY2siLCJpc1ZhbGlkIiwiX3JlZmVyZWUiLCJpc1ZhbGlkVHVybiIsIm92ZXJhbGxTY29yZSIsImZvdWwiLCJpc0dhbWVPdmVyIiwiXzhCYWxsIiwiaGFuZGxlR2FtZU92ZXIiLCJTdGF0ZSIsInNjb3JlUG9zaXRpb24iLCJzY29yZVNwcml0ZSIsInRvU3RyaW5nIiwiT1ZFUkFMTF9TQ09SRV9MQUJFTFNfQUxJR05NRU5UIiwicmVkQmFsbHMiLCJCYWxsIiwieWVsbG93QmFsbHMiLCJTdGljayIsInBsYXllciIsIlJlZmVyZWUiLCJoYW5kbGVCYWxsSW5IYW5kIiwiaGFuZGxlQmFsbHNJblBvY2tldHMiLCJoYW5kbGVDb2xsaXNpb25zIiwiYmFsbHNNb3ZpbmciLCJjb25jbHVkZVR1cm4iLCJuZXh0VHVybiIsImRyYXdDdXJyZW50UGxheWVyTGFiZWwiLCJkcmF3TWF0Y2hTY29yZXMiLCJkcmF3T3ZlcmFsbFNjb3JlcyIsImNvbGxpZGVkQmFsbENvbG9yIiwiZXZlcnkiLCJzdGF0ZSIsImlzVmFsaWRGaXJzdFRvdWNoIiwiaXNWYWxpZFBvY2tldGVkQmFsbHMiLCJjdWVCYWxsIiwiZWlnaHRCYWxsIiwiX3Nwcml0ZSIsIl9yb3RhdGlvbiIsIl9vcmlnaW4iLCJfcG93ZXIiLCJfbW92YWJsZSIsIl92aXNpYmxlIiwiaXNEb3duIiwiaXNMZXNzVGhhbk1heFBvd2VyIiwiaW5jcmVhc2VQb3dlciIsImlzTW9yZVRoYW5NaW5Qb3dlciIsImRlY3JlYXNlUG93ZXIiLCJvcHBvc2l0ZSIsImFkamFjZW50IiwiYXRhbjIiLCJ1cGRhdGVSb3RhdGlvbiIsInVwZGF0ZVBvd2VyIiwiX3ZlbG9jaXR5IiwiX21vdmluZyIsInJlc29sdmVTcHJpdGUiLCJhbmdsZSIsImNvcyIsInNpbiIsImdvVG9QcmV2aW91c01lbnUiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FB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LFVBQVl6SCxFQUNqQjRCLEtBQUt5VSxVQUFZaFYsRUFBQW1DLFFBQVFLLEtBQ3pCakMsS0FBSzhULFVBQVcsRUFHYnhULE9BQ0hOLEtBQUt5VSxVQUFZaFYsRUFBQW1DLFFBQVFLLEtBQ3pCakMsS0FBSzBVLFNBQVUsRUFDZjFVLEtBQUs4VCxVQUFXLEVBR2J4VCxTQUNBTixLQUFLMFUsVUFDSjFVLEtBQUt5VSxVQUFVblAsT0FBTyxFQUFJOUYsRUFBQTNHLFlBQVl1RCxVQUN0QzRELEtBQUs2RixVQUFVVixNQUFNbkYsS0FBS3lVLFdBRXZCelUsS0FBS3lVLFVBQVU3UCxPQUFTcEYsRUFBQTNHLFlBQVltRSwyQkFDbkNnRCxLQUFLcU8sU0FBVzVPLEVBQUFtQyxRQUFRSyxLQUN4QmpDLEtBQUswVSxTQUFVLElBS3BCcFUsT0FDQU4sS0FBSzhULFVBQ0pyTyxFQUFBM0YsU0FBUzBDLFVBQVV4QyxLQUFLeVQsUUFBU3pULEtBQUs2RixVQUFXLEVBQUdyRyxFQUFBM0csWUFBWWtFLDhGQy9HNUVyRyxFQUFBb2IsTUFBQSxNQUFBeFIsY0FFV04sS0FBQTBRLGNBQXdCLEdBQ3hCMVEsS0FBQTZRLFlBQWEsRUFDYjdRLEtBQUFzUixTQUFVLG1GQ0pyQjVhLEVBQUFnUyx3QkFBQSxNQUVJcEksWUFBb0I4SixHQUFBcEssS0FBQW9LLFFBRXBCOUosVUFDSU4sS0FBS29LLE1BQU0ySyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTApO1xuIiwiaW1wb3J0IHsgTWVudUFjdGlvblR5cGUgfSBmcm9tICcuL21lbnUvTWVudUFjdGlvblR5cGUnO1xuZXhwb3J0IGNvbnN0IEdBTUVfQ09ORklHIDogYW55ID0ge1xuXG4gICAgLy8gU0laSU5HXG4gICAgR0FNRV9XSURUSDogMTUwMCxcbiAgICBHQU1FX0hFSUdIVDogODI1LFxuXG4gICAgLy8gUE9TSVRJT05TXG4gICAgUkVEX0JBTExTX1BPU0lUSU9OUzogW1xuICAgICAgICB7IHg6IDEwNTYsIHk6IDQzMyB9LFxuICAgICAgICB7IHg6IDEwOTAsIHk6IDM3NCB9LFxuICAgICAgICB7IHg6IDExMjYsIHk6IDM5MyB9LFxuICAgICAgICB7IHg6IDExMjYsIHk6IDQ3MiB9LFxuICAgICAgICB7IHg6IDExNjIsIHk6IDMzNSB9LFxuICAgICAgICB7IHg6IDExNjIsIHk6IDM3NCB9LFxuICAgICAgICB7IHg6IDExNjIsIHk6IDQ1MiB9LFxuICAgIF0sXG4gICAgWUVMTE9XX0JBTExTX1BPU0lUSU9OUzogW1xuICAgICAgICB7IHg6IDEwMjIsIHk6IDQxMyB9LFxuICAgICAgICB7IHg6IDEwNTYsIHk6IDM5MyB9LFxuICAgICAgICB7IHg6IDEwOTAsIHk6IDQ1MiB9LFxuICAgICAgICB7IHg6IDExMjYsIHk6IDM1NCB9LFxuICAgICAgICB7IHg6IDExMjYsIHk6IDQzMyB9LFxuICAgICAgICB7IHg6IDExNjIsIHk6IDQxMyB9LFxuICAgICAgICB7IHg6IDExNjIsIHk6IDQ5MSB9LFxuICAgIF0sXG4gICAgQ1VFX0JBTExfUE9TSVRJT046IHsgeDogNDEzLCB5OiA0MTMgfSxcbiAgICBFSUdIVF9CQUxMX1BPU0lUSU9OOiB7IHg6IDEwOTAsIHk6IDQxMyB9LFxuICAgIE1BVENIX1NDT1JFX1BPU0lUSU9OUzogW1xuICAgICAgICB7IHg6IDQyMCwgeTogMjcgfSxcbiAgICAgICAgeyB4OiA5MzIsIHk6IDI3IH1cbiAgICBdLFxuICAgIE1BVENIX1NDT1JFX01BUkdJTjogMjAsXG5cbiAgICBPVkVSQUxMX1NDT1JFX0xBQkVMU19QT1NJVElPTlM6IFtcbiAgICAgICAgeyB4OiA2MjgsIHk6IDQ2MCB9LFxuICAgICAgICB7IHg6IDc3OCwgeTogNDYwIH0sXG4gICAgXSxcbiAgICBPVkVSQUxMX1NDT1JFX0xBQkVMX0ZPTlQ6ICcyMDBweCBJbXBhY3QnLFxuICAgIE9WRVJBTExfU0NPUkVfTEFCRUxfQ09MT1I6ICcjMTI2NzM2JyxcbiAgICBPVkVSQUxMX1NDT1JFX0xBQkVMX0FMSUdOTUVOVDogJ3RvcCcsXG5cbiAgICAvLyBBU1NFVFNcbiAgICBTUFJJVEVTX0JBU0VfUEFUSDogJ2Fzc2V0cy9zcHJpdGVzLycsXG4gICAgU1BSSVRFUzoge1xuICAgICAgICBNQUlOX01FTlVfQkFDS0dST1VORCA6IFwibWFpbl9tZW51X2JhY2tncm91bmQucG5nXCIsXG4gICAgICAgIFRBQkxFIDogXCJzcHJfYmFja2dyb3VuZDQucG5nXCIsXG4gICAgICAgIENVRV9CQUxMIDogXCJzcHJfYmFsbDIucG5nXCIsXG4gICAgICAgIFJFRF9CQUxMIDogXCJzcHJfcmVkQmFsbDIucG5nXCIsXG4gICAgICAgIFlFTExPV19CQUxMIDogXCJzcHJfeWVsbG93QmFsbDIucG5nXCIsXG4gICAgICAgIEJMQUNLX0JBTEwgOiBcInNwcl9ibGFja0JhbGwyLnBuZ1wiLFxuICAgICAgICBTVElDSyA6IFwic3ByX3N0aWNrLnBuZ1wiLFxuICAgICAgICBUV09fUExBWUVSU19CVVRUT04gOiBcIjJfcGxheWVyc19idXR0b24ucG5nXCIsXG4gICAgICAgIFRXT19QTEFZRVJTX0JVVFRPTl9IT1ZFUkVEIDogXCIyX3BsYXllcnNfYnV0dG9uX2hvdmVyLnBuZ1wiLFxuICAgICAgICBPTkVfUExBWUVSX0JVVFRPTiA6IFwiMV9wbGF5ZXJfYnV0dG9uLnBuZ1wiLFxuICAgICAgICBPTkVfUExBWUVSX0JVVFRPTl9IT1ZFUkVEIDogXCIxX3BsYXllcl9idXR0b25faG92ZXIucG5nXCIsXG4gICAgICAgIE1VVEVfQlVUVE9OIDogXCJtdXRlX2J1dHRvbi5wbmdcIixcbiAgICAgICAgTVVURV9CVVRUT05fSE9WRVJFRCA6IFwibXV0ZV9idXR0b25faG92ZXIucG5nXCIsXG4gICAgICAgIE1VVEVfQlVUVE9OX1BSRVNTRUQgOiBcIm11dGVfYnV0dG9uX3ByZXNzZWQucG5nXCIsXG4gICAgICAgIE1VVEVfQlVUVE9OX1BSRVNTRURfSE9WRVJFRCA6IFwibXV0ZV9idXR0b25fcHJlc3NlZF9ob3Zlci5wbmdcIixcbiAgICAgICAgRUFTWV9CVVRUT04gOiBcImVhc3lfYnV0dG9uLnBuZ1wiLFxuICAgICAgICBFQVNZX0JVVFRPTl9IT1ZFUkVEIDogXCJlYXN5X2J1dHRvbl9ob3Zlci5wbmdcIixcbiAgICAgICAgTUVESVVNX0JVVFRPTiA6IFwibWVkaXVtX2J1dHRvbi5wbmdcIixcbiAgICAgICAgTUVESVVNX0JVVFRPTl9IT1ZFUkVEIDogXCJtZWRpdW1fYnV0dG9uX2hvdmVyLnBuZ1wiLFxuICAgICAgICBIQVJEX0JVVFRPTiA6IFwiaGFyZF9idXR0b24ucG5nXCIsXG4gICAgICAgIEhBUkRfQlVUVE9OX0hPVkVSRUQgOiBcImhhcmRfYnV0dG9uX2hvdmVyLnBuZ1wiLFxuICAgICAgICBCQUNLX0JVVFRPTiA6IFwiYmFja19idXR0b24ucG5nXCIsXG4gICAgICAgIEJBQ0tfQlVUVE9OX0hPVkVSRUQgOiBcImJhY2tfYnV0dG9uX2hvdmVyLnBuZ1wiLFxuICAgICAgICBDT05USU5VRV9CVVRUT04gOiBcImNvbnRpbnVlX2J1dHRvbi5wbmdcIixcbiAgICAgICAgQ09OVElOVUVfQlVUVE9OX0hPVkVSRUQgOiBcImNvbnRpbnVlX2J1dHRvbl9ob3Zlci5wbmdcIixcbiAgICAgICAgSU5TQU5FX0JVVFRPTiA6IFwiaW5zYW5lX2J1dHRvbi5wbmdcIixcbiAgICAgICAgSU5TQU5FX0JVVFRPTl9IT1ZFUkVEIDogXCJpbnNhbmVfYnV0dG9uX2hvdmVyLnBuZ1wiLFxuICAgICAgICBBQk9VVF9CVVRUT04gOiBcImFib3V0X2J1dHRvbi5wbmdcIixcbiAgICAgICAgQUJPVVRfQlVUVE9OX0hPVkVSRUQgOiBcImFib3V0X2J1dHRvbl9ob3Zlci5wbmdcIixcbiAgICAgICAgQ09OVFJPTFMgOiBcImNvbnRyb2xzLnBuZ1wiLFxuICAgICAgICBSRURfU0NPUkU6IFwicmVkX3Njb3JlLnBuZ1wiLFxuICAgICAgICBZRUxMT1dfU0NPUkU6IFwieWVsbG93X3Njb3JlLnBuZ1wiLFxuICAgIH0sXG4gICAgU09VTkRTX0JBU0VfUEFUSDogJ2Fzc2V0cy9zb3VuZHMvJyxcbiAgICBTT1VORFM6IHtcbiAgICAgICAgQkFMTFNfQ09MTElERTogXCJCYWxsc0NvbGxpZGUud2F2XCIsXG4gICAgICAgIFNUUklLRTogXCJTdHJpa2Uud2F2XCIsXG4gICAgICAgIFJBSUw6IFwiSG9sZS53YXZcIixcbiAgICAgICAgLy8gQm9zc2EgQW50aWd1YSBLZXZpbiBNYWNMZW9kIChpbmNvbXBldGVjaC5jb20pXG4gICAgICAgIC8vIExpY2Vuc2VkIHVuZGVyIENyZWF0aXZlIENvbW1vbnM6IEJ5IEF0dHJpYnV0aW9uIDMuMCBMaWNlbnNlXG4gICAgICAgIC8vIGh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LzMuMC9cbiAgICAgICAgTVVTSUM6IFwiQm9zc2EgQW50aWd1YS5tcDNcIlxuICAgIH0sXG5cbiAgICAvLyBQSFlTSUNTXG4gICAgRlJJQ1RJT046IDAuMDIwOCxcbiAgICBDT0xMSVNJT05fTE9TUzogMC4wMjA4LFxuXG4gICAgLy8gVEFCTEVcbiAgICBDVVNISU9OX1dJRFRIOiA1NyxcbiAgICBQT0NLRVRfUkFESVVTOiA0OCxcbiAgICBQT0NLRVRTX1BPU0lUSU9OUzogW1xuICAgICAgICB7IHg6IDYyLCB5OiA2MiB9LFxuICAgICAgICB7IHg6IDc1MCwgeTogMzIgfSxcbiAgICAgICAgeyB4OiAxNDM1LCB5OiA2MiB9LFxuICAgICAgICB7IHg6IDYyLCB5OiA3NjIgfSxcbiAgICAgICAgeyB4OiA3NTAsIHk6IDc5NCB9LFxuICAgICAgICB7IHg6IDE0MzUsIHk6IDc2MiB9LFxuICAgIF0sXG5cbiAgICAvLyBMQUJFTFNcbiAgICBDVVJSRU5UX1BMQVlFUl9MQUJFTF9QT1NJVElPTjogeyB4OiA2NDAsIHk6IDI2MH0sXG4gICAgQ1VSUkVOVF9QTEFZRVJfTEFCRUxfQ09MT1I6ICcjMTI2NzM2JyxcbiAgICBDVVJSRU5UX1BMQVlFUl9MQUJFTDogJ1BMQVlFUiAnLFxuICAgIENVUlJFTlRfUExBWUVSX0xBQkVMX0ZPTlQ6ICc3MHB4IEltcGFjdCcsXG4gICAgQ1VSUkVOVF9QTEFZRVJfTEFCRUxfQUxJR05NRU5UOiAndG9wJyxcblxuICAgIC8vIEJBTExcbiAgICBCQUxMX0RJQU1FVEVSOiAzOCxcbiAgICBCQUxMX09SSUdJTjogeyB4OiAyNSwgeTogMjUgfSxcbiAgICBCQUxMX01JTl9WRUxPQ0lUWV9MRU5HVEg6IDAuMDUsXG4gICAgTUFYX0JBTExfRVhQRUNURURfVkVMT0NJVFk6IDIwMCxcbiAgICBNQVhfQkFMTF9FWFBFQ1RFRF9DT0xMSVNJT05fRk9SQ0U6IDEwMCxcblxuICAgIC8vIFNUSUNLXG4gICAgU1RJQ0tfT1JJR0lOOiB7IHg6IDk3MCwgeTogMTEgfSxcbiAgICBTVElDS19TSE9UX09SSUdJTjogeyB4OiA5NTAsIHk6IDExIH0sXG4gICAgUE9XRVJfVE9fQUREX1BFUl9GUkFNRTogMSxcbiAgICBTVElDS19NT1ZFTUVOVF9QRVJfRlJBTUU6IDIsXG4gICAgU1RJQ0tfTUFYX1BPV0VSOiA2NSxcblxuICAgIC8vIEtFWVNcbiAgICBTRUxFQ1RfTU9VU0VfQlVUVE9OOiAwLFxuICAgIFNIT09UX01PVVNFX0JVVFRPTjogMCxcbiAgICBQTEFDRV9CQUxMX0lOX0hBTkRfTU9VU0VfQlVUVE9OOiAwLFxuICAgIElOQ1JFQVNFX1NIT1RfUE9XRVJfS0VZOiA4NyxcbiAgICBERUNSRUFTRV9TSE9UX1BPV0VSX0tFWTogODMsXG4gICAgQkFDS19UT19NRU5VX0tFWTogMjcsXG5cbiAgICAvLyBUSU1JTkdcbiAgICBUSU1FT1VUX1RPX0hJREVfU1RJQ0tfQUZURVJfU0hPVDogNTAwLFxuICAgIFRJTU9VVF9UT19ISURFX0JBTExfQUZURVJfUE9DS0VUOiAxMDAsXG4gICAgTE9BRElOR19TQ1JFRU5fVElNRU9VVDogNTAwMCxcblxuICAgIC8vIE1FTlVcbiAgICBNQUlOX01FTlVfQ09ORklHIDoge1xuICAgICAgICBMQUJFTFM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZXh0OiAnQ2xhc3NpYyA4LUJhbGwnLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IDEwMCwgeTogMTAwIH0sXG4gICAgICAgICAgICAgICAgZm9udDogJzEwMHB4IEJvb2ttYW4nLFxuICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgIGFsaWdubWVudDogJ2xlZnQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBgwqkgJHtuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCl9IENoZW4gU2htaWxvdmljaGAsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeDogMTI1MCwgeTogODAwIH0sXG4gICAgICAgICAgICAgICAgZm9udDogJzIwcHggQm9va21hbicsXG4gICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgYWxpZ25tZW50OiAnbGVmdCcsXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIEJVVFRPTlM6IFtcbiAgICAgICAgICAgIHsgXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBNZW51QWN0aW9uVHlwZS5QVlAsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeDogMjAwLCB5OiAyMDAgfSxcbiAgICAgICAgICAgICAgICBzcHJpdGU6ICdUV09fUExBWUVSU19CVVRUT04nLCBcbiAgICAgICAgICAgICAgICBzcHJpdGVPbkhvdmVyOiAnVFdPX1BMQVlFUlNfQlVUVE9OX0hPVkVSRUQnLCBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgIGFjdGlvbjogTWVudUFjdGlvblR5cGUuR29Ub1N1Yk1lbnUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeDogMjAwLCB5OiA0MDAgfSxcbiAgICAgICAgICAgICAgICBzcHJpdGU6ICdPTkVfUExBWUVSX0JVVFRPTicsIFxuICAgICAgICAgICAgICAgIHNwcml0ZU9uSG92ZXI6ICdPTkVfUExBWUVSX0JVVFRPTl9IT1ZFUkVEJywgXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICBhY3Rpb246IE1lbnVBY3Rpb25UeXBlLlRvZ2dsZVNvdW5kLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IDE0MzAsIHk6IDEwIH0sXG4gICAgICAgICAgICAgICAgc3ByaXRlOiAnTVVURV9CVVRUT04nLCBcbiAgICAgICAgICAgICAgICBzcHJpdGVPbkhvdmVyOiAnTVVURV9CVVRUT05fSE9WRVJFRCcsIFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgU1VCX01FTlVTOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTEFCRUxTOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdDaG9vc2UgRGlmZmljdWx0eScsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyB4OiAxMDAsIHk6IDEwMCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udDogJzEwMHB4IEJvb2ttYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbm1lbnQ6ICdsZWZ0JyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogYMKpICR7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpfSBDaGVuIFNobWlsb3ZpY2hgLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeDogMTI1MCwgeTogODAwIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250OiAnMjBweCBCb29rbWFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25tZW50OiAnbGVmdCcsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIEJVVFRPTlM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBNZW51QWN0aW9uVHlwZS5Hb1RvUHJldmlvdXNNZW51LFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeDogMTAwLCB5OiAxNTAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZTogJ0JBQ0tfQlVUVE9OJywgXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGVPbkhvdmVyOiAnQkFDS19CVVRUT05fSE9WRVJFRCcsIFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBNZW51QWN0aW9uVHlwZS5Ub2dnbGVTb3VuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IDE0MzAsIHk6IDEwIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGU6ICdNVVRFX0JVVFRPTicsIFxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlT25Ib3ZlcjogJ01VVEVfQlVUVE9OX0hPVkVSRUQnLCBcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFNVQl9NRU5VUzogW11cbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH0sXG4gICAgXG4gICAgREVGQVVMVF9DVVJTT1I6ICdkZWZhdWx0JyxcbiAgICBCVVRUT05fQ1VSU09SOiAncG9pbnRlcicsXG5cbiAgICAvLyBMT0FESU5HIFNDUkVFTlxuICAgIExPQURJTkdfU0NSRUVOX0lNQUdFX1BPU0lUSU9OOiB7IHg6IDQ1MCwgeTogMTEyLjUgfSxcblxuICAgIFNPVU5EX09OOiB0cnVlLFxufTtcbiIsImltcG9ydCB7IEdBTUVfQ09ORklHIH0gZnJvbSAnLi9nYW1lLmNvbmZpZyc7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSAnLi9nZW9tL1ZlY3RvcjInO1xuXG5jbGFzcyBDYW52YXMyRF9TaW5nbGV0b24ge1xuXG4gICAgLy8tLS0tLS1NZW1iZXJzLS0tLS0tLy9cblxuICAgIHByaXZhdGUgX2NhbnZhc0NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfY2FudmFzIDogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfY29udGV4dCA6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICBwcml2YXRlIF9zY2FsZTogVmVjdG9yMjtcbiAgICBwcml2YXRlIF9vZmZzZXQ6IFZlY3RvcjI7XG5cbiAgICAvLy0tLS0tLVByb3BlcnRpZXMtLS0tLS0vL1xuICAgIFxuICAgIHB1YmxpYyBnZXQgc2NhbGVYKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2NhbGUueDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHNjYWxlWSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NjYWxlLnk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBvZmZzZXRYKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2Zmc2V0Lng7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBvZmZzZXRZKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2Zmc2V0Lnk7XG4gICAgfVxuXG4gICAgLy8tLS0tLS1Db25zdHJ1Y3Rvci0tLS0tLS8vXG5cbiAgICBjb25zdHJ1Y3RvcihjYW52YXMgOiBIVE1MQ2FudmFzRWxlbWVudCwgY2FudmFzQ29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgICAgICB0aGlzLl9jYW52YXNDb250YWluZXIgPSBjYW52YXNDb250YWluZXI7XG4gICAgICAgIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB0aGlzLnJlc2l6ZUNhbnZhcygpO1xuICAgIH1cblxuICAgIC8vLS0tLS0tUHVibGljIE1ldGhvZHMtLS0tLS0vL1xuXG4gICAgcHVibGljIHJlc2l6ZUNhbnZhcygpOiB2b2lkIHtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsQ2FudmFzV2lkdGggPSBHQU1FX0NPTkZJRy5HQU1FX1dJRFRIO1xuICAgICAgICBjb25zdCBvcmlnaW5hbENhbnZhc0hlaWdodCA9IEdBTUVfQ09ORklHLkdBTUVfSEVJR0hUO1xuICAgICAgICBjb25zdCB3aWR0aFRvSGVpZ2h0OiBudW1iZXIgPSBvcmlnaW5hbENhbnZhc1dpZHRoIC8gb3JpZ2luYWxDYW52YXNIZWlnaHQ7XG5cbiAgICAgICAgbGV0IG5ld0hlaWdodDogbnVtYmVyID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICBsZXQgbmV3V2lkdGg6IG51bWJlciA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgIFxuICAgICAgICBjb25zdCBuZXdXaWR0aFRvSGVpZ2h0OiBudW1iZXIgPSBuZXdXaWR0aCAvIG5ld0hlaWdodDtcblxuICAgICAgICBpZiAobmV3V2lkdGhUb0hlaWdodCA+IHdpZHRoVG9IZWlnaHQpIHtcbiAgICAgICAgICAgIG5ld1dpZHRoID0gbmV3SGVpZ2h0ICogd2lkdGhUb0hlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld0hlaWdodCA9IG5ld1dpZHRoIC8gd2lkdGhUb0hlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5fY2FudmFzQ29udGFpbmVyLnN0eWxlLndpZHRoID0gbmV3V2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLl9jYW52YXNDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gbmV3SGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5fY2FudmFzQ29udGFpbmVyLnN0eWxlLm1hcmdpblRvcCA9ICh3aW5kb3cuaW5uZXJIZWlnaHQgLSBuZXdIZWlnaHQpIC8gMiArICdweCc7XG4gICAgICAgIHRoaXMuX2NhbnZhc0NvbnRhaW5lci5zdHlsZS5tYXJnaW5MZWZ0ID0gKHdpbmRvdy5pbm5lcldpZHRoIC0gbmV3V2lkdGgpIC8gMiArICdweCc7XG4gICAgICAgIHRoaXMuX2NhbnZhc0NvbnRhaW5lci5zdHlsZS5tYXJnaW5Cb3R0b20gPSAod2luZG93LmlubmVySGVpZ2h0IC0gbmV3SGVpZ2h0KSAvIDIgKyAncHgnO1xuICAgICAgICB0aGlzLl9jYW52YXNDb250YWluZXIuc3R5bGUubWFyZ2luUmlnaHQgPSAod2luZG93LmlubmVyV2lkdGggLSBuZXdXaWR0aCkgLyAyICsgJ3B4JztcbiAgICAgICAgdGhpcy5fc2NhbGUgPSBuZXcgVmVjdG9yMihuZXdXaWR0aCAvIG9yaWdpbmFsQ2FudmFzV2lkdGgsIG5ld0hlaWdodCAvIG9yaWdpbmFsQ2FudmFzSGVpZ2h0KTtcblxuICAgICAgICB0aGlzLl9jYW52YXMud2lkdGggPSBuZXdXaWR0aDtcbiAgICAgICAgdGhpcy5fY2FudmFzLmhlaWdodCA9IG5ld0hlaWdodDtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLl9jYW52YXMub2Zmc2V0UGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9vZmZzZXQgPSBuZXcgVmVjdG9yMih0aGlzLl9jYW52YXMub2Zmc2V0TGVmdCwgdGhpcy5fY2FudmFzLm9mZnNldFRvcCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHB1YmxpYyBjbGVhcigpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuX2NhbnZhcy53aWR0aCwgdGhpcy5fY2FudmFzLmhlaWdodCk7XG4gICAgfVxuXG4gICAgcHVibGljIGRyYXdJbWFnZShcbiAgICAgICAgICAgIHNwcml0ZTogSFRNTEltYWdlRWxlbWVudCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBWZWN0b3IyID0gVmVjdG9yMi56ZXJvLCBcbiAgICAgICAgICAgIHJvdGF0aW9uOiBudW1iZXIgPSAwLCBcbiAgICAgICAgICAgIG9yaWdpbjogVmVjdG9yMiA9IFZlY3RvcjIuemVyb1xuICAgICAgICApIHsgICAgXG4gICAgICAgIHRoaXMuX2NvbnRleHQuc2F2ZSgpO1xuICAgICAgICB0aGlzLl9jb250ZXh0LnNjYWxlKHRoaXMuX3NjYWxlLngsIHRoaXMuX3NjYWxlLnkpO1xuICAgICAgICB0aGlzLl9jb250ZXh0LnRyYW5zbGF0ZShwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5yb3RhdGUocm90YXRpb24pO1xuICAgICAgICB0aGlzLl9jb250ZXh0LmRyYXdJbWFnZShzcHJpdGUsIDAsIDAsIHNwcml0ZS53aWR0aCwgc3ByaXRlLmhlaWdodCwgLW9yaWdpbi54LCAtb3JpZ2luLnksIHNwcml0ZS53aWR0aCwgc3ByaXRlLmhlaWdodCk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQucmVzdG9yZSgpO1xuICAgIH1cblxuXG4gICAgcHVibGljIGRyYXdUZXh0KHRleHQ6IHN0cmluZywgZm9udDpzdHJpbmcsIGNvbG9yOiBzdHJpbmcsIHBvc2l0aW9uOiBWZWN0b3IyLCB0ZXh0QWxpZ246IHN0cmluZyA9ICdsZWZ0Jyk6IHZvaWQge1xuICAgICAgICB0aGlzLl9jb250ZXh0LnNhdmUoKTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5zY2FsZSh0aGlzLl9zY2FsZS54LCB0aGlzLl9zY2FsZS55KTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5fY29udGV4dC5mb250ID0gZm9udDtcbiAgICAgICAgdGhpcy5fY29udGV4dC50ZXh0QWxpZ24gPSB0ZXh0QWxpZ24gYXMgQ2FudmFzVGV4dEFsaWduO1xuICAgICAgICB0aGlzLl9jb250ZXh0LmZpbGxUZXh0KHRleHQsIHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpO1xuICAgICAgICB0aGlzLl9jb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2hhbmdlQ3Vyc29yKGN1cnNvcjogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZS5jdXJzb3IgPSBjdXJzb3I7XG4gICAgfVxufVxuXG5jb25zdCBjYW52YXMgOiBIVE1MQ2FudmFzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY3JlZW4nKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbmNvbnN0IGNvbnRhaW5lciA6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWVBcmVhJykgYXMgSFRNTEVsZW1lbnQ7XG5leHBvcnQgY29uc3QgQ2FudmFzMkQgPSBuZXcgQ2FudmFzMkRfU2luZ2xldG9uKGNhbnZhcywgY29udGFpbmVyKTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIENhbnZhczJELnJlc2l6ZUNhbnZhcy5iaW5kKENhbnZhczJEKSk7XG4iLCJpbXBvcnQgeyBHQU1FX0NPTkZJRyB9IGZyb20gJy4vZ2FtZS5jb25maWcnO1xuXG5jbGFzcyBBc3NldHNfU2luZ2xldG9uIHtcblxuICAgIF9zcHJpdGVzOiBNYXA8c3RyaW5nLCBIVE1MSW1hZ2VFbGVtZW50PjtcbiAgICBfc291bmRzOiBNYXA8c3RyaW5nLCBIVE1MQXVkaW9FbGVtZW50PjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9zcHJpdGVzID0gbmV3IE1hcDxzdHJpbmcsIEhUTUxJbWFnZUVsZW1lbnQ+KCk7XG4gICAgICAgIHRoaXMuX3NvdW5kcyA9IG5ldyBNYXA8c3RyaW5nLCBIVE1MQXVkaW9FbGVtZW50PigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBsb2FkR2FtZUFzc2V0cygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkR2FtZVNwcml0ZXMoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkR2FtZVNvdW5kcygpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTcHJpdGUoa2V5OiBzdHJpbmcpOiBIVE1MSW1hZ2VFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Nwcml0ZXMuZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNvdW5kKGtleTogc3RyaW5nKTogSFRNTEF1ZGlvRWxlbWVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zb3VuZHMuZ2V0KGtleSkuY2xvbmVOb2RlKHRydWUpIGFzIEhUTUxBdWRpb0VsZW1lbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHBsYXlTb3VuZChrZXk6IHN0cmluZywgdm9sdW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYoR0FNRV9DT05GSUcuU09VTkRfT04pIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdW5kID0gdGhpcy5nZXRTb3VuZChrZXkpO1xuICAgICAgICAgICAgc291bmQudm9sdW1lID0gdm9sdW1lO1xuICAgICAgICAgICAgc291bmQucGxheSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb2FkU3ByaXRlKHBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgdGhpcy5fc3ByaXRlcy5zZXQocGF0aCwgaW1nKTtcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgaW1nLnNyYyA9IEdBTUVfQ09ORklHLlNQUklURVNfQkFTRV9QQVRIICsgcGF0aDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIHByaXZhdGUgYXN5bmMgbG9hZEdhbWVTcHJpdGVzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBsb2FkUHJvbWlzZXMgPSBPYmplY3QudmFsdWVzKEdBTUVfQ09ORklHLlNQUklURVMpLm1hcCh0aGlzLmxvYWRTcHJpdGUuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwobG9hZFByb21pc2VzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWRTb3VuZChwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgYXVkaW86IEhUTUxBdWRpb0VsZW1lbnQgPSBuZXcgQXVkaW8oKTtcbiAgICAgICAgdGhpcy5fc291bmRzLnNldChwYXRoLCBhdWRpbyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgYXVkaW8uc3JjID0gR0FNRV9DT05GSUcuU09VTkRTX0JBU0VfUEFUSCArIHBhdGg7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgbG9hZEdhbWVTb3VuZHMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGxvYWRQcm9taXNlcyA9IE9iamVjdC52YWx1ZXMoR0FNRV9DT05GSUcuU09VTkRTKS5tYXAodGhpcy5sb2FkU291bmQuYmluZCh0aGlzKSk7XG4gICAgICAgIFxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChsb2FkUHJvbWlzZXMpO1xuICAgIH1cblxufVxuXG5leHBvcnQgY29uc3QgQXNzZXRzID0gbmV3IEFzc2V0c19TaW5nbGV0b24oKTsiLCJcbmV4cG9ydCBjbGFzcyBWZWN0b3IyIHtcblxuICAgIC8vLS0tLS0tTWVtYmVycy0tLS0tLS8vXG5cbiAgICBwcml2YXRlIF94OiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfeTogbnVtYmVyO1xuXG4gICAgLy8tLS0tLS1Db25zdHJ1Y3Rvci0tLS0tLS8vXG5cbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgfVxuXG4gICAgLy8tLS0tLS1Qcm9wZXJ0aWVzLS0tLS0tLy9cblxuICAgIGdldCB4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5feDtcbiAgICB9XG4gICAgXG4gICAgZ2V0IHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl95O1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgemVybygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKDAsIDApO1xuICAgIH1cblxuICAgIGdldCBsZW5ndGgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh0aGlzLl94LCAyKSArIE1hdGgucG93KHRoaXMuX3ksIDIpKTtcbiAgICB9XG5cbiAgICAvLy0tLS0tLVB1YmxpYyBNZXRob2RzLS0tLS0tLy9cblxuICAgIHB1YmxpYyBzdGF0aWMgY29weSh2ZWN0b3I6IFZlY3RvcjIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHZlY3Rvci54LCB2ZWN0b3IueSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFgoeDogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLl94LCB0aGlzLl95KS5hZGRUb1goeCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFkoeTogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLl94LCB0aGlzLl95KS5hZGRUb1koeSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFRvWCh4OiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICAgICAgdGhpcy5feCArPSB4O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkVG9ZKHk6IG51bWJlcik6IFZlY3RvcjIge1xuICAgICAgICB0aGlzLl95ICs9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRUbyh2ZWN0b3I6IFZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkVG9YKHZlY3Rvci54KS5hZGRUb1kodmVjdG9yLnkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGQodmVjdG9yOiBWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLl94LCB0aGlzLl95KS5hZGRUbyh2ZWN0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdWJ0cmFjdFRvKHZlY3RvcjogVmVjdG9yMik6IFZlY3RvcjIge1xuICAgICAgICB0aGlzLl94IC09IHZlY3Rvci54O1xuICAgICAgICB0aGlzLl95IC09IHZlY3Rvci55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgc3VidHJhY3QodmVjdG9yOiBWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLl94LCB0aGlzLl95KS5zdWJ0cmFjdFRvKHZlY3Rvcik7XG4gICAgfVxuXG4gICAgcHVibGljIG11bHQodjogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLl94LCB0aGlzLl95KS5tdWx0Qnkodik7XG4gICAgfVxuXG4gICAgcHVibGljIG11bHRCeSh2OiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICAgICAgdGhpcy5feCAqPSB2O1xuICAgICAgICB0aGlzLl95ICo9IHY7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBkb3QodmVjdG9yOiBWZWN0b3IyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ggKiB2ZWN0b3IueCArIHRoaXMuX3kgKiB2ZWN0b3IueTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGlzdEZyb20odmVjdG9yOiBWZWN0b3IyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VidHJhY3QodmVjdG9yKS5sZW5ndGg7XG4gICAgfVxufSIsImltcG9ydCB7IEJ1dHRvblN0YXRlIH0gZnJvbSAnLi9CdXR0b25TdGF0ZSc7XG5pbXBvcnQgeyBDYW52YXMyRCB9IGZyb20gJy4vLi4vQ2FudmFzJztcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tICcuLy4uL2dlb20vVmVjdG9yMic7XG5cbmNsYXNzIE1vdXNlX1NpbmdsZXRvbiB7XG5cbiAgICBwcml2YXRlIF9idXR0b25TdGF0ZXM6IEJ1dHRvblN0YXRlW10gPSBbXTtcbiAgICBwcml2YXRlIF9wb3NpdGlvbjogVmVjdG9yMjtcblxuICAgIHB1YmxpYyBnZXQgcG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiBWZWN0b3IyLmNvcHkodGhpcy5fcG9zaXRpb24pO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuXG4gICAgICAgIGZvcihsZXQgaSA9IDAgOyBpIDwgMyA7IGkgKysgKSB7XG4gICAgICAgICAgICB0aGlzLl9idXR0b25TdGF0ZXNbaV0gPSBuZXcgQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gVmVjdG9yMi56ZXJvO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChldmVudCkgPT4gdGhpcy5oYW5kbGVNb3VzZU1vdmUoZXZlbnQpKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2ZW50KSA9PiB0aGlzLmhhbmRsZU1vdXNlRG93bihldmVudCkpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKGV2ZW50KSA9PiB0aGlzLmhhbmRsZU1vdXNlVXAoZXZlbnQpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZU1vdXNlTW92ZShldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgICAgICBjb25zdCBtb3VzZVg6IG51bWJlciA9IChldmVudC5wYWdlWCAtIENhbnZhczJELm9mZnNldFgpIC8gQ2FudmFzMkQuc2NhbGVYO1xuICAgICAgICBjb25zdCBtb3VzZVk6IG51bWJlciA9IChldmVudC5wYWdlWSAtIENhbnZhczJELm9mZnNldFkpIC8gQ2FudmFzMkQuc2NhbGVZO1xuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IG5ldyBWZWN0b3IyKG1vdXNlWCwgbW91c2VZKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZU1vdXNlRG93bihldmVudDogTW91c2VFdmVudCkge1xuICAgICAgICB0aGlzLl9idXR0b25TdGF0ZXNbZXZlbnQuYnV0dG9uXS5kb3duID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fYnV0dG9uU3RhdGVzW2V2ZW50LmJ1dHRvbl0ucHJlc3NlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVNb3VzZVVwKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2J1dHRvblN0YXRlc1tldmVudC5idXR0b25dLmRvd24gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVzZXQoKSA6IHZvaWQge1xuICAgICAgICBmb3IobGV0IGkgPSAwIDsgaSA8IDMgOyBpKysgKSB7XG4gICAgICAgICAgICB0aGlzLl9idXR0b25TdGF0ZXNbaV0ucHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGlzRG93bihidXR0b246IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnV0dG9uU3RhdGVzW2J1dHRvbl0uZG93bjtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGlzUHJlc3NlZChidXR0b246IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnV0dG9uU3RhdGVzW2J1dHRvbl0ucHJlc3NlZDtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBNb3VzZSA9IG5ldyBNb3VzZV9TaW5nbGV0b24oKTsiLCJcbmV4cG9ydCBlbnVtIENvbG9yIHtcbiAgICB3aGl0ZSA9ICcjQkFCQUJBJyxcbiAgICBibGFjayA9ICcjMkIyQjJCJyxcbiAgICByZWQgPSAnI0I2MkEyRicsXG4gICAgeWVsbG93ID0gJyNGRUNBMzQnXG59IiwiXG5leHBvcnQgZW51bSBNZW51QWN0aW9uVHlwZSB7XG4gICAgQ09OVElOVUUsXG4gICAgUFZQLFxuICAgIFBWQyxcbiAgICBUb2dnbGVTb3VuZCxcbiAgICBHb1RvU3ViTWVudSxcbiAgICBHb1RvUHJldmlvdXNNZW51XG59IiwiXG5leHBvcnQgY2xhc3MgQnV0dG9uU3RhdGUge1xuICAgIFxuICAgIHB1YmxpYyBkb3duID0gZmFsc2U7XG4gICAgcHVibGljIHByZXNzZWQgPSBmYWxzZTtcbiAgICBcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgXG4gICAgfVxufSIsIlxuZXhwb3J0IGNvbnN0IG1hcFJhbmdlID0gKG51bTogbnVtYmVyLCBpbl9taW46IG51bWJlciwgaW5fbWF4OiBudW1iZXIsIG91dF9taW46IG51bWJlciwgb3V0X21heDogbnVtYmVyKSA9PiB7XG4gICAgbGV0IHZhbHVlOiBudW1iZXIgPSAobnVtIC0gaW5fbWluKSAqIChvdXRfbWF4IC0gb3V0X21pbikgLyAoaW5fbWF4IC0gaW5fbWluKSArIG91dF9taW47XG4gICAgdmFsdWUgID0gdmFsdWUgPCBvdXRfbWluID8gb3V0X21pbiA6IHZhbHVlO1xuICAgIHZhbHVlID0gdmFsdWUgPiBvdXRfbWF4ID8gb3V0X21heCA6IHZhbHVlO1xuICAgIHJldHVybiB2YWx1ZTtcbn0iLCJpbXBvcnQgeyBCdXR0b25TdGF0ZSB9IGZyb20gJy4vQnV0dG9uU3RhdGUnO1xuXG5jbGFzcyBLZXlib2FyZF9TaW5nbGV0b24ge1xuXG4gICAgLy8tLS0tLS1NZW1iZXJzLS0tLS0tLy9cblxuICAgIF9rZXlTdGF0ZXMgOiBCdXR0b25TdGF0ZVtdID0gW107XG4gICAgXG4gICAgLy8tLS0tLS1Db25zdHJ1Y3Rvci0tLS0tLS8vXG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgZm9yKGxldCBpID0gMCA7IGkgPCAyNTYgOyBpKysgKSB7XG4gICAgICAgICAgICB0aGlzLl9rZXlTdGF0ZXNbaV0gPSAgbmV3IEJ1dHRvblN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB0aGlzLmhhbmRsZUtleVVwKGV2ZW50KSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHRoaXMuaGFuZGxlS2V5RG93bihldmVudCkpO1xuICAgIH1cblxuICAgIC8vLS0tLS0tUHJpdmF0ZSBNZXRob2RzLS0tLS0tLy9cblxuICAgIHByaXZhdGUgaGFuZGxlS2V5VXAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fa2V5U3RhdGVzW2V2ZW50LmtleUNvZGVdLmRvd24gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUtleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fa2V5U3RhdGVzW2V2ZW50LmtleUNvZGVdLnByZXNzZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9rZXlTdGF0ZXNbZXZlbnQua2V5Q29kZV0uZG93biA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8tLS0tLS1QdWJsaWMgTWV0aG9kcy0tLS0tLS8vXG5cbiAgICBwdWJsaWMgcmVzZXQoKSA6IHZvaWQge1xuICAgICAgICBmb3IobGV0IGkgPSAwIDsgaSA8IDI1NiA7IGkrKyApIHtcbiAgICAgICAgICAgIHRoaXMuX2tleVN0YXRlc1tpXS5wcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNEb3duKGtleUNvZGU6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fa2V5U3RhdGVzW2tleUNvZGVdLmRvd247XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBpc1ByZXNzZWQoa2V5Q29kZTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9rZXlTdGF0ZXNba2V5Q29kZV0ucHJlc3NlZDtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBLZXlib2FyZCA9IG5ldyBLZXlib2FyZF9TaW5nbGV0b24oKTsiLCJpbXBvcnQgeyBHb1RvUHJldmlvdXNNZW51Q29tbWFuZCB9IGZyb20gJy4vbWVudS9jb21tYW5kcy9Hb1RvUHJldmlvdXNNZW51Q29tbWFuZCc7XG5pbXBvcnQgeyBHb1RvU3ViTWVudUNvbW1hbmQgfSBmcm9tICcuL21lbnUvY29tbWFuZHMvR29Ub1N1Yk1lbnVDb21tYW5kJztcbmltcG9ydCB7IFRvZ2dsZVNvdW5kQ29tbWFuZCB9IGZyb20gJy4vbWVudS9jb21tYW5kcy9Ub2dnbGVTb3VuZENvbW1hbmQnO1xuaW1wb3J0IHsgUFZDQ29tbWFuZCB9IGZyb20gJy4vbWVudS9jb21tYW5kcy9QVkNDb21tYW5kJztcbmltcG9ydCB7IFBWUENvbW1hbmQgfSBmcm9tICcuL21lbnUvY29tbWFuZHMvUFZQQ29tbWFuZCc7XG5pbXBvcnQgeyBJTWVudUNvbW1hbmQgfSBmcm9tICcuL21lbnUvY29tbWFuZHMvSU1lbnVDb21tYW5kJztcbmltcG9ydCB7IEdBTUVfQ09ORklHIH0gZnJvbSAnLi9nYW1lLmNvbmZpZyc7XG5pbXBvcnQgeyBNZW51QWN0aW9uVHlwZSB9IGZyb20gJy4vbWVudS9NZW51QWN0aW9uVHlwZSc7XG5pbXBvcnQgeyBNZW51IH0gZnJvbSAnLi9tZW51L01lbnUnO1xuaW1wb3J0IHsgQXNzZXRzIH0gZnJvbSAnLi9Bc3NldHMnO1xuaW1wb3J0IHsgR2FtZVdvcmxkIH0gZnJvbSAnLi9nYW1lLW9iamVjdHMvR2FtZVdvcmxkJztcbmltcG9ydCB7IEtleWJvYXJkIH0gZnJvbSAnLi9pbnB1dC9LZXlib2FyZCc7XG5pbXBvcnQgeyBDYW52YXMyRCB9IGZyb20gJy4vQ2FudmFzJztcbmltcG9ydCB7IE1vdXNlIH0gZnJvbSAnLi9pbnB1dC9Nb3VzZSc7XG5cbmV4cG9ydCBjbGFzcyBHYW1lIHtcbiAgICBwcml2YXRlIF9tZW51QWN0aW9uc01hcDogTWFwPE1lbnVBY3Rpb25UeXBlLCBJTWVudUNvbW1hbmQ+O1xuICAgIHByaXZhdGUgX3ByZXZpb3VzTWVudXM6IE1lbnVbXSA9IFtdO1xuICAgIHByaXZhdGUgX21lbnU6IE1lbnUgPSBuZXcgTWVudSgpO1xuICAgIHByaXZhdGUgX3Bvb2xHYW1lOiBHYW1lV29ybGQ7XG4gICAgcHJpdmF0ZSBfaXNMb2FkaW5nOiBib29sZWFuO1xuXG4gICAgcHJpdmF0ZSBpbml0TWVudUFjdGlvbnMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX21lbnVBY3Rpb25zTWFwID0gbmV3IE1hcDxNZW51QWN0aW9uVHlwZSwgSU1lbnVDb21tYW5kPigpO1xuICAgICAgICB0aGlzLl9tZW51QWN0aW9uc01hcC5zZXQoTWVudUFjdGlvblR5cGUuUFZQLCBuZXcgUFZQQ29tbWFuZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX21lbnVBY3Rpb25zTWFwLnNldChNZW51QWN0aW9uVHlwZS5QVkMsIG5ldyBQVkNDb21tYW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fbWVudUFjdGlvbnNNYXAuc2V0KE1lbnVBY3Rpb25UeXBlLlRvZ2dsZVNvdW5kLCBuZXcgVG9nZ2xlU291bmRDb21tYW5kKCkpO1xuICAgICAgICB0aGlzLl9tZW51QWN0aW9uc01hcC5zZXQoTWVudUFjdGlvblR5cGUuR29Ub1N1Yk1lbnUsIG5ldyBHb1RvU3ViTWVudUNvbW1hbmQodGhpcykpO1xuICAgICAgICB0aGlzLl9tZW51QWN0aW9uc01hcC5zZXQoTWVudUFjdGlvblR5cGUuR29Ub1ByZXZpb3VzTWVudSwgbmV3IEdvVG9QcmV2aW91c01lbnVDb21tYW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRNYWluTWVudSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fbWVudS5pbml0KHRoaXMuX21lbnVBY3Rpb25zTWFwLCBHQU1FX0NPTkZJRy5NQUlOX01FTlVfQ09ORklHKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgQXNzZXRzLmxvYWRHYW1lQXNzZXRzKCk7XG5cbiAgICAgICAgdGhpcy5pbml0TWVudUFjdGlvbnMoKTtcbiAgICAgICAgdGhpcy5pbml0TWFpbk1lbnUoKTtcbiAgICAgICAgdGhpcy5fbWVudS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9wb29sR2FtZSA9IG5ldyBHYW1lV29ybGQoKTtcbiAgICAgICAgdGhpcy5nYW1lTG9vcCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnb1RvU3ViTWVudShpbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmKHRoaXMuX21lbnUpe1xuICAgICAgICAgICAgdGhpcy5fbWVudS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzTWVudXMucHVzaCh0aGlzLl9tZW51KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tZW51ID0gdGhpcy5fbWVudS5nZXRTdWJNZW51KGluZGV4KTtcbiAgICAgICAgdGhpcy5fbWVudS5hY3RpdmUgPSB0cnVlO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgZ29Ub1ByZXZpb3VzTWVudSgpOiB2b2lkIHtcbiAgICAgICAgaWYodGhpcy5fcHJldmlvdXNNZW51cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9tZW51LmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fbWVudSA9IHRoaXMuX3ByZXZpb3VzTWVudXMucG9wKCk7XG4gICAgICAgICAgICB0aGlzLl9tZW51LmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGlzcGxheUxvYWRpbmdTY3JlZW4oKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX21lbnUuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9wb29sR2FtZSA9IG5ldyBHYW1lV29ybGQoKTtcbiAgICAgICAgICAgIHRoaXMuX3Bvb2xHYW1lLmluaXRNYXRjaCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRpc3BsYXlMb2FkaW5nU2NyZWVuKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2lzTG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICBDYW52YXMyRC5jbGVhcigpO1xuICAgICAgICAgICAgQ2FudmFzMkQuZHJhd0ltYWdlKFxuICAgICAgICAgICAgICAgIEFzc2V0cy5nZXRTcHJpdGUoR0FNRV9DT05GSUcuU1BSSVRFUy5DT05UUk9MUyksXG4gICAgICAgICAgICAgICAgR0FNRV9DT05GSUcuTE9BRElOR19TQ1JFRU5fSU1BR0VfUE9TSVRJT05cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSwgR0FNRV9DT05GSUcuTE9BRElOR19TQ1JFRU5fVElNRU9VVCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlSW5wdXQoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5fbWVudS5hY3RpdmUgJiYgS2V5Ym9hcmQuaXNQcmVzc2VkKEdBTUVfQ09ORklHLkJBQ0tfVE9fTUVOVV9LRVkpKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRNYWluTWVudSgpO1xuICAgICAgICAgICAgdGhpcy5fbWVudS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLl9pc0xvYWRpbmcpIHJldHVybjtcbiAgICAgICAgdGhpcy5oYW5kbGVJbnB1dCgpO1xuICAgICAgICB0aGlzLl9tZW51LmFjdGl2ZSA/IHRoaXMuX21lbnUudXBkYXRlKCkgOiB0aGlzLl9wb29sR2FtZS51cGRhdGUoKTtcbiAgICAgICAgS2V5Ym9hcmQucmVzZXQoKTtcbiAgICAgICAgTW91c2UucmVzZXQoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRyYXcoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLl9pc0xvYWRpbmcpIHJldHVybjtcbiAgICAgICAgQ2FudmFzMkQuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fbWVudS5hY3RpdmUgPyB0aGlzLl9tZW51LmRyYXcoKSA6IHRoaXMuX3Bvb2xHYW1lLmRyYXcoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdhbWVMb29wKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmdhbWVMb29wKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxufVxuXG5jb25zdCBnYW1lID0gbmV3IEdhbWUoKTtcbmdhbWUuaW5pdCgpOyIsImltcG9ydCB7IEdhbWUgfSBmcm9tICcuLy4uLy4uL0dhbWUnO1xuaW1wb3J0IHsgSU1lbnVDb21tYW5kIH0gZnJvbSAnLi9JTWVudUNvbW1hbmQnO1xuXG5leHBvcnQgY2xhc3MgR29Ub1N1Yk1lbnVDb21tYW5kIGltcGxlbWVudHMgSU1lbnVDb21tYW5kIHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX2dhbWU6IEdhbWUpIHt9XG5cbiAgICBleGVjdXRlKHZhbHVlOiBhbnkpOiB2b2lkIHtcbiAgICAgICB0aGlzLl9nYW1lLmdvVG9TdWJNZW51KHZhbHVlKTtcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBJTWVudUNvbW1hbmQgfSBmcm9tICcuL0lNZW51Q29tbWFuZCc7XG5pbXBvcnQgeyBHQU1FX0NPTkZJRyB9IGZyb20gJy4uLy4uL2dhbWUuY29uZmlnJztcblxuZXhwb3J0IGNsYXNzIFRvZ2dsZVNvdW5kQ29tbWFuZCBpbXBsZW1lbnRzIElNZW51Q29tbWFuZCB7XG4gICAgXG4gICAgcHJpdmF0ZSB0b2dnbGVNdXRlQnV0dG9uU3ByaXRlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBjdXJyZW50TXV0ZUJ1dHRvblBhdGg6IHN0cmluZyA9IEdBTUVfQ09ORklHLlNQUklURVMuTVVURV9CVVRUT047XG4gICAgICAgIGNvbnN0IGN1cnJlbnRNdXRlQnV0dG9uSG92ZXJlZFBhdGg6IHN0cmluZyA9IEdBTUVfQ09ORklHLlNQUklURVMuTVVURV9CVVRUT05fSE9WRVJFRDtcbiAgICAgICAgR0FNRV9DT05GSUcuU1BSSVRFUy5NVVRFX0JVVFRPTiA9IEdBTUVfQ09ORklHLlNQUklURVMuTVVURV9CVVRUT05fUFJFU1NFRDtcbiAgICAgICAgR0FNRV9DT05GSUcuU1BSSVRFUy5NVVRFX0JVVFRPTl9IT1ZFUkVEID0gR0FNRV9DT05GSUcuU1BSSVRFUy5NVVRFX0JVVFRPTl9QUkVTU0VEX0hPVkVSRUQ7XG4gICAgICAgIEdBTUVfQ09ORklHLlNQUklURVMuTVVURV9CVVRUT05fUFJFU1NFRCA9IGN1cnJlbnRNdXRlQnV0dG9uUGF0aDtcbiAgICAgICAgR0FNRV9DT05GSUcuU1BSSVRFUy5NVVRFX0JVVFRPTl9QUkVTU0VEX0hPVkVSRUQgPSBjdXJyZW50TXV0ZUJ1dHRvbkhvdmVyZWRQYXRoO1xuICAgIH1cbiAgICBwdWJsaWMgZXhlY3V0ZSgpOiB2b2lkIHtcbiAgICAgICAgR0FNRV9DT05GSUcuU09VTkRfT04gPSAhR0FNRV9DT05GSUcuU09VTkRfT047XG4gICAgICAgIHRoaXMudG9nZ2xlTXV0ZUJ1dHRvblNwcml0ZSgpO1xuICAgIH1cblxufSIsImltcG9ydCB7IElNZW51Q29tbWFuZCB9IGZyb20gJy4vSU1lbnVDb21tYW5kJztcbmltcG9ydCB7IEdhbWUgfSBmcm9tICcuLi8uLi9HYW1lJztcbmltcG9ydCB7IEdhbWVXb3JsZCB9IGZyb20gJy4uLy4uL2dhbWUtb2JqZWN0cy9HYW1lV29ybGQnO1xuXG5leHBvcnQgY2xhc3MgUFZDQ29tbWFuZCBpbXBsZW1lbnRzIElNZW51Q29tbWFuZCB7XG4gICBcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9nYW1lOiBHYW1lKSB7fVxuICAgIFxuICAgIGV4ZWN1dGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2dhbWUuc3RhcnQoKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgR2FtZSB9IGZyb20gJy4vLi4vLi4vR2FtZSc7XG5pbXBvcnQgeyBJTWVudUNvbW1hbmQgfSBmcm9tICcuL0lNZW51Q29tbWFuZCc7XG5pbXBvcnQgeyBHYW1lV29ybGQgfSBmcm9tICcuLi8uLi9nYW1lLW9iamVjdHMvR2FtZVdvcmxkJztcblxuZXhwb3J0IGNsYXNzIFBWUENvbW1hbmQgaW1wbGVtZW50cyBJTWVudUNvbW1hbmQge1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX2dhbWU6IEdhbWUpIHt9XG4gICAgXG4gICAgZXhlY3V0ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fZ2FtZS5zdGFydCgpO1xuICAgIH1cblxufSIsImltcG9ydCB7IElNZW51Q29tbWFuZCB9IGZyb20gJy4vY29tbWFuZHMvSU1lbnVDb21tYW5kJztcbmltcG9ydCB7IE1lbnVCdXR0b24gfSBmcm9tICcuL01lbnVCdXR0b24nO1xuaW1wb3J0IHsgQXNzZXRzIH0gZnJvbSAnLi4vQXNzZXRzJztcbmltcG9ydCB7IENhbnZhczJEIH0gZnJvbSAnLi4vQ2FudmFzJztcbmltcG9ydCB7IEdBTUVfQ09ORklHIH0gZnJvbSAnLi4vZ2FtZS5jb25maWcnO1xuaW1wb3J0IHsgTWVudUFjdGlvblR5cGUgfSBmcm9tICcuL01lbnVBY3Rpb25UeXBlJztcbmltcG9ydCB7IE1lbnVMYWJlbCB9IGZyb20gJy4vTWVudUxhYmVsJztcblxuZXhwb3J0IGNsYXNzIE1lbnUge1xuXG4gICAgcHJpdmF0ZSBfbGFiZWxzOiBNZW51TGFiZWxbXTtcbiAgICBwcml2YXRlIF9idXR0b25zOiBNZW51QnV0dG9uW11cbiAgICBwcml2YXRlIF9hY3RpdmU6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfc3ViTWVudXM6IE1lbnVbXVxuXG4gICAgcHVibGljIHNldCBhY3RpdmUodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBhY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RpdmU7XG4gICAgfVxuXG4gICAgcHVibGljIGluaXQoYWN0aW9uc01hcDogTWFwPE1lbnVBY3Rpb25UeXBlLCBJTWVudUNvbW1hbmQ+LCBjb25maWc6IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLl9idXR0b25zID0gY29uZmlnLkJVVFRPTlMubWFwKChidXR0b246IGFueSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNZW51QnV0dG9uKFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25zTWFwLmdldChidXR0b24uYWN0aW9uKSxcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBidXR0b24ucG9zaXRpb24sIFxuICAgICAgICAgICAgICAgICAgICBidXR0b24uc3ByaXRlLCBcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnNwcml0ZU9uSG92ZXIsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fbGFiZWxzID0gY29uZmlnLkxBQkVMUy5tYXAoKGxhYmVsOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWVudUxhYmVsKFxuICAgICAgICAgICAgICAgICAgICBsYWJlbC50ZXh0LCBcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwucG9zaXRpb24sIFxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5mb250LCBcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuY29sb3IsIFxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5hbGlnbm1lbnRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9zdWJNZW51cyA9IGNvbmZpZy5TVUJfTUVOVVMubWFwKChtZW51OiBhbnkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN1Yk1lbnUgPSBuZXcgTWVudSgpO1xuICAgICAgICAgICAgc3ViTWVudS5pbml0KGFjdGlvbnNNYXAsIG1lbnUpO1xuICAgICAgICAgICAgcmV0dXJuIHN1Yk1lbnU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTdWJNZW51KGluZGV4OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1Yk1lbnVzW2luZGV4XTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICBpZih0aGlzLl9hY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbnMuZm9yRWFjaCgoYnV0dG9uOiBNZW51QnV0dG9uKSA9PiBidXR0b24udXBkYXRlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3ViTWVudXMuZm9yRWFjaCgobWVudTogTWVudSkgPT4gbWVudS51cGRhdGUoKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGRyYXcoKTogdm9pZCB7XG4gICAgICAgIGlmKHRoaXMuX2FjdGl2ZSl7XG4gICAgICAgICAgICBDYW52YXMyRC5jaGFuZ2VDdXJzb3IoR0FNRV9DT05GSUcuREVGQVVMVF9DVVJTT1IpO1xuICAgICAgICAgICAgQ2FudmFzMkQuZHJhd0ltYWdlKEFzc2V0cy5nZXRTcHJpdGUoR0FNRV9DT05GSUcuU1BSSVRFUy5NQUlOX01FTlVfQkFDS0dST1VORCkpXG4gICAgICAgICAgICB0aGlzLl9sYWJlbHMuZm9yRWFjaCgobGFiZWw6IE1lbnVMYWJlbCkgPT4gbGFiZWwuZHJhdygpKTtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbnMuZm9yRWFjaCgoYnV0dG9uOiBNZW51QnV0dG9uKSA9PiBidXR0b24uZHJhdygpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdWJNZW51cy5mb3JFYWNoKChtZW51OiBNZW51KSA9PiBtZW51LmRyYXcoKSk7XG4gICAgfVxufSIsImltcG9ydCB7IElNZW51Q29tbWFuZCB9IGZyb20gJy4vY29tbWFuZHMvSU1lbnVDb21tYW5kJztcbmltcG9ydCB7IEdBTUVfQ09ORklHIH0gZnJvbSAnLi8uLi9nYW1lLmNvbmZpZyc7XG5pbXBvcnQgeyBNb3VzZSB9IGZyb20gJy4vLi4vaW5wdXQvTW91c2UnO1xuaW1wb3J0IHsgQ2FudmFzMkQgfSBmcm9tICcuLy4uL0NhbnZhcyc7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSAnLi8uLi9nZW9tL1ZlY3RvcjInO1xuaW1wb3J0IHsgQXNzZXRzIH0gZnJvbSAnLi4vQXNzZXRzJztcblxuZXhwb3J0IGNsYXNzIE1lbnVCdXR0b24ge1xuXG4gICAgcHJpdmF0ZSBfYWN0aXZlU3ByaXRlOiBIVE1MSW1hZ2VFbGVtZW50O1xuICAgIHByaXZhdGUgX2hvdmVyZWQ6IGJvb2xlYW47XG5cbiAgICBwcml2YXRlIHNldCBob3ZlcmVkKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX2hvdmVyZWQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBfY29tbWFuZDogSU1lbnVDb21tYW5kLFxuICAgICAgICBwcml2YXRlIF92YWx1ZTogYW55LFxuICAgICAgICBwcml2YXRlIF9wb3NpdGlvbjogVmVjdG9yMiwgXG4gICAgICAgIHByaXZhdGUgX3Nwcml0ZUtleTogc3RyaW5nLCBcbiAgICAgICAgcHJpdmF0ZSBfc3ByaXRlT25Ib3ZlcktleTogc3RyaW5nLFxuICAgICkge1xuICAgICAgICB0aGlzLl9hY3RpdmVTcHJpdGUgPSBBc3NldHMuZ2V0U3ByaXRlKEdBTUVfQ09ORklHLlNQUklURVNbdGhpcy5fc3ByaXRlS2V5XSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0luc2lkZUJ1dHRvbihwb3NpdGlvbjogVmVjdG9yMikge1xuICAgICAgICByZXR1cm4gcG9zaXRpb24ueCA+IHRoaXMuX3Bvc2l0aW9uLnggJiZcbiAgICAgICAgICAgICAgIHBvc2l0aW9uLnggPCB0aGlzLl9wb3NpdGlvbi54ICsgdGhpcy5fYWN0aXZlU3ByaXRlLndpZHRoICYmXG4gICAgICAgICAgICAgICBwb3NpdGlvbi55ID4gdGhpcy5fcG9zaXRpb24ueSAmJlxuICAgICAgICAgICAgICAgcG9zaXRpb24ueSA8IHRoaXMuX3Bvc2l0aW9uLnkgKyB0aGlzLl9hY3RpdmVTcHJpdGUuaGVpZ2h0O1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgaGFuZGxlSW5wdXQoKSB7XG5cbiAgICAgICAgdGhpcy5ob3ZlcmVkID0gdGhpcy5pc0luc2lkZUJ1dHRvbihNb3VzZS5wb3NpdGlvbik7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVNwcml0ZSA9IHRoaXMuX2hvdmVyZWQgPyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXNzZXRzLmdldFNwcml0ZShHQU1FX0NPTkZJRy5TUFJJVEVTW3RoaXMuX3Nwcml0ZU9uSG92ZXJLZXldKSA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBc3NldHMuZ2V0U3ByaXRlKEdBTUVfQ09ORklHLlNQUklURVNbdGhpcy5fc3ByaXRlS2V5XSk7XG5cbiAgICAgICAgaWYodGhpcy5faG92ZXJlZCAmJiBNb3VzZS5pc1ByZXNzZWQoR0FNRV9DT05GSUcuU0VMRUNUX01PVVNFX0JVVFRPTikpIHtcbiAgICAgICAgICAgIENhbnZhczJELmNoYW5nZUN1cnNvcihHQU1FX0NPTkZJRy5ERUZBVUxUX0NVUlNPUik7XG4gICAgICAgICAgICB0aGlzLl9jb21tYW5kLmV4ZWN1dGUodGhpcy5fdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5oYW5kbGVJbnB1dCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBkcmF3KCk6IHZvaWQge1xuICAgICAgICBpZih0aGlzLl9ob3ZlcmVkKSB7XG4gICAgICAgICAgICBDYW52YXMyRC5jaGFuZ2VDdXJzb3IoR0FNRV9DT05GSUcuQlVUVE9OX0NVUlNPUik7XG4gICAgICAgIH1cbiAgICAgICAgQ2FudmFzMkQuZHJhd0ltYWdlKHRoaXMuX2FjdGl2ZVNwcml0ZSwgdGhpcy5fcG9zaXRpb24pO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBDYW52YXMyRCB9IGZyb20gJy4vLi4vQ2FudmFzJztcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tICcuLy4uL2dlb20vVmVjdG9yMic7XG5cbmV4cG9ydCBjbGFzcyBNZW51TGFiZWwge1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgX3RleHQ6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSBfcG9zaXRpb246IFZlY3RvcjIsXG4gICAgICAgIHByaXZhdGUgX2ZvbnQ6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSBfY29sb3I6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSBfYWxpZ25tZW50OiBzdHJpbmcsXG4gICAgKXt9XG5cbiAgICBwdWJsaWMgZHJhdygpOiB2b2lkIHtcbiAgICAgICAgQ2FudmFzMkQuZHJhd1RleHQodGhpcy5fdGV4dCwgdGhpcy5fZm9udCwgdGhpcy5fY29sb3IsIHRoaXMuX3Bvc2l0aW9uLCB0aGlzLl9hbGlnbm1lbnQpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBtYXBSYW5nZSB9IGZyb20gJy4vLi4vY29tbW9uL0hlbHBlcic7XG5pbXBvcnQgeyBSZWZlcmVlIH0gZnJvbSAnLi9SZWZlcmVlJztcbmltcG9ydCB7IFBsYXllciB9IGZyb20gJy4vUGxheWVyJztcbmltcG9ydCB7IFN0aWNrIH0gZnJvbSAnLi9TdGljayc7XG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uL2NvbW1vbi9Db2xvcic7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSAnLi4vZ2VvbS9WZWN0b3IyJztcbmltcG9ydCB7IEdBTUVfQ09ORklHIH0gZnJvbSAnLi4vZ2FtZS5jb25maWcnO1xuaW1wb3J0IHsgQXNzZXRzIH0gZnJvbSAnLi4vQXNzZXRzJztcbmltcG9ydCB7IENhbnZhczJEIH0gZnJvbSAnLi4vQ2FudmFzJztcbmltcG9ydCB7IEJhbGwgfSBmcm9tICcuL0JhbGwnO1xuaW1wb3J0IHsgTW91c2UgfSBmcm9tICcuLi9pbnB1dC9Nb3VzZSc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vU3RhdGUnO1xuXG5leHBvcnQgY2xhc3MgR2FtZVdvcmxkIHtcblxuICAgIC8vLS0tLS0tTWVtYmVycy0tLS0tLS8vXG5cbiAgICBfc3RpY2s6IFN0aWNrO1xuICAgIF9jdWVCYWxsOiBCYWxsO1xuICAgIF84QmFsbDogQmFsbDtcbiAgICBfYmFsbHM6IEJhbGxbXTtcbiAgICBfcGxheWVyczogUGxheWVyW10gPSBbXG4gICAgICAgIG5ldyBQbGF5ZXIoKSxcbiAgICAgICAgbmV3IFBsYXllcigpLFxuICAgIF07XG4gICAgX2N1cnJlbnRQbGF5ZXJJbmRleCA9IDA7XG4gICAgX3R1cm5TdGF0ZTogU3RhdGU7XG4gICAgX3JlZmVyZWU6IFJlZmVyZWU7XG5cbiAgICAvLy0tLS0tLVByb3BlcnRpZXMtLS0tLS0vL1xuXG4gICAgcHJpdmF0ZSBnZXQgY3VycmVudFBsYXllcigpOiBQbGF5ZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGxheWVyc1t0aGlzLl9jdXJyZW50UGxheWVySW5kZXhdO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IG5leHRQbGF5ZXIoKTogUGxheWVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BsYXllcnNbKHRoaXMuX2N1cnJlbnRQbGF5ZXJJbmRleCArIDEpICUgdGhpcy5fcGxheWVycy5sZW5ndGhdO1xuICAgIH1cblxuICAgIC8vLS0tLS0tQ29uc3RydWN0b3ItLS0tLS0vL1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaW5pdE1hdGNoKCk7XG4gICAgfVxuXG4gICAgLy8tLS0tLS1Qcml2YXRlIE1ldGhvZHMtLS0tLS0vL1xuXG4gICAgcHJpdmF0ZSBnZXRCYWxsc0J5Q29sb3IoY29sb3I6IENvbG9yKTogQmFsbFtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JhbGxzLmZpbHRlcigoYmFsbDogQmFsbCkgPT4gYmFsbC5jb2xvciA9PT0gY29sb3IpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2hvb3RDdWVCYWxsKCk6IHZvaWQge1xuICAgICAgICBpZih0aGlzLl9zdGljay5wb3dlciA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3N0aWNrLnNob290KCk7XG4gICAgICAgICAgICB0aGlzLl9jdWVCYWxsLnNob290KHRoaXMuX3N0aWNrLnBvd2VyLCB0aGlzLl9zdGljay5yb3RhdGlvbik7XG4gICAgICAgICAgICB0aGlzLl9zdGljay5tb3ZhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuX3N0aWNrLmhpZGUoKSwgR0FNRV9DT05GSUcuVElNRU9VVF9UT19ISURFX1NUSUNLX0FGVEVSX1NIT1QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVJbnB1dCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKE1vdXNlLmlzUHJlc3NlZChHQU1FX0NPTkZJRy5TSE9PVF9NT1VTRV9CVVRUT04pKSB7XG4gICAgICAgICAgICB0aGlzLnNob290Q3VlQmFsbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXNvbHZlQmFsbENvbGxpc2lvbldpdGhDdXNoaW9uKGJhbGw6IEJhbGwpOiB2b2lkIHtcblxuICAgICAgICBjb25zdCBiYWxsUmFkaXVzOiBudW1iZXIgPSBHQU1FX0NPTkZJRy5CQUxMX0RJQU1FVEVSIC8gMjtcbiAgICAgICAgY29uc3QgdG9wQmFsbEVkZ2U6IG51bWJlciA9IGJhbGwubmV4dFBvc2l0aW9uLnkgLSBiYWxsUmFkaXVzO1xuICAgICAgICBjb25zdCBsZWZ0QmFsbEVkZ2U6IG51bWJlciA9IGJhbGwubmV4dFBvc2l0aW9uLnggLSBiYWxsUmFkaXVzO1xuICAgICAgICBjb25zdCByaWdodEJhbGxFZGdlOiBudW1iZXIgPSBiYWxsLm5leHRQb3NpdGlvbi54ICsgYmFsbFJhZGl1cztcbiAgICAgICAgY29uc3QgYm90dG9tQmFsbEVkZ2U6IG51bWJlciA9IGJhbGwubmV4dFBvc2l0aW9uLnkgKyBiYWxsUmFkaXVzO1xuXG4gICAgICAgIGxldCBjb2xsaWRlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIGlmKHRvcEJhbGxFZGdlIDw9IEdBTUVfQ09ORklHLkNVU0hJT05fV0lEVEgpIHtcbiAgICAgICAgICAgIGJhbGwucG9zaXRpb24gPSBiYWxsLnBvc2l0aW9uLmFkZFkoR0FNRV9DT05GSUcuQ1VTSElPTl9XSURUSCAtIGJhbGwucG9zaXRpb24ueSArIGJhbGxSYWRpdXMpO1xuICAgICAgICAgICAgYmFsbC52ZWxvY2l0eSA9IG5ldyBWZWN0b3IyKGJhbGwudmVsb2NpdHkueCwgLWJhbGwudmVsb2NpdHkueSk7XG4gICAgICAgICAgICBjb2xsaWRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYobGVmdEJhbGxFZGdlIDw9IEdBTUVfQ09ORklHLkNVU0hJT05fV0lEVEgpIHtcbiAgICAgICAgICAgIGJhbGwucG9zaXRpb24gPSBiYWxsLnBvc2l0aW9uLmFkZFgoR0FNRV9DT05GSUcuQ1VTSElPTl9XSURUSCAtIGJhbGwucG9zaXRpb24ueCArIGJhbGxSYWRpdXMpO1xuICAgICAgICAgICAgYmFsbC52ZWxvY2l0eSA9IG5ldyBWZWN0b3IyKC1iYWxsLnZlbG9jaXR5LngsIGJhbGwudmVsb2NpdHkueSk7XG4gICAgICAgICAgICBjb2xsaWRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYocmlnaHRCYWxsRWRnZSA+PSBHQU1FX0NPTkZJRy5HQU1FX1dJRFRIIC0gR0FNRV9DT05GSUcuQ1VTSElPTl9XSURUSCkge1xuICAgICAgICAgICAgYmFsbC5wb3NpdGlvbiA9IGJhbGwucG9zaXRpb24uYWRkWChHQU1FX0NPTkZJRy5HQU1FX1dJRFRIIC0gR0FNRV9DT05GSUcuQ1VTSElPTl9XSURUSCAtIGJhbGwucG9zaXRpb24ueCAtIGJhbGxSYWRpdXMpO1xuICAgICAgICAgICAgYmFsbC52ZWxvY2l0eSA9IG5ldyBWZWN0b3IyKC1iYWxsLnZlbG9jaXR5LngsIGJhbGwudmVsb2NpdHkueSk7XG4gICAgICAgICAgICBjb2xsaWRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYoYm90dG9tQmFsbEVkZ2UgPj0gR0FNRV9DT05GSUcuR0FNRV9IRUlHSFQgLSBHQU1FX0NPTkZJRy5DVVNISU9OX1dJRFRIKSB7XG4gICAgICAgICAgICBiYWxsLnBvc2l0aW9uID0gYmFsbC5wb3NpdGlvbi5hZGRZKEdBTUVfQ09ORklHLkdBTUVfSEVJR0hUIC0gR0FNRV9DT05GSUcuQ1VTSElPTl9XSURUSCAtIGJhbGwucG9zaXRpb24ueSAtIGJhbGxSYWRpdXMpO1xuICAgICAgICAgICAgYmFsbC52ZWxvY2l0eSA9IG5ldyBWZWN0b3IyKGJhbGwudmVsb2NpdHkueCwgLWJhbGwudmVsb2NpdHkueSk7XG4gICAgICAgICAgICBjb2xsaWRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZihjb2xsaWRlZCkge1xuICAgICAgICAgICAgYmFsbC52ZWxvY2l0eSA9IGJhbGwudmVsb2NpdHkubXVsdCgxIC0gR0FNRV9DT05GSUcuQ09MTElTSU9OX0xPU1MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXNvbHZlQmFsbHNDb2xsaXNpb24gKGZpcnN0OiBCYWxsLCBzZWNvbmQ6IEJhbGwpOiBib29sZWFuIHtcblxuICAgICAgICBpZighZmlyc3QudmlzaWJsZSB8fCAhc2Vjb25kLnZpc2libGUpe1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8vIEZpbmQgYSBub3JtYWwgdmVjdG9yXG4gICAgICAgIGNvbnN0IG46IFZlY3RvcjIgPSBmaXJzdC5wb3NpdGlvbi5zdWJ0cmFjdChzZWNvbmQucG9zaXRpb24pO1xuICAgIFxuICAgICAgICAvLyBGaW5kIGRpc3RhbmNlXG4gICAgICAgIGNvbnN0IGRpc3Q6IG51bWJlciA9IG4ubGVuZ3RoO1xuICAgIFxuICAgICAgICBpZihkaXN0ID4gR0FNRV9DT05GSUcuQkFMTF9ESUFNRVRFUil7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLy8gRmluZCBtaW5pbXVtIHRyYW5zbGF0aW9uIGRpc3RhbmNlXG4gICAgICAgIGNvbnN0IG10ZCA9IG4ubXVsdCgoR0FNRV9DT05GSUcuQkFMTF9ESUFNRVRFUiAtIGRpc3QpIC8gZGlzdCk7XG4gICAgXG4gICAgICAgIC8vIFB1c2gtcHVsbCBiYWxscyBhcGFydFxuICAgICAgICBmaXJzdC5wb3NpdGlvbiA9IGZpcnN0LnBvc2l0aW9uLmFkZChtdGQubXVsdCgwLjUpKTtcbiAgICAgICAgc2Vjb25kLnBvc2l0aW9uID0gc2Vjb25kLnBvc2l0aW9uLnN1YnRyYWN0KG10ZC5tdWx0KDAuNSkpO1xuICAgIFxuICAgICAgICAvLyBGaW5kIHVuaXQgbm9ybWFsIHZlY3RvclxuICAgICAgICBjb25zdCB1biA9IG4ubXVsdCgxL24ubGVuZ3RoKTtcbiAgICBcbiAgICAgICAgLy8gRmluZCB1bml0IHRhbmdlbnQgdmVjdG9yXG4gICAgICAgIGNvbnN0IHV0ID0gbmV3IFZlY3RvcjIoLXVuLnksIHVuLngpO1xuICAgIFxuICAgICAgICAvLyBQcm9qZWN0IHZlbG9jaXRpZXMgb250byB0aGUgdW5pdCBub3JtYWwgYW5kIHVuaXQgdGFuZ2VudCB2ZWN0b3JzXG4gICAgICAgIGNvbnN0IHYxbjogbnVtYmVyID0gdW4uZG90KGZpcnN0LnZlbG9jaXR5KTtcbiAgICAgICAgY29uc3QgdjF0OiBudW1iZXIgPSB1dC5kb3QoZmlyc3QudmVsb2NpdHkpO1xuICAgICAgICBjb25zdCB2Mm46IG51bWJlciA9IHVuLmRvdChzZWNvbmQudmVsb2NpdHkpO1xuICAgICAgICBjb25zdCB2MnQ6IG51bWJlciA9IHV0LmRvdChzZWNvbmQudmVsb2NpdHkpO1xuICAgIFxuICAgICAgICAvLyBDb252ZXJ0IHRoZSBzY2FsYXIgbm9ybWFsIGFuZCB0YW5nZW50aWFsIHZlbG9jaXRpZXMgaW50byB2ZWN0b3JzXG4gICAgICAgIGNvbnN0IHYxblRhZzogVmVjdG9yMiA9IHVuLm11bHQodjJuKTtcbiAgICAgICAgY29uc3QgdjF0VGFnOiBWZWN0b3IyID0gdXQubXVsdCh2MXQpO1xuICAgICAgICBjb25zdCB2Mm5UYWc6IFZlY3RvcjIgPSB1bi5tdWx0KHYxbik7XG4gICAgICAgIGNvbnN0IHYydFRhZzogVmVjdG9yMiA9IHV0Lm11bHQodjJ0KTtcbiAgICBcbiAgICAgICAgLy8gVXBkYXRlIHZlbG9jaXRpZXNcbiAgICAgICAgZmlyc3QudmVsb2NpdHkgPSB2MW5UYWcuYWRkKHYxdFRhZyk7XG4gICAgICAgIHNlY29uZC52ZWxvY2l0eSA9IHYyblRhZy5hZGQodjJ0VGFnKTtcbiAgICBcbiAgICAgICAgZmlyc3QudmVsb2NpdHkgPSBmaXJzdC52ZWxvY2l0eS5tdWx0KDEgLSBHQU1FX0NPTkZJRy5DT0xMSVNJT05fTE9TUyk7XG4gICAgICAgIHNlY29uZC52ZWxvY2l0eSA9IHNlY29uZC52ZWxvY2l0eS5tdWx0KDEgLSBHQU1FX0NPTkZJRy5DT0xMSVNJT05fTE9TUyk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUNvbGxpc2lvbnMoKTogdm9pZCB7XG4gICAgICAgIGZvcihsZXQgaSA9IDAgOyBpIDwgdGhpcy5fYmFsbHMubGVuZ3RoIDsgaSsrICl7IFxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnJlc29sdmVCYWxsQ29sbGlzaW9uV2l0aEN1c2hpb24odGhpcy5fYmFsbHNbaV0pO1xuXG4gICAgICAgICAgICBmb3IobGV0IGogPSBpICsgMSA7IGogPCB0aGlzLl9iYWxscy5sZW5ndGggOyBqKysgKXtcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdEJhbGwgPSB0aGlzLl9iYWxsc1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWNvbmRCYWxsID0gdGhpcy5fYmFsbHNbal07XG4gICAgICAgICAgICAgICAgY29uc3QgY29sbGlkZWQgPSB0aGlzLnJlc29sdmVCYWxsc0NvbGxpc2lvbihmaXJzdEJhbGwsIHNlY29uZEJhbGwpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmKGNvbGxpZGVkKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9yY2U6IG51bWJlciA9IGZpcnN0QmFsbC52ZWxvY2l0eS5sZW5ndGggKyBzZWNvbmRCYWxsLnZlbG9jaXR5Lmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2b2x1bWU6IG51bWJlciA9IG1hcFJhbmdlKGZvcmNlLCAwLCBHQU1FX0NPTkZJRy5NQVhfQkFMTF9FWFBFQ1RFRF9DT0xMSVNJT05fRk9SQ0UsIDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICBBc3NldHMucGxheVNvdW5kKEdBTUVfQ09ORklHLlNPVU5EUy5CQUxMU19DT0xMSURFLCB2b2x1bWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLl90dXJuU3RhdGUuZmlyc3RDb2xsaWRlZEJhbGxDb2xvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3I6IENvbG9yID0gZmlyc3RCYWxsLmNvbG9yID09PSBDb2xvci53aGl0ZSA/IHNlY29uZEJhbGwuY29sb3IgOiBmaXJzdEJhbGwuY29sb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90dXJuU3RhdGUuZmlyc3RDb2xsaWRlZEJhbGxDb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9ICAgIFxuICAgIH1cblxuICAgIHByaXZhdGUgaXNJbnNpZGVQb2NrZXQocG9zaXRpb246IFZlY3RvcjIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIEdBTUVfQ09ORklHLlBPQ0tFVFNfUE9TSVRJT05TXG4gICAgICAgICAgICAuc29tZSgocG9ja2V0UG9zOiBWZWN0b3IyKSA9PiBwb3NpdGlvbi5kaXN0RnJvbShwb2NrZXRQb3MpIDw9IEdBTUVfQ09ORklHLlBPQ0tFVF9SQURJVVMpO1xuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXNvbHZlQmFsbEluUG9ja2V0KGJhbGw6IEJhbGwpOiB2b2lkIHtcblxuICAgICAgICBpZiAodGhpcy5pc0luc2lkZVBvY2tldChiYWxsLnBvc2l0aW9uKSkge1xuICAgICAgICAgICAgYmFsbC5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGlzVmFsaWRQbGF5ZXJDb2xvcihjb2xvcjogQ29sb3IpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGNvbG9yID09PSBDb2xvci5yZWQgfHwgY29sb3IgPT09IENvbG9yLnllbGxvdztcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUJhbGxzSW5Qb2NrZXRzKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9iYWxscy5mb3JFYWNoKChiYWxsOiBCYWxsKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVCYWxsSW5Qb2NrZXQoYmFsbCk7XG4gICAgICAgICAgICBpZiAoIWJhbGwudmlzaWJsZSAmJiAhdGhpcy5fdHVyblN0YXRlLnBvY2tldGVkQmFsbHMuaW5jbHVkZXMoYmFsbCkpIHtcbiAgICAgICAgICAgICAgICBBc3NldHMucGxheVNvdW5kKEdBTUVfQ09ORklHLlNPVU5EUy5SQUlMLCAxKTtcbiAgICAgICAgICAgICAgICBpZighdGhpcy5jdXJyZW50UGxheWVyLmNvbG9yICYmIHRoaXMuaXNWYWxpZFBsYXllckNvbG9yKGJhbGwuY29sb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBsYXllci5jb2xvciA9IGJhbGwuY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFBsYXllci5jb2xvciA9IGJhbGwuY29sb3IgPT09IENvbG9yLnllbGxvdyA/IENvbG9yLnJlZCA6IENvbG9yLnllbGxvdztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fdHVyblN0YXRlLnBvY2tldGVkQmFsbHMucHVzaChiYWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVCYWxsSW5IYW5kKCk6IHZvaWQge1xuXG4gICAgICAgIGlmKE1vdXNlLmlzUHJlc3NlZChHQU1FX0NPTkZJRy5QTEFDRV9CQUxMX0lOX0hBTkRfTU9VU0VfQlVUVE9OKSkge1xuICAgICAgICAgICAgdGhpcy5fdHVyblN0YXRlLmJhbGxJbkhhbmQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3N0aWNrLnNob3codGhpcy5fY3VlQmFsbC5wb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zdGljay5tb3ZhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9zdGljay52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9jdWVCYWxsLnBvc2l0aW9uID0gTW91c2UucG9zaXRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGJhbGxzTW92aW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fYmFsbHMuc29tZShiYWxsID0+IGJhbGwubW92aW5nKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbmNsdWRlVHVybigpOiB2b2lkIHtcblxuICAgICAgICB0aGlzLl90dXJuU3RhdGUucG9ja2V0ZWRCYWxscy5mb3JFYWNoKChiYWxsOiBCYWxsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBiYWxsSW5kZXg6IG51bWJlciA9IHRoaXMuX2JhbGxzLmluZGV4T2YoYmFsbCk7XG4gICAgICAgICAgICBpZihiYWxsLmNvbG9yICE9IENvbG9yLndoaXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmFsbHMuc3BsaWNlKGJhbGxJbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYodGhpcy5jdXJyZW50UGxheWVyLmNvbG9yKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQbGF5ZXIubWF0Y2hTY29yZSA9IDggLSB0aGlzLmdldEJhbGxzQnlDb2xvcih0aGlzLmN1cnJlbnRQbGF5ZXIuY29sb3IpLmxlbmd0aCAtIHRoaXMuZ2V0QmFsbHNCeUNvbG9yKENvbG9yLmJsYWNrKS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZih0aGlzLm5leHRQbGF5ZXIuY29sb3IpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dFBsYXllci5tYXRjaFNjb3JlID0gOCAtIHRoaXMuZ2V0QmFsbHNCeUNvbG9yKHRoaXMubmV4dFBsYXllci5jb2xvcikubGVuZ3RoIC0gdGhpcy5nZXRCYWxsc0J5Q29sb3IoQ29sb3IuYmxhY2spLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3R1cm5TdGF0ZS5pc1ZhbGlkID0gdGhpcy5fcmVmZXJlZS5pc1ZhbGlkVHVybih0aGlzLmN1cnJlbnRQbGF5ZXIsIHRoaXMuX3R1cm5TdGF0ZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVHYW1lT3ZlcigpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuX3R1cm5TdGF0ZS5pc1ZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQbGF5ZXIub3ZlcmFsbFNjb3JlKys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm5leHRQbGF5ZXIub3ZlcmFsbFNjb3JlKys7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0TWF0Y2goKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG5leHRUdXJuKCk6IHZvaWQge1xuXG4gICAgICAgIGNvbnN0IGZvdWwgPSAhdGhpcy5fdHVyblN0YXRlLmlzVmFsaWQ7XG5cbiAgICAgICAgaWYodGhpcy5fcmVmZXJlZS5pc0dhbWVPdmVyKHRoaXMuY3VycmVudFBsYXllciwgdGhpcy5fY3VlQmFsbCwgdGhpcy5fOEJhbGwpKXtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlR2FtZU92ZXIoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCF0aGlzLl9jdWVCYWxsLnZpc2libGUpe1xuICAgICAgICAgICAgdGhpcy5fY3VlQmFsbC5zaG93KFZlY3RvcjIuY29weShHQU1FX0NPTkZJRy5DVUVfQkFMTF9QT1NJVElPTikpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoZm91bCB8fCB0aGlzLl90dXJuU3RhdGUucG9ja2V0ZWRCYWxscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRQbGF5ZXJJbmRleCsrO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFBsYXllckluZGV4ID0gdGhpcy5fY3VycmVudFBsYXllckluZGV4ICUgdGhpcy5fcGxheWVycy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdGljay5zaG93KHRoaXMuX2N1ZUJhbGwucG9zaXRpb24pO1xuXG4gICAgICAgIHRoaXMuX3R1cm5TdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICAgICAgICB0aGlzLl90dXJuU3RhdGUuYmFsbEluSGFuZCA9IGZvdWw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkcmF3Q3VycmVudFBsYXllckxhYmVsKCk6IHZvaWQge1xuICAgICAgICBcbiAgICAgICAgQ2FudmFzMkQuZHJhd1RleHQoXG4gICAgICAgICAgICBHQU1FX0NPTkZJRy5DVVJSRU5UX1BMQVlFUl9MQUJFTCArICh0aGlzLl9jdXJyZW50UGxheWVySW5kZXggKyAxKSwgXG4gICAgICAgICAgICBHQU1FX0NPTkZJRy5DVVJSRU5UX1BMQVlFUl9MQUJFTF9GT05ULCBcbiAgICAgICAgICAgIEdBTUVfQ09ORklHLkNVUlJFTlRfUExBWUVSX0xBQkVMX0NPTE9SLCBcbiAgICAgICAgICAgIEdBTUVfQ09ORklHLkNVUlJFTlRfUExBWUVSX0xBQkVMX1BPU0lUSU9OLCBcbiAgICAgICAgICAgIEdBTUVfQ09ORklHLkNVUlJFTlRfUExBWUVSX0xBQkVMX0FMSUdOTUVOVFxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRyYXdNYXRjaFNjb3JlcygpOiB2b2lkIHtcbiAgICAgICAgZm9yKGxldCBpID0gMCA7IGkgPCB0aGlzLl9wbGF5ZXJzLmxlbmd0aCA7IGkrKyl7ICAgIFxuICAgICAgICAgICAgZm9yKGxldCBqID0gMCA7IGogPCB0aGlzLl9wbGF5ZXJzW2ldLm1hdGNoU2NvcmUgOyBqKyspe1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjb3JlUG9zaXRpb246IFZlY3RvcjIgPSBWZWN0b3IyLmNvcHkoR0FNRV9DT05GSUcuTUFUQ0hfU0NPUkVfUE9TSVRJT05TW2ldKS5hZGRUb1goaiAqIEdBTUVfQ09ORklHLk1BVENIX1NDT1JFX01BUkdJTik7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NvcmVTcHJpdGU6IEhUTUxJbWFnZUVsZW1lbnQgPSB0aGlzLl9wbGF5ZXJzW2ldLmNvbG9yID09PSBDb2xvci5yZWQgPyBBc3NldHMuZ2V0U3ByaXRlKEdBTUVfQ09ORklHLlNQUklURVMuUkVEX1NDT1JFKSA6IEFzc2V0cy5nZXRTcHJpdGUoR0FNRV9DT05GSUcuU1BSSVRFUy5ZRUxMT1dfU0NPUkUpO1xuICAgICAgICAgICAgICAgIENhbnZhczJELmRyYXdJbWFnZShzY29yZVNwcml0ZSwgc2NvcmVQb3NpdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gICAgXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkcmF3T3ZlcmFsbFNjb3JlcygpOiB2b2lkIHtcbiAgICAgICAgZm9yKGxldCBpID0gMCA7IGkgPCB0aGlzLl9wbGF5ZXJzLmxlbmd0aCA7IGkrKyl7IFxuICAgICAgICAgICAgQ2FudmFzMkQuZHJhd1RleHQoXG4gICAgICAgICAgICAgICAgdGhpcy5fcGxheWVyc1tpXS5vdmVyYWxsU2NvcmUudG9TdHJpbmcoKSwgXG4gICAgICAgICAgICAgICAgR0FNRV9DT05GSUcuT1ZFUkFMTF9TQ09SRV9MQUJFTF9GT05ULFxuICAgICAgICAgICAgICAgIEdBTUVfQ09ORklHLk9WRVJBTExfU0NPUkVfTEFCRUxfQ09MT1IsXG4gICAgICAgICAgICAgICAgR0FNRV9DT05GSUcuT1ZFUkFMTF9TQ09SRV9MQUJFTFNfUE9TSVRJT05TW2ldLFxuICAgICAgICAgICAgICAgIEdBTUVfQ09ORklHLk9WRVJBTExfU0NPUkVfTEFCRUxTX0FMSUdOTUVOVFxuICAgICAgICAgICAgICAgICk7ICAgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLy0tLS0tLVB1YmxpYyBNZXRob2RzLS0tLS0tLy9cblxuICAgIHB1YmxpYyBpbml0TWF0Y2goKTogdm9pZCB7XG5cbiAgICAgICAgY29uc3QgcmVkQmFsbHM6IEJhbGxbXSA9IEdBTUVfQ09ORklHLlJFRF9CQUxMU19QT1NJVElPTlNcbiAgICAgICAgICAgIC5tYXAoKHBvc2l0aW9uOiBWZWN0b3IyKSA9PiBuZXcgQmFsbChWZWN0b3IyLmNvcHkocG9zaXRpb24pLCBDb2xvci55ZWxsb3cpKTtcblxuICAgICAgICBjb25zdCB5ZWxsb3dCYWxsczogQmFsbFtdID0gR0FNRV9DT05GSUcuWUVMTE9XX0JBTExTX1BPU0lUSU9OU1xuICAgICAgICAgICAgLm1hcCgocG9zaXRpb246IFZlY3RvcjIpID0+IG5ldyBCYWxsKFZlY3RvcjIuY29weShwb3NpdGlvbiksIENvbG9yLnJlZCkpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5fOEJhbGwgPSBuZXcgQmFsbChWZWN0b3IyLmNvcHkoR0FNRV9DT05GSUcuRUlHSFRfQkFMTF9QT1NJVElPTiksIENvbG9yLmJsYWNrKTtcblxuICAgICAgICB0aGlzLl9jdWVCYWxsID0gbmV3IEJhbGwoVmVjdG9yMi5jb3B5KEdBTUVfQ09ORklHLkNVRV9CQUxMX1BPU0lUSU9OKSwgQ29sb3Iud2hpdGUpO1xuXG4gICAgICAgIHRoaXMuX3N0aWNrID0gbmV3IFN0aWNrKFZlY3RvcjIuY29weShHQU1FX0NPTkZJRy5DVUVfQkFMTF9QT1NJVElPTikpO1xuXG4gICAgICAgIHRoaXMuX2JhbGxzID0gW1xuICAgICAgICAgICAgLi4ucmVkQmFsbHMsIFxuICAgICAgICAgICAgLi4uIHllbGxvd0JhbGxzLCBcbiAgICAgICAgICAgIHRoaXMuXzhCYWxsLFxuICAgICAgICAgICAgdGhpcy5fY3VlQmFsbCwgXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fY3VycmVudFBsYXllckluZGV4ID0gMDtcblxuICAgICAgICB0aGlzLl9wbGF5ZXJzLmZvckVhY2goKHBsYXllcjogUGxheWVyKSA9PiB7XG4gICAgICAgICAgICBwbGF5ZXIubWF0Y2hTY29yZSA9IDA7XG4gICAgICAgICAgICBwbGF5ZXIuY29sb3IgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fdHVyblN0YXRlID0gbmV3IFN0YXRlKCk7XG4gICAgICAgIHRoaXMuX3JlZmVyZWUgPSBuZXcgUmVmZXJlZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgIGlmKHRoaXMuX3R1cm5TdGF0ZS5iYWxsSW5IYW5kKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUJhbGxJbkhhbmQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhhbmRsZUJhbGxzSW5Qb2NrZXRzKCk7XG4gICAgICAgIHRoaXMuaGFuZGxlQ29sbGlzaW9ucygpO1xuICAgICAgICB0aGlzLmhhbmRsZUlucHV0KCk7XG4gICAgICAgIHRoaXMuX3N0aWNrLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLl9iYWxscy5mb3JFYWNoKChiYWxsOiBCYWxsKSA9PiBiYWxsLnVwZGF0ZSgpKTtcblxuICAgICAgICBpZighdGhpcy5iYWxsc01vdmluZygpICYmICF0aGlzLl9zdGljay52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmNsdWRlVHVybigpO1xuICAgICAgICAgICAgdGhpcy5uZXh0VHVybigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRyYXcoKTogdm9pZCB7XG4gICAgICAgIENhbnZhczJELmRyYXdJbWFnZShBc3NldHMuZ2V0U3ByaXRlKEdBTUVfQ09ORklHLlNQUklURVMuVEFCTEUpKTtcbiAgICAgICAgdGhpcy5kcmF3Q3VycmVudFBsYXllckxhYmVsKCk7XG4gICAgICAgIHRoaXMuZHJhd01hdGNoU2NvcmVzKCk7XG4gICAgICAgIHRoaXMuZHJhd092ZXJhbGxTY29yZXMoKTtcbiAgICAgICAgdGhpcy5fYmFsbHMuZm9yRWFjaCgoYmFsbDogQmFsbCkgPT4gYmFsbC5kcmF3KCkpO1xuICAgICAgICB0aGlzLl9zdGljay5kcmF3KCk7XG4gICAgfVxufSIsImltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi9TdGF0ZSc7XG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJy4vLi4vY29tbW9uL0NvbG9yJztcbmltcG9ydCB7IEJhbGwgfSBmcm9tIFwiLi9CYWxsXCI7XG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi9QbGF5ZXJcIjtcblxuZXhwb3J0IGNsYXNzIFJlZmVyZWUge1xuXG4gICAgcHJpdmF0ZSBpc1ZhbGlkRmlyc3RUb3VjaChwbGF5ZXI6IFBsYXllciwgY29sbGlkZWRCYWxsQ29sb3I6IENvbG9yKTogYm9vbGVhbiB7XG5cbiAgICAgICAgaWYoIWNvbGxpZGVkQmFsbENvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYoIXBsYXllci5jb2xvcikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbGxpZGVkQmFsbENvbG9yICE9PSBDb2xvci5ibGFjaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwbGF5ZXIuY29sb3IgPT09IGNvbGxpZGVkQmFsbENvbG9yIHx8IFxuICAgICAgICAgICAgICAgKHBsYXllci5tYXRjaFNjb3JlID09PSA3ICYmIGNvbGxpZGVkQmFsbENvbG9yID09PSBDb2xvci5ibGFjaykgfHxcbiAgICAgICAgICAgICAgIChwbGF5ZXIubWF0Y2hTY29yZSA9PT0gOCAmJiBjb2xsaWRlZEJhbGxDb2xvciA9PT0gQ29sb3IuYmxhY2spOyBcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzVmFsaWRQb2NrZXRlZEJhbGxzKHBsYXllcjogUGxheWVyLCBwb2NrZXRlZEJhbGxzOiBCYWxsW10pOiBib29sZWFuIHtcbiAgICAgICAgaWYocG9ja2V0ZWRCYWxscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmKHBsYXllci5jb2xvcikge1xuICAgICAgICAgICAgaWYgKHBsYXllci5tYXRjaFNjb3JlID09PSA4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvY2tldGVkQmFsbHMubGVuZ3RoID09PSAxICYmIHBvY2tldGVkQmFsbHNbMF0uY29sb3IgPT09IENvbG9yLmJsYWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvY2tldGVkQmFsbHMuZXZlcnkoKGJhbGw6IEJhbGwpID0+IGJhbGwuY29sb3IgPT09IHBsYXllci5jb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjb2xvciA9IHBvY2tldGVkQmFsbHNbMF0uY29sb3I7XG4gICAgICAgICAgICByZXR1cm4gY29sb3IgIT09IENvbG9yLndoaXRlICYmXG4gICAgICAgICAgICAgICAgICAgY29sb3IgIT09IENvbG9yLmJsYWNrICYmXG4gICAgICAgICAgICAgICAgICAgcG9ja2V0ZWRCYWxscy5ldmVyeSgoYmFsbDogQmFsbCkgPT4gYmFsbC5jb2xvciA9PT0gY29sb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBpc1ZhbGlkVHVybihwbGF5ZXI6IFBsYXllciwgc3RhdGU6IFN0YXRlKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWRGaXJzdFRvdWNoKHBsYXllciwgc3RhdGUuZmlyc3RDb2xsaWRlZEJhbGxDb2xvcikgJiZcbiAgICAgICAgICAgICAgIHRoaXMuaXNWYWxpZFBvY2tldGVkQmFsbHMocGxheWVyLCBzdGF0ZS5wb2NrZXRlZEJhbGxzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNHYW1lT3ZlcihjdXJyZW50UGxheWVyOiBQbGF5ZXIsIGN1ZUJhbGw6IEJhbGwsIGVpZ2h0QmFsbDogQmFsbCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gIWVpZ2h0QmFsbC52aXNpYmxlIHx8IFxuICAgICAgICAgICAgICAgKCFjdWVCYWxsLnZpc2libGUgJiYgY3VycmVudFBsYXllci5tYXRjaFNjb3JlID09PSA3KSB8fFxuICAgICAgICAgICAgICAgKCFjdWVCYWxsLnZpc2libGUgJiYgY3VycmVudFBsYXllci5tYXRjaFNjb3JlID09PSA4KVxuICAgIH1cbn0iLCJpbXBvcnQgeyBHQU1FX0NPTkZJRyB9IGZyb20gJy4vLi4vZ2FtZS5jb25maWcnO1xuaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLy4uL2NvbW1vbi9Db2xvcic7XG5pbXBvcnQgeyBDYW52YXMyRCB9IGZyb20gJy4uL0NhbnZhcyc7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXIge1xuXG4gICAgcHVibGljIGNvbG9yOiBDb2xvcjtcbiAgICBwdWJsaWMgbWF0Y2hTY29yZTogbnVtYmVyID0gMDtcbiAgICBwdWJsaWMgb3ZlcmFsbFNjb3JlOiBudW1iZXIgPSAwO1xuXG59IiwiaW1wb3J0IHsgS2V5Ym9hcmQgfSBmcm9tICcuLy4uL2lucHV0L0tleWJvYXJkJztcbmltcG9ydCB7IE1vdXNlIH0gZnJvbSAnLi8uLi9pbnB1dC9Nb3VzZSc7XG5pbXBvcnQgeyBHQU1FX0NPTkZJRyB9IGZyb20gJy4vLi4vZ2FtZS5jb25maWcnO1xuaW1wb3J0IHsgQXNzZXRzIH0gZnJvbSAnLi8uLi9Bc3NldHMnO1xuaW1wb3J0IHsgQ2FudmFzMkQgfSBmcm9tICcuLy4uL0NhbnZhcyc7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSAnLi8uLi9nZW9tL1ZlY3RvcjInO1xuaW1wb3J0IHsgbWFwUmFuZ2UgfSBmcm9tICcuLi9jb21tb24vSGVscGVyJztcblxuZXhwb3J0IGNsYXNzIFN0aWNrIHtcblxuICAgIC8vLS0tLS0tTWVtYmVycy0tLS0tLS8vXG5cbiAgICBwcml2YXRlIF9zcHJpdGU6IEhUTUxJbWFnZUVsZW1lbnQgPSBBc3NldHMuZ2V0U3ByaXRlKEdBTUVfQ09ORklHLlNQUklURVMuU1RJQ0spO1xuICAgIHByaXZhdGUgX3JvdGF0aW9uOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX29yaWdpbjogVmVjdG9yMiA9IFZlY3RvcjIuY29weShHQU1FX0NPTkZJRy5TVElDS19PUklHSU4pO1xuICAgIHByaXZhdGUgX3Bvd2VyOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX21vdmFibGU6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHByaXZhdGUgX3Zpc2libGU6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgLy8tLS0tLS1Qcm9wZXJ0aWVzLS0tLS0tLy9cblxuICAgIHB1YmxpYyBnZXQgcG9zaXRpb24oKSA6IFZlY3RvcjIge1xuICAgICAgICByZXR1cm4gVmVjdG9yMi5jb3B5KHRoaXMuX3Bvc2l0aW9uKTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGdldCByb3RhdGlvbigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwb3dlcigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG93ZXI7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBtb3ZhYmxlKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX21vdmFibGUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHZpc2libGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aXNpYmxlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgdmlzaWJsZSh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl92aXNpYmxlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLy8tLS0tLS1Db25zdHJ1Y3Rvci0tLS0tLS8vXG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9wb3NpdGlvbjogVmVjdG9yMikge31cblxuICAgIC8vLS0tLS0tUHJpdmF0ZSBNZXRob2RzLS0tLS0tLy9cblxuICAgIHByaXZhdGUgaW5jcmVhc2VQb3dlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fcG93ZXIgKz0gR0FNRV9DT05GSUcuUE9XRVJfVE9fQUREX1BFUl9GUkFNRTtcbiAgICAgICAgdGhpcy5fb3JpZ2luLmFkZFRvWChHQU1FX0NPTkZJRy5TVElDS19NT1ZFTUVOVF9QRVJfRlJBTUUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZGVjcmVhc2VQb3dlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fcG93ZXIgLT0gR0FNRV9DT05GSUcuUE9XRVJfVE9fQUREX1BFUl9GUkFNRTtcbiAgICAgICAgdGhpcy5fb3JpZ2luLmFkZFRvWCgtR0FNRV9DT05GSUcuU1RJQ0tfTU9WRU1FTlRfUEVSX0ZSQU1FKTtcbiAgICB9XG4gICAgXG4gICAgcHJpdmF0ZSBpc0xlc3NUaGFuTWF4UG93ZXIoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb3dlciA8IEdBTUVfQ09ORklHLlNUSUNLX01BWF9QT1dFUjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzTW9yZVRoYW5NaW5Qb3dlcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bvd2VyID49IDA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVQb3dlcigpOiB2b2lkIHtcblxuICAgICAgICBpZiAoS2V5Ym9hcmQuaXNEb3duKEdBTUVfQ09ORklHLklOQ1JFQVNFX1NIT1RfUE9XRVJfS0VZKSAmJiB0aGlzLmlzTGVzc1RoYW5NYXhQb3dlcigpKSB7XG4gICAgICAgICAgICB0aGlzLmluY3JlYXNlUG93ZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChLZXlib2FyZC5pc0Rvd24oR0FNRV9DT05GSUcuREVDUkVBU0VfU0hPVF9QT1dFUl9LRVkpICYmIHRoaXMuaXNNb3JlVGhhbk1pblBvd2VyKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZGVjcmVhc2VQb3dlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVSb3RhdGlvbigpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgb3Bwb3NpdGU6IG51bWJlciA9IE1vdXNlLnBvc2l0aW9uLnkgLSB0aGlzLl9wb3NpdGlvbi55O1xuICAgICAgICBjb25zdCBhZGphY2VudDogbnVtYmVyID0gTW91c2UucG9zaXRpb24ueCAtIHRoaXMuX3Bvc2l0aW9uLng7XG4gICAgICAgIHRoaXMuX3JvdGF0aW9uID0gTWF0aC5hdGFuMihvcHBvc2l0ZSwgYWRqYWNlbnQpO1xuICAgIH1cblxuICAgIC8vLS0tLS0tUHVibGljIE1ldGhvZHMtLS0tLS0vL1xuXG4gICAgcHVibGljIGhpZGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3Bvd2VyID0gMDtcbiAgICAgICAgdGhpcy5fdmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9tb3ZhYmxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHNob3cocG9zaXRpb246IFZlY3RvcjIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgdGhpcy5fb3JpZ2luID0gVmVjdG9yMi5jb3B5KEdBTUVfQ09ORklHLlNUSUNLX09SSUdJTik7XG4gICAgICAgIHRoaXMuX21vdmFibGUgPSB0cnVlO1xuICAgICAgICB0aGlzLl92aXNpYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hvb3QoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX29yaWdpbiA9IFZlY3RvcjIuY29weShHQU1FX0NPTkZJRy5TVElDS19TSE9UX09SSUdJTik7XG4gICAgICAgIGNvbnN0IHZvbHVtZTogbnVtYmVyID0gbWFwUmFuZ2UodGhpcy5fcG93ZXIsIDAsIEdBTUVfQ09ORklHLlNUSUNLX01BWF9QT1dFUiwgMCwgMSk7XG4gICAgICAgIEFzc2V0cy5wbGF5U291bmQoR0FNRV9DT05GSUcuU09VTkRTLlNUUklLRSwgdm9sdW1lKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICBpZih0aGlzLl9tb3ZhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJvdGF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvd2VyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZHJhdygpOiB2b2lkIHtcbiAgICAgICAgaWYodGhpcy5fdmlzaWJsZSkge1xuICAgICAgICAgICAgQ2FudmFzMkQuZHJhd0ltYWdlKHRoaXMuX3Nwcml0ZSwgdGhpcy5fcG9zaXRpb24sIHRoaXMuX3JvdGF0aW9uLCB0aGlzLl9vcmlnaW4pO1xuICAgICAgICB9XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgR0FNRV9DT05GSUcgfSBmcm9tICcuLy4uL2dhbWUuY29uZmlnJztcbmltcG9ydCB7IENhbnZhczJEIH0gZnJvbSAnLi8uLi9DYW52YXMnO1xuaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLy4uL2NvbW1vbi9Db2xvcic7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSAnLi8uLi9nZW9tL1ZlY3RvcjInO1xuaW1wb3J0IHsgQXNzZXRzIH0gZnJvbSAnLi4vQXNzZXRzJztcblxuZXhwb3J0IGNsYXNzIEJhbGwge1xuXG4gICAgLy8tLS0tLS1NZW1iZXJzLS0tLS0tLy9cblxuICAgIHByaXZhdGUgX3Nwcml0ZTogSFRNTEltYWdlRWxlbWVudDtcbiAgICBwcml2YXRlIF9jb2xvcjogQ29sb3I7XG4gICAgcHJpdmF0ZSBfdmVsb2NpdHk6IFZlY3RvcjIgPSBWZWN0b3IyLnplcm87XG4gICAgcHJpdmF0ZSBfbW92aW5nOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfdmlzaWJsZTogYm9vbGVhbiA9IHRydWU7XG5cblxuICAgIC8vLS0tLS0tUHJvcGVydGllcy0tLS0tLS8vXG5cbiAgICBwdWJsaWMgZ2V0IHBvc2l0aW9uKCk6IFZlY3RvcjIge1xuICAgICAgICByZXR1cm4gVmVjdG9yMi5jb3B5KHRoaXMuX3Bvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvc2l0aW9uKHZhbHVlOiBWZWN0b3IyKSB7XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBuZXh0UG9zaXRpb24oKTogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLmFkZCh0aGlzLl92ZWxvY2l0eS5tdWx0KDEgLSBHQU1FX0NPTkZJRy5GUklDVElPTikpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgdmVsb2NpdHkoKTogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiBWZWN0b3IyLmNvcHkodGhpcy5fdmVsb2NpdHkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgdmVsb2NpdHkodmFsdWU6IFZlY3RvcjIpIHtcbiAgICAgICAgdGhpcy5fbW92aW5nID0gdmFsdWUubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgdGhpcy5fdmVsb2NpdHkgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IG1vdmluZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vdmluZztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGNvbG9yKCk6IENvbG9yIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG9yO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgdmlzaWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc2libGU7XG4gICAgfVxuXG4gICAgLy8tLS0tLS1Db25zdHJ1Y3Rvci0tLS0tLS8vXG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9wb3NpdGlvbjogVmVjdG9yMiwgY29sb3I6IENvbG9yKSB7XG4gICAgICAgIHRoaXMuX2NvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMucmVzb2x2ZVNwcml0ZShjb2xvcik7XG4gICAgfVxuXG4gICAgLy8tLS0tLS1Qcml2YXRlIE1ldGhvZHMtLS0tLS0vL1xuXG4gICAgcHJpdmF0ZSByZXNvbHZlU3ByaXRlKGNvbG9yOiBDb2xvcikge1xuICAgICAgICBzd2l0Y2goY29sb3IpIHtcbiAgICAgICAgICAgIGNhc2UgQ29sb3Iud2hpdGU6XG4gICAgICAgICAgICAgICAgdGhpcy5fc3ByaXRlID0gQXNzZXRzLmdldFNwcml0ZShHQU1FX0NPTkZJRy5TUFJJVEVTLkNVRV9CQUxMKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBDb2xvci5ibGFjazpcbiAgICAgICAgICAgICAgICB0aGlzLl9zcHJpdGUgPSBBc3NldHMuZ2V0U3ByaXRlKEdBTUVfQ09ORklHLlNQUklURVMuQkxBQ0tfQkFMTCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQ29sb3IucmVkOlxuICAgICAgICAgICAgICAgIHRoaXMuX3Nwcml0ZSA9IEFzc2V0cy5nZXRTcHJpdGUoR0FNRV9DT05GSUcuU1BSSVRFUy5SRURfQkFMTCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQ29sb3IueWVsbG93OlxuICAgICAgICAgICAgICAgIHRoaXMuX3Nwcml0ZSA9IEFzc2V0cy5nZXRTcHJpdGUoR0FNRV9DT05GSUcuU1BSSVRFUy5ZRUxMT1dfQkFMTCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLy0tLS0tLVB1YmxpYyBNZXRob2RzLS0tLS0tLy9cblxuICAgIHB1YmxpYyBzaG9vdChwb3dlcjogbnVtYmVyLCBhbmdsZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3ZlbG9jaXR5ID0gbmV3IFZlY3RvcjIocG93ZXIgKiBNYXRoLmNvcyhhbmdsZSksIHBvd2VyICogTWF0aC5zaW4oYW5nbGUpKTtcbiAgICAgICAgdGhpcy5fbW92aW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hvdyhwb3NpdGlvbjogVmVjdG9yMik6IHZvaWQge1xuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICB0aGlzLl92ZWxvY2l0eSA9IFZlY3RvcjIuemVybztcbiAgICAgICAgdGhpcy5fdmlzaWJsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgcHVibGljIGhpZGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3ZlbG9jaXR5ID0gVmVjdG9yMi56ZXJvO1xuICAgICAgICB0aGlzLl9tb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdmlzaWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgIGlmKHRoaXMuX21vdmluZykge1xuICAgICAgICAgICAgdGhpcy5fdmVsb2NpdHkubXVsdEJ5KDEgLSBHQU1FX0NPTkZJRy5GUklDVElPTik7XG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbi5hZGRUbyh0aGlzLl92ZWxvY2l0eSk7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuX3ZlbG9jaXR5Lmxlbmd0aCA8IEdBTUVfQ09ORklHLkJBTExfTUlOX1ZFTE9DSVRZX0xFTkdUSCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmVsb2NpdHkgPSBWZWN0b3IyLnplcm87XG4gICAgICAgICAgICAgICAgdGhpcy5fbW92aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZHJhdygpOiB2b2lkIHtcbiAgICAgICAgaWYodGhpcy5fdmlzaWJsZSl7XG4gICAgICAgICAgICBDYW52YXMyRC5kcmF3SW1hZ2UodGhpcy5fc3ByaXRlLCB0aGlzLl9wb3NpdGlvbiwgMCwgR0FNRV9DT05GSUcuQkFMTF9PUklHSU4pO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEJhbGwgfSBmcm9tICcuL0JhbGwnO1xuaW1wb3J0IHsgQ29sb3IgfSBmcm9tIFwiLi4vY29tbW9uL0NvbG9yXCI7XG5cbmV4cG9ydCBjbGFzcyBTdGF0ZSB7XG4gICAgcHVibGljIGZpcnN0Q29sbGlkZWRCYWxsQ29sb3I6IENvbG9yO1xuICAgIHB1YmxpYyBwb2NrZXRlZEJhbGxzOiBCYWxsW10gPSBbXTtcbiAgICBwdWJsaWMgYmFsbEluSGFuZCA9IGZhbHNlO1xuICAgIHB1YmxpYyBpc1ZhbGlkID0gZmFsc2U7XG59IiwiaW1wb3J0IHsgSU1lbnVDb21tYW5kIH0gZnJvbSAnLi9JTWVudUNvbW1hbmQnO1xuaW1wb3J0IHsgR2FtZSB9IGZyb20gJy4uLy4uL0dhbWUnO1xuXG5leHBvcnQgY2xhc3MgR29Ub1ByZXZpb3VzTWVudUNvbW1hbmQgaW1wbGVtZW50cyBJTWVudUNvbW1hbmQge1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfZ2FtZTogR2FtZSkge31cbiAgICBcbiAgICBleGVjdXRlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9nYW1lLmdvVG9QcmV2aW91c01lbnUoKTtcbiAgICB9XG5cbn0iXSwic291cmNlUm9vdCI6IiJ9