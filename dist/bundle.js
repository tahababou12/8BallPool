!function(t){var e={};function s(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=e,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(o,i,function(e){return t[e]}.bind(null,i));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=9)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GAME_CONFIG={GAME_WIDTH:1500,GAME_HEIGHT:825,RED_BALLS_POSITIONS:[{x:1056,y:433},{x:1090,y:374},{x:1126,y:393},{x:1126,y:472},{x:1162,y:335},{x:1162,y:374},{x:1162,y:452}],YELLOW_BALLS_POSITIONS:[{x:1022,y:413},{x:1056,y:393},{x:1090,y:452},{x:1126,y:354},{x:1126,y:433},{x:1162,y:413},{x:1162,y:491}],CUE_BALL_POSITION:{x:413,y:413},EIGHT_BALL_POSITION:{x:1090,y:413},MATCH_SCORE_POSITIONS:[{x:420,y:27},{x:932,y:27}],MATCH_SCORE_MARGIN:20,OVERALL_SCORE_LABELS_POSITIONS:[{x:628,y:460},{x:778,y:460}],OVERALL_SCORE_LABEL_FONT:"200px Impact",OVERALL_SCORE_LABEL_COLOR:"#126736",OVERALL_SCORE_LABEL_ALLIGNMENT:"top",SPRITES_BASE_PATH:"assets/sprites/",SPRITES:{MAIN_MENU_BACKGROUND:"main_menu_background.png",TABLE:"spr_background4.png",CUE_BALL:"spr_ball2.png",RED_BALL:"spr_redBall2.png",YELLOW_BALL:"spr_yellowBall2.png",BLACK_BALL:"spr_blackBall2.png",STICK:"spr_stick.png",TWO_PLAYERS_BUTTON:"2_players_button.png",TWO_PLAYERS_BUTTON_HOVERED:"2_players_button_hover.png",ONE_PLAYER_BUTTON:"1_player_button.png",ONE_PLAYER_BUTTON_HOVERED:"1_player_button_hover.png",MUTE_BUTTON:"mute_button.png",MUTE_BUTTON_HOVERED:"mute_button_hover.png",MUTE_BUTTON_PRESSED:"mute_button_pressed.png",MUTE_BUTTON_PRESSED_HOVERED:"mute_button_pressed_hover.png",EASY_BUTTON:"easy_button.png",EASY_BUTTON_HOVERED:"easy_button_hover.png",MEDIUM_BUTTON:"medium_button.png",MEDIUM_BUTTON_HOVERED:"medium_button_hover.png",HARD_BUTTON:"hard_button.png",HARD_BUTTON_HOVERED:"hard_button_hover.png",BACK_BUTTON:"back_button.png",BACK_BUTTON_HOVERED:"back_button_hover.png",CONTINUE_BUTTON:"continue_button.png",CONTINUE_BUTTON_HOVERED:"continue_button_hover.png",INSANE_BUTTON:"insane_button.png",INSANE_BUTTON_HOVERED:"insane_button_hover.png",ABOUT_BUTTON:"about_button.png",ABOUT_BUTTON_HOVERED:"about_button_hover.png",CONTROLS:"controls.png",RED_SCORE:"red_score.png",YELLOW_SCORE:"yellow_score.png"},SOUNDS_BASE_PATH:"assets/sounds/",SOUNDS:{BALLS_COLLIDE:"BallsCollide.wav",STRIKE:"Strike.wav",RAIL:"Hole.wav"},FRICTION:.0208,COLLISION_LOSS:.0208,CUSHION_WIDTH:57,POCKET_RADIUS:48,POCKETS_POSITIONS:[{x:62,y:62},{x:750,y:32},{x:1435,y:62},{x:62,y:762},{x:750,y:794},{x:1435,y:762}],CURRENT_PLAYER_LABEL_POSITION:{x:640,y:260},CURRENT_PLAYER_LABEL_COLOR:"#126736",CURRENT_PLAYER_LABEL:"PLAYER ",CURRENT_PLAYER_LABEL_FONT:"70px Impact",CURRENT_PLAYER_LABEL_ALIGNMENT:"top",BALL_DIAMETER:38,BALL_ORIGIN:{x:25,y:25},BALL_MIN_VELOCITY_LENGTH:.05,MAX_BALL_EXPECTED_VELOCITY:200,MAX_BALL_EXPECTED_COLLISION_FORCE:50,STICK_ORIGIN:{x:970,y:11},STICK_SHOT_ORIGIN:{x:950,y:11},POWER_TO_ADD_PER_FRAME:1,STICK_MOVEMENT_PER_FRAME:2,STICK_MAX_POWER:65,SHOOT_MOUSE_BUTTON:0,PLACE_BALL_IN_HAND_MOUSE_BUTTON:0,INCREASE_SHOT_POWER_KEY:87,DECREASE_SHOT_POWER_KEY:83,TIMEOUT_TO_HIDE_STICK_AFTER_SHOT:500,TIMOUT_TO_HIDE_BALL_AFTER_POCKET:100}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(0),i=s(2);const r=document.getElementById("screen"),n=document.getElementById("gameArea");e.Canvas2D=new class{get scaleX(){return this._scale.x}get scaleY(){return this._scale.y}get offsetX(){return this._offset.x}get offsetY(){return this._offset.y}constructor(t,e){this._canvasContainer=e,this._canvas=t,this._context=this._canvas.getContext("2d"),this.resizeCanvas()}resizeCanvas(){const t=o.GAME_CONFIG.GAME_WIDTH,e=o.GAME_CONFIG.GAME_HEIGHT,s=t/e;let r=window.innerHeight,n=window.innerWidth;n/r>s?n=r*s:r=n/s,this._canvasContainer.style.width=n+"px",this._canvasContainer.style.height=r+"px",this._canvasContainer.style.marginTop=(window.innerHeight-r)/2+"px",this._canvasContainer.style.marginLeft=(window.innerWidth-n)/2+"px",this._canvasContainer.style.marginBottom=(window.innerHeight-r)/2+"px",this._canvasContainer.style.marginRight=(window.innerWidth-n)/2+"px",this._scale=new i.Vector2(n/t,r/e),this._canvas.width=n,this._canvas.height=r,this._canvas.offsetParent&&(this._offset=new i.Vector2(this._canvas.offsetLeft,this._canvas.offsetTop))}clear(){this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}drawImage(t,e=i.Vector2.zero,s=0,o=i.Vector2.zero){this._context.save(),this._context.scale(this._scale.x,this._scale.y),this._context.translate(e.x,e.y),this._context.rotate(s),this._context.drawImage(t,0,0,t.width,t.height,-o.x,-o.y,t.width,t.height),this._context.restore()}drawText(t,e,s,o,i="left"){this._context.save(),this._context.scale(this._scale.x,this._scale.y),this._context.fillStyle=s,this._context.font=e,this._context.textAlign=i,this._context.fillText(t,o.x,o.y),this._context.restore()}}(r,n),window.addEventListener("resize",e.Canvas2D.resizeCanvas.bind(e.Canvas2D))},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class o{constructor(t,e){this._x=t,this._y=e}get x(){return this._x}get y(){return this._y}static get zero(){return new o(0,0)}get length(){return Math.sqrt(Math.pow(this._x,2)+Math.pow(this._y,2))}static copy(t){return new o(t.x,t.y)}addX(t){return new o(this._x,this._y).addToX(t)}addY(t){return new o(this._x,this._y).addToY(t)}addToX(t){return this._x+=t,this}addToY(t){return this._y+=t,this}addTo(t){return this.addToX(t.x).addToY(t.y)}add(t){return new o(this._x,this._y).addTo(t)}subtractTo(t){return this._x-=t.x,this._y-=t.y,this}subtract(t){return new o(this._x,this._y).subtractTo(t)}mult(t){return new o(this._x,this._y).multBy(t)}multBy(t){return this._x*=t,this._y*=t,this}dot(t){return this._x*t.x+this._y*t.y}distFrom(t){return this.subtract(t).length}}e.Vector2=o},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(0);e.Assets=new class{constructor(){this._sprites=new Map,this._sounds=new Map}async loadGameAssets(){await this.loadGameSprites(),await this.loadGameSounds()}getSprite(t){return this._sprites.get(t)}getSound(t){return this._sounds.get(t).cloneNode(!0)}playSound(t,e){const s=this.getSound(t);s.volume=e,s.play()}loadSprite(t){const e=new Image;return this._sprites.set(t,e),new Promise(s=>{e.onload=(()=>s()),e.src=o.GAME_CONFIG.SPRITES_BASE_PATH+t})}async loadGameSprites(){const t=Object.values(o.GAME_CONFIG.SPRITES).map(this.loadSprite.bind(this));await Promise.all(t)}loadSound(t){const e=new Audio;return this._sounds.set(t,e),new Promise(s=>{e.src=o.GAME_CONFIG.SOUNDS_BASE_PATH+t,s()})}async loadGameSounds(){const t=Object.values(o.GAME_CONFIG.SOUNDS).map(this.loadSound.bind(this));await Promise.all(t)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.white="#BABABA",t.black="#2B2B2B",t.red="#B62A2F",t.yellow="#FECA34"}(e.Color||(e.Color={}))},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(8),i=s(1),r=s(2);e.Mouse=new class{constructor(){this._buttonStates=[];for(let t=0;t<3;t++)this._buttonStates[t]=new o.ButtonState;this._position=r.Vector2.zero,document.addEventListener("mousemove",t=>this.handleMouseMove(t)),document.addEventListener("mousedown",t=>this.handleMouseDown(t)),document.addEventListener("mouseup",t=>this.handleMouseUp(t))}get position(){return r.Vector2.copy(this._position)}handleMouseMove(t){const e=(t.pageX-i.Canvas2D.offsetX)/i.Canvas2D.scaleX,s=(t.pageY-i.Canvas2D.offsetY)/i.Canvas2D.scaleY;this._position=new r.Vector2(e,s)}handleMouseDown(t){this._buttonStates[t.button].down=!0,this._buttonStates[t.button].pressed=!0}handleMouseUp(t){this._buttonStates[t.button].down=!1}reset(){for(let t=0;t<3;t++)this._buttonStates[t].pressed=!1}isDown(t){return this._buttonStates[t].down}isPressed(t){return this._buttonStates[t].pressed}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapRange=((t,e,s,o,i)=>{let r=(t-e)*(i-o)/(s-e)+o;return r=(r=r<o?o:r)>i?i:r})},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(8);e.Keyboard=new class{constructor(){this._keyStates=[];for(let t=0;t<256;t++)this._keyStates[t]=new o.ButtonState;document.addEventListener("keyup",t=>this.handleKeyUp(t)),document.addEventListener("keydown",t=>this.handleKeyDown(t))}handleKeyUp(t){this._keyStates[t.keyCode].down=!1}handleKeyDown(t){this._keyStates[t.keyCode].pressed=!1,this._keyStates[t.keyCode].down=!0}reset(){for(let t=0;t<256;t++)this._keyStates[t].pressed=!1}isDown(t){return this._keyStates[t].down}isPressed(t){return this._keyStates[t].pressed}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ButtonState=class{constructor(){this.down=!1,this.pressed=!1}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(3),i=s(10),r=s(7),n=s(1),_=s(5);let l;function a(){l.update(),r.Keyboard.reset(),_.Mouse.reset(),n.Canvas2D.clear(),l.draw(),requestAnimationFrame(a)}!async function(){await o.Assets.loadGameAssets(),l=new i.GameWorld,a()}()},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(6),i=s(11),r=s(12),n=s(13),_=s(4),l=s(2),a=s(0),c=s(3),h=s(1),u=s(14),E=s(5),O=s(15);e.GameWorld=class{constructor(){this._players=[new r.Player,new r.Player],this._currentPlayerIndex=0,this.initMatch()}get currentPlayer(){return this._players[this._currentPlayerIndex]}get nextPlayer(){return this._players[(this._currentPlayerIndex+1)%this._players.length]}getBallsByColor(t){return this._balls.filter(e=>e.color===t)}shootCueBall(){this._stick.power>0&&(this._stick.shoot(),this._cueBall.shoot(this._stick.power,this._stick.rotation),this._stick.movable=!1,setTimeout(()=>this._stick.hide(),a.GAME_CONFIG.TIMEOUT_TO_HIDE_STICK_AFTER_SHOT))}handleInput(){E.Mouse.isPressed(a.GAME_CONFIG.SHOOT_MOUSE_BUTTON)&&this.shootCueBall()}resolveBallCollisionWithCushion(t){const e=a.GAME_CONFIG.BALL_DIAMETER/2,s=t.nextPosition.y-e,o=t.nextPosition.x-e,i=t.nextPosition.x+e,r=t.nextPosition.y+e;let n=!1;s<=a.GAME_CONFIG.CUSHION_WIDTH&&(t.position=t.position.addY(a.GAME_CONFIG.CUSHION_WIDTH-t.position.y+e),t.velocity=new l.Vector2(t.velocity.x,-t.velocity.y),n=!0),o<=a.GAME_CONFIG.CUSHION_WIDTH&&(t.position=t.position.addX(a.GAME_CONFIG.CUSHION_WIDTH-t.position.x+e),t.velocity=new l.Vector2(-t.velocity.x,t.velocity.y),n=!0),i>=a.GAME_CONFIG.GAME_WIDTH-a.GAME_CONFIG.CUSHION_WIDTH&&(t.position=t.position.addX(a.GAME_CONFIG.GAME_WIDTH-a.GAME_CONFIG.CUSHION_WIDTH-t.position.x-e),t.velocity=new l.Vector2(-t.velocity.x,t.velocity.y),n=!0),r>=a.GAME_CONFIG.GAME_HEIGHT-a.GAME_CONFIG.CUSHION_WIDTH&&(t.position=t.position.addY(a.GAME_CONFIG.GAME_HEIGHT-a.GAME_CONFIG.CUSHION_WIDTH-t.position.y-e),t.velocity=new l.Vector2(t.velocity.x,-t.velocity.y),n=!0),n&&(t.velocity=t.velocity.mult(1-a.GAME_CONFIG.COLLISION_LOSS))}resolveBallsCollision(t,e){if(!t.visible||!e.visible)return!1;const s=t.position.subtract(e.position),o=s.length;if(o>a.GAME_CONFIG.BALL_DIAMETER)return!1;const i=s.mult((a.GAME_CONFIG.BALL_DIAMETER-o)/o);t.position=t.position.add(i.mult(.5)),e.position=e.position.subtract(i.mult(.5));const r=s.mult(1/s.length),n=new l.Vector2(-r.y,r.x),_=r.dot(t.velocity),c=n.dot(t.velocity),h=r.dot(e.velocity),u=n.dot(e.velocity),E=r.mult(h),O=n.mult(c),d=r.mult(_),I=n.mult(u);return t.velocity=E.add(O),e.velocity=d.add(I),t.velocity=t.velocity.mult(1-a.GAME_CONFIG.COLLISION_LOSS),e.velocity=e.velocity.mult(1-a.GAME_CONFIG.COLLISION_LOSS),!0}handleCollisions(){for(let t=0;t<this._balls.length;t++){this.resolveBallCollisionWithCushion(this._balls[t]);for(let e=t+1;e<this._balls.length;e++){const s=this._balls[t],i=this._balls[e];if(this.resolveBallsCollision(s,i)){const t=s.velocity.length+i.velocity.length,e=o.mapRange(t,0,a.GAME_CONFIG.MAX_BALL_EXPECTED_COLLISION_FORCE,0,1);if(c.Assets.playSound(a.GAME_CONFIG.SOUNDS.BALLS_COLLIDE,e),!this._turnState.firstCollidedBallColor){const t=s.color===_.Color.white?i.color:s.color;this._turnState.firstCollidedBallColor=t}}}}}resolveBallInPocket(t){const e=a.GAME_CONFIG.POCKETS_POSITIONS.some(e=>t.position.distFrom(e)<=a.GAME_CONFIG.POCKET_RADIUS);return e&&t.hide(),e}isValidPlayerColor(t){return t===_.Color.red||t===_.Color.yellow}handleBallsInPockets(){this._balls.forEach(t=>{this.resolveBallInPocket(t)&&!this._turnState.pocketedBalls.includes(t)&&(c.Assets.playSound(a.GAME_CONFIG.SOUNDS.RAIL,1),!this.currentPlayer.color&&this.isValidPlayerColor(t.color)&&(this.currentPlayer.color=t.color,this.nextPlayer.color=t.color===_.Color.yellow?_.Color.red:_.Color.yellow),this._turnState.pocketedBalls.push(t))})}handleBallInHand(){E.Mouse.isPressed(a.GAME_CONFIG.PLACE_BALL_IN_HAND_MOUSE_BUTTON)?(this._turnState.ballInHand=!1,this._stick.show(this._cueBall.position)):(this._stick.movable=!1,this._stick.visible=!1,this._cueBall.position=E.Mouse.position)}ballsMoving(){return this._balls.some(t=>t.moving)}concludeTurn(){this._turnState.pocketedBalls.forEach(t=>{const e=this._balls.indexOf(t);t.color!=_.Color.white&&this._balls.splice(e,1)}),this.currentPlayer.color&&(this.currentPlayer.matchScore=8-this.getBallsByColor(this.currentPlayer.color).length-this.getBallsByColor(_.Color.black).length),this.nextPlayer.color&&(this.nextPlayer.matchScore=8-this.getBallsByColor(this.nextPlayer.color).length-this.getBallsByColor(_.Color.black).length),this._turnState.isValid=this._referee.isValidTurn(this.currentPlayer,this._turnState)}gameOver(){this._turnState.isValid?this.currentPlayer.overallScore++:this.nextPlayer.overallScore++,this.initMatch()}nextTurn(){const t=!this._turnState.isValid;this._8Ball.visible?(this._cueBall.visible||this._cueBall.show(l.Vector2.copy(a.GAME_CONFIG.CUE_BALL_POSITION)),(t||0===this._turnState.pocketedBalls.length)&&(this._currentPlayerIndex++,this._currentPlayerIndex=this._currentPlayerIndex%this._players.length),this._stick.show(this._cueBall.position),this._turnState=new O.State,this._turnState.ballInHand=t):this.gameOver()}drawCurrentPlayerLabel(){h.Canvas2D.drawText(a.GAME_CONFIG.CURRENT_PLAYER_LABEL+(this._currentPlayerIndex+1),a.GAME_CONFIG.CURRENT_PLAYER_LABEL_FONT,a.GAME_CONFIG.CURRENT_PLAYER_LABEL_COLOR,a.GAME_CONFIG.CURRENT_PLAYER_LABEL_POSITION,a.GAME_CONFIG.CURRENT_PLAYER_LABEL_ALIGNMENT)}drawMatchScores(){for(let t=0;t<this._players.length;t++)for(let e=0;e<this._players[t].matchScore;e++){const s=l.Vector2.copy(a.GAME_CONFIG.MATCH_SCORE_POSITIONS[t]).addToX(e*a.GAME_CONFIG.MATCH_SCORE_MARGIN),o=this._players[t].color===_.Color.red?c.Assets.getSprite(a.GAME_CONFIG.SPRITES.RED_SCORE):c.Assets.getSprite(a.GAME_CONFIG.SPRITES.YELLOW_SCORE);h.Canvas2D.drawImage(o,s)}}drawOverallScores(){for(let t=0;t<this._players.length;t++)h.Canvas2D.drawText(this._players[t].overallScore.toString(),a.GAME_CONFIG.OVERALL_SCORE_LABEL_FONT,a.GAME_CONFIG.OVERALL_SCORE_LABEL_COLOR,a.GAME_CONFIG.OVERALL_SCORE_LABELS_POSITIONS[t],a.GAME_CONFIG.OVERALL_SCORE_LABELS_ALLIGNMENT)}initMatch(){const t=a.GAME_CONFIG.RED_BALLS_POSITIONS.map(t=>new u.Ball(l.Vector2.copy(t),_.Color.yellow)),e=a.GAME_CONFIG.YELLOW_BALLS_POSITIONS.map(t=>new u.Ball(l.Vector2.copy(t),_.Color.red));this._8Ball=new u.Ball(l.Vector2.copy(a.GAME_CONFIG.EIGHT_BALL_POSITION),_.Color.black),this._cueBall=new u.Ball(l.Vector2.copy(a.GAME_CONFIG.CUE_BALL_POSITION),_.Color.white),this._stick=new n.Stick(l.Vector2.copy(a.GAME_CONFIG.CUE_BALL_POSITION)),this._balls=[...t,...e,this._8Ball,this._cueBall],this._currentPlayerIndex=0,this._players.forEach(t=>{t.matchScore=0,t.color=null}),this._turnState=new O.State,this._referee=new i.Referee}update(){this._turnState.ballInHand?this.handleBallInHand():(this.handleBallsInPockets(),this.handleCollisions(),this.handleInput(),this._stick.update(),this._balls.forEach(t=>t.update()),this.ballsMoving()||this._stick.visible||(this.concludeTurn(),this.nextTurn()))}draw(){h.Canvas2D.drawImage(c.Assets.getSprite(a.GAME_CONFIG.SPRITES.TABLE)),this.drawCurrentPlayerLabel(),this.drawOverallScores(),this._balls.forEach(t=>t.draw()),this._stick.draw(),this.drawMatchScores()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(4);e.Referee=class{isValidFirstTouch(t,e){return!!e&&(t.color?t.color===e||7===t.matchScore&&e===o.Color.black||8===t.matchScore&&e===o.Color.black:e!==o.Color.black)}isValidPocketedBalls(t,e){if(0===e.length)return!0;if(t.color)return 8===t.matchScore?1===e.length&&e[0].color===o.Color.black:e.every(e=>e.color===t.color);{const t=e[0].color;return t!==o.Color.white&&t!==o.Color.black&&e.every(e=>e.color===t)}}isValidTurn(t,e){return this.isValidFirstTouch(t,e.firstCollidedBallColor)&&this.isValidPocketedBalls(t,e.pocketedBalls)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Player=class{constructor(){this.matchScore=0,this.overallScore=0}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(7),i=s(5),r=s(0),n=s(3),_=s(1),l=s(2),a=s(6);e.Stick=class{constructor(t){this._position=t,this._sprite=n.Assets.getSprite(r.GAME_CONFIG.SPRITES.STICK),this._rotation=0,this._origin=l.Vector2.copy(r.GAME_CONFIG.STICK_ORIGIN),this._power=0,this._movable=!0,this._visible=!0}get position(){return l.Vector2.copy(this._position)}get rotation(){return this._rotation}get power(){return this._power}set movable(t){this._movable=t}get visible(){return this._visible}set visible(t){this._visible=t}increasePower(){this._power+=r.GAME_CONFIG.POWER_TO_ADD_PER_FRAME,this._origin.addToX(r.GAME_CONFIG.STICK_MOVEMENT_PER_FRAME)}decreasePower(){this._power-=r.GAME_CONFIG.POWER_TO_ADD_PER_FRAME,this._origin.addToX(-r.GAME_CONFIG.STICK_MOVEMENT_PER_FRAME)}isLessThanMaxPower(){return this._power<r.GAME_CONFIG.STICK_MAX_POWER}isMoreThanMinPower(){return this._power>=0}updatePower(){o.Keyboard.isDown(r.GAME_CONFIG.INCREASE_SHOT_POWER_KEY)&&this.isLessThanMaxPower()?this.increasePower():o.Keyboard.isDown(r.GAME_CONFIG.DECREASE_SHOT_POWER_KEY)&&this.isMoreThanMinPower()&&this.decreasePower()}updateRotation(){const t=i.Mouse.position.y-this._position.y,e=i.Mouse.position.x-this._position.x;this._rotation=Math.atan2(t,e)}hide(){this._power=0,this._visible=!1,this._movable=!1}show(t){this._position=t,this._origin=l.Vector2.copy(r.GAME_CONFIG.STICK_ORIGIN),this._movable=!0,this._visible=!0}shoot(){this._origin=l.Vector2.copy(r.GAME_CONFIG.STICK_SHOT_ORIGIN);const t=a.mapRange(this._power,0,r.GAME_CONFIG.STICK_MAX_POWER,0,1);n.Assets.playSound(r.GAME_CONFIG.SOUNDS.STRIKE,t)}update(){this._movable&&(this.updateRotation(),this.updatePower())}draw(){this._visible&&_.Canvas2D.drawImage(this._sprite,this._position,this._rotation,this._origin)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(0),i=s(1),r=s(4),n=s(2),_=s(3);e.Ball=class{constructor(t,e){this._position=t,this._velocity=n.Vector2.zero,this._moving=!1,this._visible=!0,this._color=e,this.resolveSprite(e)}get position(){return n.Vector2.copy(this._position)}set position(t){this._position=t}get nextPosition(){return this.position.add(this._velocity.mult(1-o.GAME_CONFIG.FRICTION))}get velocity(){return n.Vector2.copy(this._velocity)}set velocity(t){this._moving=t.length>0,this._velocity=t}get moving(){return this._moving}get color(){return this._color}get visible(){return this._visible}resolveSprite(t){switch(t){case r.Color.white:this._sprite=_.Assets.getSprite(o.GAME_CONFIG.SPRITES.CUE_BALL);break;case r.Color.black:this._sprite=_.Assets.getSprite(o.GAME_CONFIG.SPRITES.BLACK_BALL);break;case r.Color.red:this._sprite=_.Assets.getSprite(o.GAME_CONFIG.SPRITES.RED_BALL);break;case r.Color.yellow:this._sprite=_.Assets.getSprite(o.GAME_CONFIG.SPRITES.YELLOW_BALL)}}shoot(t,e){this._velocity=new n.Vector2(t*Math.cos(e),t*Math.sin(e)),this._moving=!0}show(t){this._position=t,this._velocity=n.Vector2.zero,this._visible=!0}hide(){this._velocity=n.Vector2.zero,this._moving=!1,this._visible=!1}update(){this._moving&&(this._velocity.multBy(1-o.GAME_CONFIG.FRICTION),this._position.addTo(this._velocity),this._velocity.length<o.GAME_CONFIG.BALL_MIN_VELOCITY_LENGTH&&(this.velocity=n.Vector2.zero,this._moving=!1))}draw(){this._visible&&i.Canvas2D.drawImage(this._sprite,this._position,0,o.GAME_CONFIG.BALL_ORIGIN)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.State=class{constructor(){this.pocketedBalls=[],this.ballInHand=!1,this.isValid=!1}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUuY29uZmlnLnRzIiwid2VicGFjazovLy8uL3NyYy9DYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dlb20vVmVjdG9yMi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQXNzZXRzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21tb24vQ29sb3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2lucHV0L01vdXNlLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21tb24vSGVscGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9pbnB1dC9LZXlib2FyZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5wdXQvQnV0dG9uU3RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUtb2JqZWN0cy9HYW1lV29ybGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUtb2JqZWN0cy9SZWZlcmVlLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lLW9iamVjdHMvUGxheWVyLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lLW9iamVjdHMvU3RpY2sudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUtb2JqZWN0cy9CYWxsLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lLW9iamVjdHMvU3RhdGUudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJHQU1FX0NPTkZJRyIsIkdBTUVfV0lEVEgiLCJHQU1FX0hFSUdIVCIsIlJFRF9CQUxMU19QT1NJVElPTlMiLCJ4IiwieSIsIllFTExPV19CQUxMU19QT1NJVElPTlMiLCJDVUVfQkFMTF9QT1NJVElPTiIsIkVJR0hUX0JBTExfUE9TSVRJT04iLCJNQVRDSF9TQ09SRV9QT1NJVElPTlMiLCJNQVRDSF9TQ09SRV9NQVJHSU4iLCJPVkVSQUxMX1NDT1JFX0xBQkVMU19QT1NJVElPTlMiLCJPVkVSQUxMX1NDT1JFX0xBQkVMX0ZPTlQiLCJPVkVSQUxMX1NDT1JFX0xBQkVMX0NPTE9SIiwiT1ZFUkFMTF9TQ09SRV9MQUJFTF9BTExJR05NRU5UIiwiU1BSSVRFU19CQVNFX1BBVEgiLCJTUFJJVEVTIiwiTUFJTl9NRU5VX0JBQ0tHUk9VTkQiLCJUQUJMRSIsIkNVRV9CQUxMIiwiUkVEX0JBTEwiLCJZRUxMT1dfQkFMTCIsIkJMQUNLX0JBTEwiLCJTVElDSyIsIlRXT19QTEFZRVJTX0JVVFRPTiIsIlRXT19QTEFZRVJTX0JVVFRPTl9IT1ZFUkVEIiwiT05FX1BMQVlFUl9CVVRUT04iLCJPTkVfUExBWUVSX0JVVFRPTl9IT1ZFUkVEIiwiTVVURV9CVVRUT04iLCJNVVRFX0JVVFRPTl9IT1ZFUkVEIiwiTVVURV9CVVRUT05fUFJFU1NFRCIsIk1VVEVfQlVUVE9OX1BSRVNTRURfSE9WRVJFRCIsIkVBU1lfQlVUVE9OIiwiRUFTWV9CVVRUT05fSE9WRVJFRCIsIk1FRElVTV9CVVRUT04iLCJNRURJVU1fQlVUVE9OX0hPVkVSRUQiLCJIQVJEX0JVVFRPTiIsIkhBUkRfQlVUVE9OX0hPVkVSRUQiLCJCQUNLX0JVVFRPTiIsIkJBQ0tfQlVUVE9OX0hPVkVSRUQiLCJDT05USU5VRV9CVVRUT04iLCJDT05USU5VRV9CVVRUT05fSE9WRVJFRCIsIklOU0FORV9CVVRUT04iLCJJTlNBTkVfQlVUVE9OX0hPVkVSRUQiLCJBQk9VVF9CVVRUT04iLCJBQk9VVF9CVVRUT05fSE9WRVJFRCIsIkNPTlRST0xTIiwiUkVEX1NDT1JFIiwiWUVMTE9XX1NDT1JFIiwiU09VTkRTX0JBU0VfUEFUSCIsIlNPVU5EUyIsIkJBTExTX0NPTExJREUiLCJTVFJJS0UiLCJSQUlMIiwiRlJJQ1RJT04iLCJDT0xMSVNJT05fTE9TUyIsIkNVU0hJT05fV0lEVEgiLCJQT0NLRVRfUkFESVVTIiwiUE9DS0VUU19QT1NJVElPTlMiLCJDVVJSRU5UX1BMQVlFUl9MQUJFTF9QT1NJVElPTiIsIkNVUlJFTlRfUExBWUVSX0xBQkVMX0NPTE9SIiwiQ1VSUkVOVF9QTEFZRVJfTEFCRUwiLCJDVVJSRU5UX1BMQVlFUl9MQUJFTF9GT05UIiwiQ1VSUkVOVF9QTEFZRVJfTEFCRUxfQUxJR05NRU5UIiwiQkFMTF9ESUFNRVRFUiIsIkJBTExfT1JJR0lOIiwiQkFMTF9NSU5fVkVMT0NJVFlfTEVOR1RIIiwiTUFYX0JBTExfRVhQRUNURURfVkVMT0NJVFkiLCJNQVhfQkFMTF9FWFBFQ1RFRF9DT0xMSVNJT05fRk9SQ0UiLCJTVElDS19PUklHSU4iLCJTVElDS19TSE9UX09SSUdJTiIsIlBPV0VSX1RPX0FERF9QRVJfRlJBTUUiLCJTVElDS19NT1ZFTUVOVF9QRVJfRlJBTUUiLCJTVElDS19NQVhfUE9XRVIiLCJTSE9PVF9NT1VTRV9CVVRUT04iLCJQTEFDRV9CQUxMX0lOX0hBTkRfTU9VU0VfQlVUVE9OIiwiSU5DUkVBU0VfU0hPVF9QT1dFUl9LRVkiLCJERUNSRUFTRV9TSE9UX1BPV0VSX0tFWSIsIlRJTUVPVVRfVE9fSElERV9TVElDS19BRlRFUl9TSE9UIiwiVElNT1VUX1RPX0hJREVfQkFMTF9BRlRFUl9QT0NLRVQiLCJnYW1lX2NvbmZpZ18xIiwiVmVjdG9yMl8xIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNvbnRhaW5lciIsIkNhbnZhczJEIiwic2NhbGVYIiwidGhpcyIsIl9zY2FsZSIsInNjYWxlWSIsIm9mZnNldFgiLCJfb2Zmc2V0Iiwib2Zmc2V0WSIsIltvYmplY3QgT2JqZWN0XSIsImNhbnZhc0NvbnRhaW5lciIsIl9jYW52YXNDb250YWluZXIiLCJfY2FudmFzIiwiX2NvbnRleHQiLCJnZXRDb250ZXh0IiwicmVzaXplQ2FudmFzIiwib3JpZ2luYWxDYW52YXNXaWR0aCIsIm9yaWdpbmFsQ2FudmFzSGVpZ2h0Iiwid2lkdGhUb0hlaWdodCIsIm5ld0hlaWdodCIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwibmV3V2lkdGgiLCJpbm5lcldpZHRoIiwic3R5bGUiLCJ3aWR0aCIsImhlaWdodCIsIm1hcmdpblRvcCIsIm1hcmdpbkxlZnQiLCJtYXJnaW5Cb3R0b20iLCJtYXJnaW5SaWdodCIsIlZlY3RvcjIiLCJvZmZzZXRQYXJlbnQiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwiY2xlYXJSZWN0Iiwic3ByaXRlIiwicG9zaXRpb24iLCJ6ZXJvIiwicm90YXRpb24iLCJvcmlnaW4iLCJzYXZlIiwic2NhbGUiLCJ0cmFuc2xhdGUiLCJyb3RhdGUiLCJkcmF3SW1hZ2UiLCJyZXN0b3JlIiwidGV4dCIsImZvbnQiLCJjb2xvciIsInRleHRBbGlnbiIsImZpbGxTdHlsZSIsImZpbGxUZXh0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl94IiwiX3kiLCJsZW5ndGgiLCJNYXRoIiwic3FydCIsInBvdyIsInZlY3RvciIsImFkZFRvWCIsImFkZFRvWSIsImFkZFRvIiwic3VidHJhY3RUbyIsInYiLCJtdWx0QnkiLCJzdWJ0cmFjdCIsIkFzc2V0cyIsIl9zcHJpdGVzIiwiTWFwIiwiX3NvdW5kcyIsImxvYWRHYW1lU3ByaXRlcyIsImxvYWRHYW1lU291bmRzIiwiY2xvbmVOb2RlIiwidm9sdW1lIiwic291bmQiLCJnZXRTb3VuZCIsInBsYXkiLCJwYXRoIiwiaW1nIiwiSW1hZ2UiLCJzZXQiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm9ubG9hZCIsInNyYyIsImxvYWRQcm9taXNlcyIsInZhbHVlcyIsIm1hcCIsImxvYWRTcHJpdGUiLCJhbGwiLCJhdWRpbyIsIkF1ZGlvIiwibG9hZFNvdW5kIiwiQ29sb3IiLCJCdXR0b25TdGF0ZV8xIiwiQ2FudmFzXzEiLCJNb3VzZSIsIl9idXR0b25TdGF0ZXMiLCJCdXR0b25TdGF0ZSIsIl9wb3NpdGlvbiIsImV2ZW50IiwiaGFuZGxlTW91c2VNb3ZlIiwiaGFuZGxlTW91c2VEb3duIiwiaGFuZGxlTW91c2VVcCIsImNvcHkiLCJtb3VzZVgiLCJwYWdlWCIsIm1vdXNlWSIsInBhZ2VZIiwiYnV0dG9uIiwiZG93biIsInByZXNzZWQiLCJtYXBSYW5nZSIsIm51bSIsImluX21pbiIsImluX21heCIsIm91dF9taW4iLCJvdXRfbWF4IiwiS2V5Ym9hcmQiLCJfa2V5U3RhdGVzIiwiaGFuZGxlS2V5VXAiLCJoYW5kbGVLZXlEb3duIiwia2V5Q29kZSIsIkFzc2V0c18xIiwiR2FtZVdvcmxkXzEiLCJLZXlib2FyZF8xIiwiTW91c2VfMSIsInBvb2xHYW1lIiwiZ2FtZUxvb3AiLCJ1cGRhdGUiLCJyZXNldCIsImNsZWFyIiwiZHJhdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImFzeW5jIiwibG9hZEdhbWVBc3NldHMiLCJHYW1lV29ybGQiLCJpbml0R2FtZSIsIkhlbHBlcl8xIiwiUmVmZXJlZV8xIiwiUGxheWVyXzEiLCJTdGlja18xIiwiQ29sb3JfMSIsIkJhbGxfMSIsIlN0YXRlXzEiLCJfcGxheWVycyIsIlBsYXllciIsIl9jdXJyZW50UGxheWVySW5kZXgiLCJpbml0TWF0Y2giLCJjdXJyZW50UGxheWVyIiwibmV4dFBsYXllciIsIl9iYWxscyIsImZpbHRlciIsImJhbGwiLCJfc3RpY2siLCJwb3dlciIsInNob290IiwiX2N1ZUJhbGwiLCJtb3ZhYmxlIiwic2V0VGltZW91dCIsImhpZGUiLCJpc1ByZXNzZWQiLCJzaG9vdEN1ZUJhbGwiLCJiYWxsUmFkaXVzIiwidG9wQmFsbEVkZ2UiLCJuZXh0UG9zaXRpb24iLCJsZWZ0QmFsbEVkZ2UiLCJyaWdodEJhbGxFZGdlIiwiYm90dG9tQmFsbEVkZ2UiLCJjb2xsaWRlZCIsImFkZFkiLCJ2ZWxvY2l0eSIsImFkZFgiLCJtdWx0IiwiZmlyc3QiLCJzZWNvbmQiLCJ2aXNpYmxlIiwiZGlzdCIsIm10ZCIsImFkZCIsInVuIiwidXQiLCJ2MW4iLCJkb3QiLCJ2MXQiLCJ2Mm4iLCJ2MnQiLCJ2MW5UYWciLCJ2MXRUYWciLCJ2Mm5UYWciLCJ2MnRUYWciLCJyZXNvbHZlQmFsbENvbGxpc2lvbldpdGhDdXNoaW9uIiwiaiIsImZpcnN0QmFsbCIsInNlY29uZEJhbGwiLCJyZXNvbHZlQmFsbHNDb2xsaXNpb24iLCJmb3JjZSIsInBsYXlTb3VuZCIsIl90dXJuU3RhdGUiLCJmaXJzdENvbGxpZGVkQmFsbENvbG9yIiwid2hpdGUiLCJpblBvY2tldCIsInNvbWUiLCJwb2NrZXRQb3MiLCJkaXN0RnJvbSIsInJlZCIsInllbGxvdyIsImZvckVhY2giLCJyZXNvbHZlQmFsbEluUG9ja2V0IiwicG9ja2V0ZWRCYWxscyIsImluY2x1ZGVzIiwiaXNWYWxpZFBsYXllckNvbG9yIiwicHVzaCIsImJhbGxJbkhhbmQiLCJzaG93IiwibW92aW5nIiwiYmFsbEluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsIm1hdGNoU2NvcmUiLCJnZXRCYWxsc0J5Q29sb3IiLCJibGFjayIsImlzVmFsaWQiLCJfcmVmZXJlZSIsImlzVmFsaWRUdXJuIiwib3ZlcmFsbFNjb3JlIiwiZm91bCIsIl84QmFsbCIsIlN0YXRlIiwiZ2FtZU92ZXIiLCJkcmF3VGV4dCIsInNjb3JlUG9zaXRpb24iLCJzY29yZVNwcml0ZSIsImdldFNwcml0ZSIsInRvU3RyaW5nIiwiT1ZFUkFMTF9TQ09SRV9MQUJFTFNfQUxMSUdOTUVOVCIsInJlZEJhbGxzIiwiQmFsbCIsInllbGxvd0JhbGxzIiwiU3RpY2siLCJwbGF5ZXIiLCJSZWZlcmVlIiwiaGFuZGxlQmFsbEluSGFuZCIsImhhbmRsZUJhbGxzSW5Qb2NrZXRzIiwiaGFuZGxlQ29sbGlzaW9ucyIsImhhbmRsZUlucHV0IiwiYmFsbHNNb3ZpbmciLCJjb25jbHVkZVR1cm4iLCJuZXh0VHVybiIsImRyYXdDdXJyZW50UGxheWVyTGFiZWwiLCJkcmF3T3ZlcmFsbFNjb3JlcyIsImRyYXdNYXRjaFNjb3JlcyIsImNvbGxpZGVkQmFsbENvbG9yIiwiZXZlcnkiLCJzdGF0ZSIsImlzVmFsaWRGaXJzdFRvdWNoIiwiaXNWYWxpZFBvY2tldGVkQmFsbHMiLCJfc3ByaXRlIiwiX3JvdGF0aW9uIiwiX29yaWdpbiIsIl9wb3dlciIsIl9tb3ZhYmxlIiwiX3Zpc2libGUiLCJpc0Rvd24iLCJpc0xlc3NUaGFuTWF4UG93ZXIiLCJpbmNyZWFzZVBvd2VyIiwiaXNNb3JlVGhhbk1pblBvd2VyIiwiZGVjcmVhc2VQb3dlciIsIm9wcG9zaXRlIiwiYWRqYWNlbnQiLCJhdGFuMiIsInVwZGF0ZVJvdGF0aW9uIiwidXBkYXRlUG93ZXIiLCJfdmVsb2NpdHkiLCJfbW92aW5nIiwiX2NvbG9yIiwicmVzb2x2ZVNwcml0ZSIsImFuZ2xlIiwiY29zIiwic2luIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMs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QTdOLGNBRVdOLEtBQUFnTixjQUF3QixHQUN4QmhOLEtBQUFvTixZQUFhLEVBQ2JwTixLQUFBNk4sU0FBVSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gOSk7XG4iLCJleHBvcnQgY29uc3QgR0FNRV9DT05GSUcgOiBhbnkgPSB7XG5cbiAgICAvLyBTSVpJTkdcbiAgICBHQU1FX1dJRFRIOiAxNTAwLFxuICAgIEdBTUVfSEVJR0hUOiA4MjUsXG5cbiAgICAvLyBQT1NJVElPTlNcbiAgICBSRURfQkFMTFNfUE9TSVRJT05TOiBbXG4gICAgICAgIHsgeDogMTA1NiwgeTogNDMzIH0sXG4gICAgICAgIHsgeDogMTA5MCwgeTogMzc0IH0sXG4gICAgICAgIHsgeDogMTEyNiwgeTogMzkzIH0sXG4gICAgICAgIHsgeDogMTEyNiwgeTogNDcyIH0sXG4gICAgICAgIHsgeDogMTE2MiwgeTogMzM1IH0sXG4gICAgICAgIHsgeDogMTE2MiwgeTogMzc0IH0sXG4gICAgICAgIHsgeDogMTE2MiwgeTogNDUyIH0sXG4gICAgXSxcbiAgICBZRUxMT1dfQkFMTFNfUE9TSVRJT05TOiBbXG4gICAgICAgIHsgeDogMTAyMiwgeTogNDEzIH0sXG4gICAgICAgIHsgeDogMTA1NiwgeTogMzkzIH0sXG4gICAgICAgIHsgeDogMTA5MCwgeTogNDUyIH0sXG4gICAgICAgIHsgeDogMTEyNiwgeTogMzU0IH0sXG4gICAgICAgIHsgeDogMTEyNiwgeTogNDMzIH0sXG4gICAgICAgIHsgeDogMTE2MiwgeTogNDEzIH0sXG4gICAgICAgIHsgeDogMTE2MiwgeTogNDkxIH0sXG4gICAgXSxcbiAgICBDVUVfQkFMTF9QT1NJVElPTjogeyB4OiA0MTMsIHk6IDQxMyB9LFxuICAgIEVJR0hUX0JBTExfUE9TSVRJT046IHsgeDogMTA5MCwgeTogNDEzIH0sXG4gICAgTUFUQ0hfU0NPUkVfUE9TSVRJT05TOiBbXG4gICAgICAgIHsgeDogNDIwLCB5OiAyNyB9LFxuICAgICAgICB7IHg6IDkzMiwgeTogMjcgfVxuICAgIF0sXG4gICAgTUFUQ0hfU0NPUkVfTUFSR0lOOiAyMCxcblxuICAgIE9WRVJBTExfU0NPUkVfTEFCRUxTX1BPU0lUSU9OUzogW1xuICAgICAgICB7IHg6IDYyOCwgeTogNDYwIH0sXG4gICAgICAgIHsgeDogNzc4LCB5OiA0NjAgfSxcbiAgICBdLFxuICAgIE9WRVJBTExfU0NPUkVfTEFCRUxfRk9OVDogJzIwMHB4IEltcGFjdCcsXG4gICAgT1ZFUkFMTF9TQ09SRV9MQUJFTF9DT0xPUjogJyMxMjY3MzYnLFxuICAgIE9WRVJBTExfU0NPUkVfTEFCRUxfQUxMSUdOTUVOVDogJ3RvcCcsXG5cbiAgICAvLyBBU1NFVFNcbiAgICBTUFJJVEVTX0JBU0VfUEFUSDogJ2Fzc2V0cy9zcHJpdGVzLycsXG4gICAgU1BSSVRFUzoge1xuICAgICAgICBNQUlOX01FTlVfQkFDS0dST1VORCA6IFwibWFpbl9tZW51X2JhY2tncm91bmQucG5nXCIsXG4gICAgICAgIFRBQkxFIDogXCJzcHJfYmFja2dyb3VuZDQucG5nXCIsXG4gICAgICAgIENVRV9CQUxMIDogXCJzcHJfYmFsbDIucG5nXCIsXG4gICAgICAgIFJFRF9CQUxMIDogXCJzcHJfcmVkQmFsbDIucG5nXCIsXG4gICAgICAgIFlFTExPV19CQUxMIDogXCJzcHJfeWVsbG93QmFsbDIucG5nXCIsXG4gICAgICAgIEJMQUNLX0JBTEwgOiBcInNwcl9ibGFja0JhbGwyLnBuZ1wiLFxuICAgICAgICBTVElDSyA6IFwic3ByX3N0aWNrLnBuZ1wiLFxuICAgICAgICBUV09fUExBWUVSU19CVVRUT04gOiBcIjJfcGxheWVyc19idXR0b24ucG5nXCIsXG4gICAgICAgIFRXT19QTEFZRVJTX0JVVFRPTl9IT1ZFUkVEIDogXCIyX3BsYXllcnNfYnV0dG9uX2hvdmVyLnBuZ1wiLFxuICAgICAgICBPTkVfUExBWUVSX0JVVFRPTiA6IFwiMV9wbGF5ZXJfYnV0dG9uLnBuZ1wiLFxuICAgICAgICBPTkVfUExBWUVSX0JVVFRPTl9IT1ZFUkVEIDogXCIxX3BsYXllcl9idXR0b25faG92ZXIucG5nXCIsXG4gICAgICAgIE1VVEVfQlVUVE9OIDogXCJtdXRlX2J1dHRvbi5wbmdcIixcbiAgICAgICAgTVVURV9CVVRUT05fSE9WRVJFRCA6IFwibXV0ZV9idXR0b25faG92ZXIucG5nXCIsXG4gICAgICAgIE1VVEVfQlVUVE9OX1BSRVNTRUQgOiBcIm11dGVfYnV0dG9uX3ByZXNzZWQucG5nXCIsXG4gICAgICAgIE1VVEVfQlVUVE9OX1BSRVNTRURfSE9WRVJFRCA6IFwibXV0ZV9idXR0b25fcHJlc3NlZF9ob3Zlci5wbmdcIixcbiAgICAgICAgRUFTWV9CVVRUT04gOiBcImVhc3lfYnV0dG9uLnBuZ1wiLFxuICAgICAgICBFQVNZX0JVVFRPTl9IT1ZFUkVEIDogXCJlYXN5X2J1dHRvbl9ob3Zlci5wbmdcIixcbiAgICAgICAgTUVESVVNX0JVVFRPTiA6IFwibWVkaXVtX2J1dHRvbi5wbmdcIixcbiAgICAgICAgTUVESVVNX0JVVFRPTl9IT1ZFUkVEIDogXCJtZWRpdW1fYnV0dG9uX2hvdmVyLnBuZ1wiLFxuICAgICAgICBIQVJEX0JVVFRPTiA6IFwiaGFyZF9idXR0b24ucG5nXCIsXG4gICAgICAgIEhBUkRfQlVUVE9OX0hPVkVSRUQgOiBcImhhcmRfYnV0dG9uX2hvdmVyLnBuZ1wiLFxuICAgICAgICBCQUNLX0JVVFRPTiA6IFwiYmFja19idXR0b24ucG5nXCIsXG4gICAgICAgIEJBQ0tfQlVUVE9OX0hPVkVSRUQgOiBcImJhY2tfYnV0dG9uX2hvdmVyLnBuZ1wiLFxuICAgICAgICBDT05USU5VRV9CVVRUT04gOiBcImNvbnRpbnVlX2J1dHRvbi5wbmdcIixcbiAgICAgICAgQ09OVElOVUVfQlVUVE9OX0hPVkVSRUQgOiBcImNvbnRpbnVlX2J1dHRvbl9ob3Zlci5wbmdcIixcbiAgICAgICAgSU5TQU5FX0JVVFRPTiA6IFwiaW5zYW5lX2J1dHRvbi5wbmdcIixcbiAgICAgICAgSU5TQU5FX0JVVFRPTl9IT1ZFUkVEIDogXCJpbnNhbmVfYnV0dG9uX2hvdmVyLnBuZ1wiLFxuICAgICAgICBBQk9VVF9CVVRUT04gOiBcImFib3V0X2J1dHRvbi5wbmdcIixcbiAgICAgICAgQUJPVVRfQlVUVE9OX0hPVkVSRUQgOiBcImFib3V0X2J1dHRvbl9ob3Zlci5wbmdcIixcbiAgICAgICAgQ09OVFJPTFMgOiBcImNvbnRyb2xzLnBuZ1wiLFxuICAgICAgICBSRURfU0NPUkU6IFwicmVkX3Njb3JlLnBuZ1wiLFxuICAgICAgICBZRUxMT1dfU0NPUkU6IFwieWVsbG93X3Njb3JlLnBuZ1wiLFxuICAgIH0sXG4gICAgU09VTkRTX0JBU0VfUEFUSDogJ2Fzc2V0cy9zb3VuZHMvJyxcbiAgICBTT1VORFM6IHtcbiAgICAgICAgQkFMTFNfQ09MTElERTogXCJCYWxsc0NvbGxpZGUud2F2XCIsXG4gICAgICAgIFNUUklLRTogXCJTdHJpa2Uud2F2XCIsXG4gICAgICAgIFJBSUw6IFwiSG9sZS53YXZcIixcbiAgICAgICAgLy8gQm9zc2EgQW50aWd1YSBLZXZpbiBNYWNMZW9kIChpbmNvbXBldGVjaC5jb20pXG4gICAgICAgIC8vIExpY2Vuc2VkIHVuZGVyIENyZWF0aXZlIENvbW1vbnM6IEJ5IEF0dHJpYnV0aW9uIDMuMCBMaWNlbnNlXG4gICAgICAgIC8vIGh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LzMuMC9cbiAgICAgICAgLy9NVVNJQzogXCJCb3NzYSBBbnRpZ3VhLm1wM1wiXG4gICAgfSxcblxuICAgIC8vIFBIWVNJQ1NcbiAgICBGUklDVElPTjogMC4wMjA4LFxuICAgIENPTExJU0lPTl9MT1NTOiAwLjAyMDgsXG5cbiAgICAvLyBUQUJMRVxuICAgIENVU0hJT05fV0lEVEg6IDU3LFxuICAgIFBPQ0tFVF9SQURJVVM6IDQ4LFxuICAgIFBPQ0tFVFNfUE9TSVRJT05TOiBbXG4gICAgICAgIHsgeDogNjIsIHk6IDYyIH0sXG4gICAgICAgIHsgeDogNzUwLCB5OiAzMiB9LFxuICAgICAgICB7IHg6IDE0MzUsIHk6IDYyIH0sXG4gICAgICAgIHsgeDogNjIsIHk6IDc2MiB9LFxuICAgICAgICB7IHg6IDc1MCwgeTogNzk0IH0sXG4gICAgICAgIHsgeDogMTQzNSwgeTogNzYyIH0sXG4gICAgXSxcblxuICAgIC8vIExBQkVMU1xuICAgIENVUlJFTlRfUExBWUVSX0xBQkVMX1BPU0lUSU9OOiB7IHg6IDY0MCwgeTogMjYwfSxcbiAgICBDVVJSRU5UX1BMQVlFUl9MQUJFTF9DT0xPUjogJyMxMjY3MzYnLFxuICAgIENVUlJFTlRfUExBWUVSX0xBQkVMOiAnUExBWUVSICcsXG4gICAgQ1VSUkVOVF9QTEFZRVJfTEFCRUxfRk9OVDogJzcwcHggSW1wYWN0JyxcbiAgICBDVVJSRU5UX1BMQVlFUl9MQUJFTF9BTElHTk1FTlQ6ICd0b3AnLFxuXG4gICAgLy8gQkFMTFxuICAgIEJBTExfRElBTUVURVI6IDM4LFxuICAgIEJBTExfT1JJR0lOOiB7IHg6IDI1LCB5OiAyNSB9LFxuICAgIEJBTExfTUlOX1ZFTE9DSVRZX0xFTkdUSDogMC4wNSxcbiAgICBNQVhfQkFMTF9FWFBFQ1RFRF9WRUxPQ0lUWTogMjAwLFxuICAgIE1BWF9CQUxMX0VYUEVDVEVEX0NPTExJU0lPTl9GT1JDRTogNTAsXG5cbiAgICAvLyBTVElDS1xuICAgIFNUSUNLX09SSUdJTjogeyB4OiA5NzAsIHk6IDExIH0sXG4gICAgU1RJQ0tfU0hPVF9PUklHSU46IHsgeDogOTUwLCB5OiAxMSB9LFxuICAgIFBPV0VSX1RPX0FERF9QRVJfRlJBTUU6IDEsXG4gICAgU1RJQ0tfTU9WRU1FTlRfUEVSX0ZSQU1FOiAyLFxuICAgIFNUSUNLX01BWF9QT1dFUjogNjUsXG5cbiAgICAvLyBLRVlTXG4gICAgU0hPT1RfTU9VU0VfQlVUVE9OOiAwLFxuICAgIFBMQUNFX0JBTExfSU5fSEFORF9NT1VTRV9CVVRUT046IDAsXG4gICAgSU5DUkVBU0VfU0hPVF9QT1dFUl9LRVk6IDg3LFxuICAgIERFQ1JFQVNFX1NIT1RfUE9XRVJfS0VZOiA4MyxcblxuICAgIC8vIFRJTUlOR1xuICAgIFRJTUVPVVRfVE9fSElERV9TVElDS19BRlRFUl9TSE9UOiA1MDAsXG4gICAgVElNT1VUX1RPX0hJREVfQkFMTF9BRlRFUl9QT0NLRVQ6IDEwMCxcbn07XG4iLCJpbXBvcnQgeyBHQU1FX0NPTkZJRyB9IGZyb20gJy4vZ2FtZS5jb25maWcnO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJy4vZ2VvbS9WZWN0b3IyJztcblxuY2xhc3MgQ2FudmFzMkRfU2luZ2xldG9uIHtcblxuICAgIC8vLS0tLS0tTWVtYmVycy0tLS0tLS8vXG5cbiAgICBwcml2YXRlIF9jYW52YXNDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2NhbnZhcyA6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIHByaXZhdGUgX2NvbnRleHQgOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gICAgcHJpdmF0ZSBfc2NhbGU6IFZlY3RvcjI7XG4gICAgcHJpdmF0ZSBfb2Zmc2V0OiBWZWN0b3IyO1xuXG4gICAgLy8tLS0tLS1Qcm9wZXJ0aWVzLS0tLS0tLy9cbiAgICBcbiAgICBwdWJsaWMgZ2V0IHNjYWxlWCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NjYWxlLng7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBzY2FsZVkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zY2FsZS55O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgb2Zmc2V0WCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29mZnNldC54O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgb2Zmc2V0WSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29mZnNldC55O1xuICAgIH1cblxuICAgIC8vLS0tLS0tQ29uc3RydWN0b3ItLS0tLS0vL1xuXG4gICAgY29uc3RydWN0b3IoY2FudmFzIDogSFRNTENhbnZhc0VsZW1lbnQsIGNhbnZhc0NvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fY2FudmFzQ29udGFpbmVyID0gY2FudmFzQ29udGFpbmVyO1xuICAgICAgICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdGhpcy5yZXNpemVDYW52YXMoKTtcbiAgICB9XG5cbiAgICAvLy0tLS0tLVB1YmxpYyBNZXRob2RzLS0tLS0tLy9cblxuICAgIHB1YmxpYyByZXNpemVDYW52YXMoKTogdm9pZCB7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBvcmlnaW5hbENhbnZhc1dpZHRoID0gR0FNRV9DT05GSUcuR0FNRV9XSURUSDtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxDYW52YXNIZWlnaHQgPSBHQU1FX0NPTkZJRy5HQU1FX0hFSUdIVDtcbiAgICAgICAgY29uc3Qgd2lkdGhUb0hlaWdodDogbnVtYmVyID0gb3JpZ2luYWxDYW52YXNXaWR0aCAvIG9yaWdpbmFsQ2FudmFzSGVpZ2h0O1xuXG4gICAgICAgIGxldCBuZXdIZWlnaHQ6IG51bWJlciA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgbGV0IG5ld1dpZHRoOiBudW1iZXIgPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICBcbiAgICAgICAgY29uc3QgbmV3V2lkdGhUb0hlaWdodDogbnVtYmVyID0gbmV3V2lkdGggLyBuZXdIZWlnaHQ7XG5cbiAgICAgICAgaWYgKG5ld1dpZHRoVG9IZWlnaHQgPiB3aWR0aFRvSGVpZ2h0KSB7XG4gICAgICAgICAgICBuZXdXaWR0aCA9IG5ld0hlaWdodCAqIHdpZHRoVG9IZWlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdIZWlnaHQgPSBuZXdXaWR0aCAvIHdpZHRoVG9IZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuX2NhbnZhc0NvbnRhaW5lci5zdHlsZS53aWR0aCA9IG5ld1dpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5fY2FudmFzQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IG5ld0hlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuX2NhbnZhc0NvbnRhaW5lci5zdHlsZS5tYXJnaW5Ub3AgPSAod2luZG93LmlubmVySGVpZ2h0IC0gbmV3SGVpZ2h0KSAvIDIgKyAncHgnO1xuICAgICAgICB0aGlzLl9jYW52YXNDb250YWluZXIuc3R5bGUubWFyZ2luTGVmdCA9ICh3aW5kb3cuaW5uZXJXaWR0aCAtIG5ld1dpZHRoKSAvIDIgKyAncHgnO1xuICAgICAgICB0aGlzLl9jYW52YXNDb250YWluZXIuc3R5bGUubWFyZ2luQm90dG9tID0gKHdpbmRvdy5pbm5lckhlaWdodCAtIG5ld0hlaWdodCkgLyAyICsgJ3B4JztcbiAgICAgICAgdGhpcy5fY2FudmFzQ29udGFpbmVyLnN0eWxlLm1hcmdpblJpZ2h0ID0gKHdpbmRvdy5pbm5lcldpZHRoIC0gbmV3V2lkdGgpIC8gMiArICdweCc7XG4gICAgICAgIHRoaXMuX3NjYWxlID0gbmV3IFZlY3RvcjIobmV3V2lkdGggLyBvcmlnaW5hbENhbnZhc1dpZHRoLCBuZXdIZWlnaHQgLyBvcmlnaW5hbENhbnZhc0hlaWdodCk7XG5cbiAgICAgICAgdGhpcy5fY2FudmFzLndpZHRoID0gbmV3V2lkdGg7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5oZWlnaHQgPSBuZXdIZWlnaHQ7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5fY2FudmFzLm9mZnNldFBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5fb2Zmc2V0ID0gbmV3IFZlY3RvcjIodGhpcy5fY2FudmFzLm9mZnNldExlZnQsIHRoaXMuX2NhbnZhcy5vZmZzZXRUb3ApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgY2xlYXIoKSA6IHZvaWQge1xuICAgICAgICB0aGlzLl9jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLl9jYW52YXMud2lkdGgsIHRoaXMuX2NhbnZhcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBkcmF3SW1hZ2UoXG4gICAgICAgICAgICBzcHJpdGU6IEhUTUxJbWFnZUVsZW1lbnQsXG4gICAgICAgICAgICBwb3NpdGlvbjogVmVjdG9yMiA9IFZlY3RvcjIuemVybywgXG4gICAgICAgICAgICByb3RhdGlvbjogbnVtYmVyID0gMCwgXG4gICAgICAgICAgICBvcmlnaW46IFZlY3RvcjIgPSBWZWN0b3IyLnplcm9cbiAgICAgICAgKSB7ICAgIFxuICAgICAgICB0aGlzLl9jb250ZXh0LnNhdmUoKTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5zY2FsZSh0aGlzLl9zY2FsZS54LCB0aGlzLl9zY2FsZS55KTtcbiAgICAgICAgdGhpcy5fY29udGV4dC50cmFuc2xhdGUocG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQucm90YXRlKHJvdGF0aW9uKTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5kcmF3SW1hZ2Uoc3ByaXRlLCAwLCAwLCBzcHJpdGUud2lkdGgsIHNwcml0ZS5oZWlnaHQsIC1vcmlnaW4ueCwgLW9yaWdpbi55LCBzcHJpdGUud2lkdGgsIHNwcml0ZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLl9jb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG5cblxuICAgIHB1YmxpYyBkcmF3VGV4dCh0ZXh0OiBzdHJpbmcsIGZvbnQ6c3RyaW5nLCBjb2xvcjogc3RyaW5nLCBwb3NpdGlvbjogVmVjdG9yMiwgdGV4dEFsaWduOiBzdHJpbmcgPSAnbGVmdCcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5zYXZlKCk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuc2NhbGUodGhpcy5fc2NhbGUueCwgdGhpcy5fc2NhbGUueSk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgICAgIHRoaXMuX2NvbnRleHQudGV4dEFsaWduID0gdGV4dEFsaWduIGFzIENhbnZhc1RleHRBbGlnbjtcbiAgICAgICAgdGhpcy5fY29udGV4dC5maWxsVGV4dCh0ZXh0LCBwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxufVxuXG5jb25zdCBjYW52YXMgOiBIVE1MQ2FudmFzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY3JlZW4nKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbmNvbnN0IGNvbnRhaW5lciA6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWVBcmVhJykgYXMgSFRNTEVsZW1lbnQ7XG5leHBvcnQgY29uc3QgQ2FudmFzMkQgPSBuZXcgQ2FudmFzMkRfU2luZ2xldG9uKGNhbnZhcywgY29udGFpbmVyKTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIENhbnZhczJELnJlc2l6ZUNhbnZhcy5iaW5kKENhbnZhczJEKSk7XG4iLCJcbmV4cG9ydCBjbGFzcyBWZWN0b3IyIHtcblxuICAgIC8vLS0tLS0tTWVtYmVycy0tLS0tLS8vXG5cbiAgICBwcml2YXRlIF94OiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfeTogbnVtYmVyO1xuXG4gICAgLy8tLS0tLS1Db25zdHJ1Y3Rvci0tLS0tLS8vXG5cbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgfVxuXG4gICAgLy8tLS0tLS1Qcm9wZXJ0aWVzLS0tLS0tLy9cblxuICAgIGdldCB4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5feDtcbiAgICB9XG4gICAgXG4gICAgZ2V0IHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl95O1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgemVybygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKDAsIDApO1xuICAgIH1cblxuICAgIGdldCBsZW5ndGgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh0aGlzLl94LCAyKSArIE1hdGgucG93KHRoaXMuX3ksIDIpKTtcbiAgICB9XG5cbiAgICAvLy0tLS0tLVB1YmxpYyBNZXRob2RzLS0tLS0tLy9cblxuICAgIHB1YmxpYyBzdGF0aWMgY29weSh2ZWN0b3I6IFZlY3RvcjIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHZlY3Rvci54LCB2ZWN0b3IueSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFgoeDogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLl94LCB0aGlzLl95KS5hZGRUb1goeCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFkoeTogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLl94LCB0aGlzLl95KS5hZGRUb1koeSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFRvWCh4OiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICAgICAgdGhpcy5feCArPSB4O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkVG9ZKHk6IG51bWJlcik6IFZlY3RvcjIge1xuICAgICAgICB0aGlzLl95ICs9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRUbyh2ZWN0b3I6IFZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkVG9YKHZlY3Rvci54KS5hZGRUb1kodmVjdG9yLnkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGQodmVjdG9yOiBWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLl94LCB0aGlzLl95KS5hZGRUbyh2ZWN0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdWJ0cmFjdFRvKHZlY3RvcjogVmVjdG9yMik6IFZlY3RvcjIge1xuICAgICAgICB0aGlzLl94IC09IHZlY3Rvci54O1xuICAgICAgICB0aGlzLl95IC09IHZlY3Rvci55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgc3VidHJhY3QodmVjdG9yOiBWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLl94LCB0aGlzLl95KS5zdWJ0cmFjdFRvKHZlY3Rvcik7XG4gICAgfVxuXG4gICAgcHVibGljIG11bHQodjogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLl94LCB0aGlzLl95KS5tdWx0Qnkodik7XG4gICAgfVxuXG4gICAgcHVibGljIG11bHRCeSh2OiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICAgICAgdGhpcy5feCAqPSB2O1xuICAgICAgICB0aGlzLl95ICo9IHY7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBkb3QodmVjdG9yOiBWZWN0b3IyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ggKiB2ZWN0b3IueCArIHRoaXMuX3kgKiB2ZWN0b3IueTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGlzdEZyb20odmVjdG9yOiBWZWN0b3IyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VidHJhY3QodmVjdG9yKS5sZW5ndGg7XG4gICAgfVxufSIsImltcG9ydCB7IEdBTUVfQ09ORklHIH0gZnJvbSAnLi9nYW1lLmNvbmZpZyc7XG5cbmNsYXNzIEFzc2V0c19TaW5nbGV0b24ge1xuXG4gICAgX3Nwcml0ZXM6IE1hcDxzdHJpbmcsIEhUTUxJbWFnZUVsZW1lbnQ+O1xuICAgIF9zb3VuZHM6IE1hcDxzdHJpbmcsIEhUTUxBdWRpb0VsZW1lbnQ+O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3Nwcml0ZXMgPSBuZXcgTWFwPHN0cmluZywgSFRNTEltYWdlRWxlbWVudD4oKTtcbiAgICAgICAgdGhpcy5fc291bmRzID0gbmV3IE1hcDxzdHJpbmcsIEhUTUxBdWRpb0VsZW1lbnQ+KCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGxvYWRHYW1lQXNzZXRzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmxvYWRHYW1lU3ByaXRlcygpO1xuICAgICAgICBhd2FpdCB0aGlzLmxvYWRHYW1lU291bmRzKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNwcml0ZShrZXk6IHN0cmluZyk6IEhUTUxJbWFnZUVsZW1lbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3ByaXRlcy5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U291bmQoa2V5OiBzdHJpbmcpOiBIVE1MQXVkaW9FbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvdW5kcy5nZXQoa2V5KS5jbG9uZU5vZGUodHJ1ZSkgYXMgSFRNTEF1ZGlvRWxlbWVudDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcGxheVNvdW5kKGtleTogc3RyaW5nLCB2b2x1bWU6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBjb25zdCBzb3VuZCA9IHRoaXMuZ2V0U291bmQoa2V5KTtcbiAgICAgICAgc291bmQudm9sdW1lID0gdm9sdW1lO1xuICAgICAgICBzb3VuZC5wbGF5KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb2FkU3ByaXRlKHBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgdGhpcy5fc3ByaXRlcy5zZXQocGF0aCwgaW1nKTtcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgaW1nLnNyYyA9IEdBTUVfQ09ORklHLlNQUklURVNfQkFTRV9QQVRIICsgcGF0aDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIHByaXZhdGUgYXN5bmMgbG9hZEdhbWVTcHJpdGVzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBsb2FkUHJvbWlzZXMgPSBPYmplY3QudmFsdWVzKEdBTUVfQ09ORklHLlNQUklURVMpLm1hcCh0aGlzLmxvYWRTcHJpdGUuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwobG9hZFByb21pc2VzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWRTb3VuZChwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgYXVkaW86IEhUTUxBdWRpb0VsZW1lbnQgPSBuZXcgQXVkaW8oKTtcbiAgICAgICAgdGhpcy5fc291bmRzLnNldChwYXRoLCBhdWRpbyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgYXVkaW8uc3JjID0gR0FNRV9DT05GSUcuU09VTkRTX0JBU0VfUEFUSCArIHBhdGg7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgbG9hZEdhbWVTb3VuZHMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGxvYWRQcm9taXNlcyA9IE9iamVjdC52YWx1ZXMoR0FNRV9DT05GSUcuU09VTkRTKS5tYXAodGhpcy5sb2FkU291bmQuYmluZCh0aGlzKSk7XG4gICAgICAgIFxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChsb2FkUHJvbWlzZXMpO1xuICAgIH1cblxufVxuXG5leHBvcnQgY29uc3QgQXNzZXRzID0gbmV3IEFzc2V0c19TaW5nbGV0b24oKTsiLCJcbmV4cG9ydCBlbnVtIENvbG9yIHtcbiAgICB3aGl0ZSA9ICcjQkFCQUJBJyxcbiAgICBibGFjayA9ICcjMkIyQjJCJyxcbiAgICByZWQgPSAnI0I2MkEyRicsXG4gICAgeWVsbG93ID0gJyNGRUNBMzQnXG59IiwiaW1wb3J0IHsgQnV0dG9uU3RhdGUgfSBmcm9tICcuL0J1dHRvblN0YXRlJztcbmltcG9ydCB7IENhbnZhczJEIH0gZnJvbSAnLi8uLi9DYW52YXMnO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJy4vLi4vZ2VvbS9WZWN0b3IyJztcblxuY2xhc3MgTW91c2VfU2luZ2xldG9uIHtcblxuICAgIHByaXZhdGUgX2J1dHRvblN0YXRlczogQnV0dG9uU3RhdGVbXSA9IFtdO1xuICAgIHByaXZhdGUgX3Bvc2l0aW9uOiBWZWN0b3IyO1xuXG4gICAgcHVibGljIGdldCBwb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFZlY3RvcjIuY29weSh0aGlzLl9wb3NpdGlvbik7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoKSB7XG5cbiAgICAgICAgZm9yKGxldCBpID0gMCA7IGkgPCAzIDsgaSArKyApIHtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvblN0YXRlc1tpXSA9IG5ldyBCdXR0b25TdGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBWZWN0b3IyLnplcm87XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGV2ZW50KSA9PiB0aGlzLmhhbmRsZU1vdXNlTW92ZShldmVudCkpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZlbnQpID0+IHRoaXMuaGFuZGxlTW91c2VEb3duKGV2ZW50KSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoZXZlbnQpID0+IHRoaXMuaGFuZGxlTW91c2VVcChldmVudCkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlTW91c2VNb3ZlKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IG1vdXNlWDogbnVtYmVyID0gKGV2ZW50LnBhZ2VYIC0gQ2FudmFzMkQub2Zmc2V0WCkgLyBDYW52YXMyRC5zY2FsZVg7XG4gICAgICAgIGNvbnN0IG1vdXNlWTogbnVtYmVyID0gKGV2ZW50LnBhZ2VZIC0gQ2FudmFzMkQub2Zmc2V0WSkgLyBDYW52YXMyRC5zY2FsZVk7XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gbmV3IFZlY3RvcjIobW91c2VYLCBtb3VzZVkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlTW91c2VEb3duKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2J1dHRvblN0YXRlc1tldmVudC5idXR0b25dLmRvd24gPSB0cnVlO1xuICAgICAgICB0aGlzLl9idXR0b25TdGF0ZXNbZXZlbnQuYnV0dG9uXS5wcmVzc2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZU1vdXNlVXAoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fYnV0dG9uU3RhdGVzW2V2ZW50LmJ1dHRvbl0uZG93biA9IGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXNldCgpIDogdm9pZCB7XG4gICAgICAgIGZvcihsZXQgaSA9IDAgOyBpIDwgMyA7IGkrKyApIHtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvblN0YXRlc1tpXS5wcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNEb3duKGJ1dHRvbjogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9idXR0b25TdGF0ZXNbYnV0dG9uXS5kb3duO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgaXNQcmVzc2VkKGJ1dHRvbjogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9idXR0b25TdGF0ZXNbYnV0dG9uXS5wcmVzc2VkO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IE1vdXNlID0gbmV3IE1vdXNlX1NpbmdsZXRvbigpOyIsIlxuZXhwb3J0IGNvbnN0IG1hcFJhbmdlID0gKG51bTogbnVtYmVyLCBpbl9taW46IG51bWJlciwgaW5fbWF4OiBudW1iZXIsIG91dF9taW46IG51bWJlciwgb3V0X21heDogbnVtYmVyKSA9PiB7XG4gICAgbGV0IHZhbHVlID0gKG51bSAtIGluX21pbikgKiAob3V0X21heCAtIG91dF9taW4pIC8gKGluX21heCAtIGluX21pbikgKyBvdXRfbWluO1xuICAgIHZhbHVlICA9IHZhbHVlIDwgb3V0X21pbiA/IG91dF9taW4gOiB2YWx1ZTtcbiAgICB2YWx1ZSA9IHZhbHVlID4gb3V0X21heCA/IG91dF9tYXggOiB2YWx1ZTtcbiAgICByZXR1cm4gdmFsdWU7XG59IiwiaW1wb3J0IHsgQnV0dG9uU3RhdGUgfSBmcm9tICcuL0J1dHRvblN0YXRlJztcblxuY2xhc3MgS2V5Ym9hcmRfU2luZ2xldG9uIHtcblxuICAgIC8vLS0tLS0tTWVtYmVycy0tLS0tLS8vXG5cbiAgICBfa2V5U3RhdGVzIDogQnV0dG9uU3RhdGVbXSA9IFtdO1xuICAgIFxuICAgIC8vLS0tLS0tQ29uc3RydWN0b3ItLS0tLS0vL1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGZvcihsZXQgaSA9IDAgOyBpIDwgMjU2IDsgaSsrICkge1xuICAgICAgICAgICAgdGhpcy5fa2V5U3RhdGVzW2ldID0gIG5ldyBCdXR0b25TdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4gdGhpcy5oYW5kbGVLZXlVcChldmVudCkpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB0aGlzLmhhbmRsZUtleURvd24oZXZlbnQpKTtcbiAgICB9XG5cbiAgICAvLy0tLS0tLVByaXZhdGUgTWV0aG9kcy0tLS0tLS8vXG5cbiAgICBwcml2YXRlIGhhbmRsZUtleVVwKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2tleVN0YXRlc1tldmVudC5rZXlDb2RlXS5kb3duID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVLZXlEb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2tleVN0YXRlc1tldmVudC5rZXlDb2RlXS5wcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2tleVN0YXRlc1tldmVudC5rZXlDb2RlXS5kb3duID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLy0tLS0tLVB1YmxpYyBNZXRob2RzLS0tLS0tLy9cblxuICAgIHB1YmxpYyByZXNldCgpIDogdm9pZCB7XG4gICAgICAgIGZvcihsZXQgaSA9IDAgOyBpIDwgMjU2IDsgaSsrICkge1xuICAgICAgICAgICAgdGhpcy5fa2V5U3RhdGVzW2ldLnByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBpc0Rvd24oa2V5Q29kZTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9rZXlTdGF0ZXNba2V5Q29kZV0uZG93bjtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGlzUHJlc3NlZChrZXlDb2RlOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2tleVN0YXRlc1trZXlDb2RlXS5wcmVzc2VkO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IEtleWJvYXJkID0gbmV3IEtleWJvYXJkX1NpbmdsZXRvbigpOyIsIlxuZXhwb3J0IGNsYXNzIEJ1dHRvblN0YXRlIHtcbiAgICBcbiAgICBwdWJsaWMgZG93biA9IGZhbHNlO1xuICAgIHB1YmxpYyBwcmVzc2VkID0gZmFsc2U7XG4gICAgXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIFxuICAgIH1cbn0iLCJpbXBvcnQgeyBBc3NldHMgfSBmcm9tICcuL0Fzc2V0cyc7XG5pbXBvcnQgeyBHYW1lV29ybGQgfSBmcm9tICcuL2dhbWUtb2JqZWN0cy9HYW1lV29ybGQnO1xuaW1wb3J0IHsgS2V5Ym9hcmQgfSBmcm9tICcuL2lucHV0L0tleWJvYXJkJztcbmltcG9ydCB7IENhbnZhczJEIH0gZnJvbSAnLi9DYW52YXMnO1xuaW1wb3J0IHsgTW91c2UgfSBmcm9tICcuL2lucHV0L01vdXNlJztcblxubGV0IHBvb2xHYW1lOiBHYW1lV29ybGQ7XG5cblxuYXN5bmMgZnVuY3Rpb24gaW5pdEdhbWUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgQXNzZXRzLmxvYWRHYW1lQXNzZXRzKCk7XG5cbiAgICBwb29sR2FtZSA9IG5ldyBHYW1lV29ybGQoKTtcbiAgICBnYW1lTG9vcCgpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUoKTogdm9pZCB7XG4gICAgcG9vbEdhbWUudXBkYXRlKCk7XG4gICAgS2V5Ym9hcmQucmVzZXQoKTtcbiAgICBNb3VzZS5yZXNldCgpO1xufVxuXG5mdW5jdGlvbiBkcmF3KCk6IHZvaWQge1xuICAgIENhbnZhczJELmNsZWFyKCk7XG4gICAgcG9vbEdhbWUuZHJhdygpO1xufVxuXG5mdW5jdGlvbiBnYW1lTG9vcCgpOiB2b2lkIHtcbiAgICB1cGRhdGUoKTtcbiAgICBkcmF3KCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wKTtcbn1cblxuaW5pdEdhbWUoKTsiLCJpbXBvcnQgeyBtYXBSYW5nZSB9IGZyb20gJy4vLi4vY29tbW9uL0hlbHBlcic7XG5pbXBvcnQgeyBSZWZlcmVlIH0gZnJvbSAnLi9SZWZlcmVlJztcbmltcG9ydCB7IFBsYXllciB9IGZyb20gJy4vUGxheWVyJztcbmltcG9ydCB7IFN0aWNrIH0gZnJvbSAnLi9TdGljayc7XG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uL2NvbW1vbi9Db2xvcic7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSAnLi4vZ2VvbS9WZWN0b3IyJztcbmltcG9ydCB7IEdBTUVfQ09ORklHIH0gZnJvbSAnLi4vZ2FtZS5jb25maWcnO1xuaW1wb3J0IHsgQXNzZXRzIH0gZnJvbSAnLi4vQXNzZXRzJztcbmltcG9ydCB7IENhbnZhczJEIH0gZnJvbSAnLi4vQ2FudmFzJztcbmltcG9ydCB7IEJhbGwgfSBmcm9tICcuL0JhbGwnO1xuaW1wb3J0IHsgTW91c2UgfSBmcm9tICcuLi9pbnB1dC9Nb3VzZSc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vU3RhdGUnO1xuXG5leHBvcnQgY2xhc3MgR2FtZVdvcmxkIHtcblxuICAgIC8vLS0tLS0tTWVtYmVycy0tLS0tLS8vXG5cbiAgICBfc3RpY2s6IFN0aWNrO1xuICAgIF9jdWVCYWxsOiBCYWxsO1xuICAgIF84QmFsbDogQmFsbDtcbiAgICBfYmFsbHM6IEJhbGxbXTtcbiAgICBfcGxheWVyczogUGxheWVyW10gPSBbXG4gICAgICAgIG5ldyBQbGF5ZXIoKSxcbiAgICAgICAgbmV3IFBsYXllcigpLFxuICAgIF07XG4gICAgX2N1cnJlbnRQbGF5ZXJJbmRleCA9IDA7XG4gICAgX3R1cm5TdGF0ZTogU3RhdGU7XG4gICAgX3JlZmVyZWU6IFJlZmVyZWU7XG5cbiAgICAvLy0tLS0tLVByb3BlcnRpZXMtLS0tLS0vL1xuXG4gICAgcHJpdmF0ZSBnZXQgY3VycmVudFBsYXllcigpOiBQbGF5ZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGxheWVyc1t0aGlzLl9jdXJyZW50UGxheWVySW5kZXhdO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IG5leHRQbGF5ZXIoKTogUGxheWVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BsYXllcnNbKHRoaXMuX2N1cnJlbnRQbGF5ZXJJbmRleCArIDEpICUgdGhpcy5fcGxheWVycy5sZW5ndGhdO1xuICAgIH1cblxuICAgIC8vLS0tLS0tQ29uc3RydWN0b3ItLS0tLS0vL1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaW5pdE1hdGNoKCk7XG4gICAgfVxuXG4gICAgLy8tLS0tLS1Qcml2YXRlIE1ldGhvZHMtLS0tLS0vL1xuXG4gICAgcHJpdmF0ZSBnZXRCYWxsc0J5Q29sb3IoY29sb3I6IENvbG9yKTogQmFsbFtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JhbGxzLmZpbHRlcigoYmFsbDogQmFsbCkgPT4gYmFsbC5jb2xvciA9PT0gY29sb3IpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2hvb3RDdWVCYWxsKCk6IHZvaWQge1xuICAgICAgICBpZih0aGlzLl9zdGljay5wb3dlciA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3N0aWNrLnNob290KCk7XG4gICAgICAgICAgICB0aGlzLl9jdWVCYWxsLnNob290KHRoaXMuX3N0aWNrLnBvd2VyLCB0aGlzLl9zdGljay5yb3RhdGlvbik7XG4gICAgICAgICAgICB0aGlzLl9zdGljay5tb3ZhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuX3N0aWNrLmhpZGUoKSwgR0FNRV9DT05GSUcuVElNRU9VVF9UT19ISURFX1NUSUNLX0FGVEVSX1NIT1QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVJbnB1dCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKE1vdXNlLmlzUHJlc3NlZChHQU1FX0NPTkZJRy5TSE9PVF9NT1VTRV9CVVRUT04pKSB7XG4gICAgICAgICAgICB0aGlzLnNob290Q3VlQmFsbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXNvbHZlQmFsbENvbGxpc2lvbldpdGhDdXNoaW9uKGJhbGw6IEJhbGwpOiB2b2lkIHtcblxuICAgICAgICBjb25zdCBiYWxsUmFkaXVzOiBudW1iZXIgPSBHQU1FX0NPTkZJRy5CQUxMX0RJQU1FVEVSIC8gMjtcbiAgICAgICAgY29uc3QgdG9wQmFsbEVkZ2U6IG51bWJlciA9IGJhbGwubmV4dFBvc2l0aW9uLnkgLSBiYWxsUmFkaXVzO1xuICAgICAgICBjb25zdCBsZWZ0QmFsbEVkZ2U6IG51bWJlciA9IGJhbGwubmV4dFBvc2l0aW9uLnggLSBiYWxsUmFkaXVzO1xuICAgICAgICBjb25zdCByaWdodEJhbGxFZGdlOiBudW1iZXIgPSBiYWxsLm5leHRQb3NpdGlvbi54ICsgYmFsbFJhZGl1cztcbiAgICAgICAgY29uc3QgYm90dG9tQmFsbEVkZ2U6IG51bWJlciA9IGJhbGwubmV4dFBvc2l0aW9uLnkgKyBiYWxsUmFkaXVzO1xuXG4gICAgICAgIGxldCBjb2xsaWRlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIGlmKHRvcEJhbGxFZGdlIDw9IEdBTUVfQ09ORklHLkNVU0hJT05fV0lEVEgpIHtcbiAgICAgICAgICAgIGJhbGwucG9zaXRpb24gPSBiYWxsLnBvc2l0aW9uLmFkZFkoR0FNRV9DT05GSUcuQ1VTSElPTl9XSURUSCAtIGJhbGwucG9zaXRpb24ueSArIGJhbGxSYWRpdXMpO1xuICAgICAgICAgICAgYmFsbC52ZWxvY2l0eSA9IG5ldyBWZWN0b3IyKGJhbGwudmVsb2NpdHkueCwgLWJhbGwudmVsb2NpdHkueSk7XG4gICAgICAgICAgICBjb2xsaWRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYobGVmdEJhbGxFZGdlIDw9IEdBTUVfQ09ORklHLkNVU0hJT05fV0lEVEgpIHtcbiAgICAgICAgICAgIGJhbGwucG9zaXRpb24gPSBiYWxsLnBvc2l0aW9uLmFkZFgoR0FNRV9DT05GSUcuQ1VTSElPTl9XSURUSCAtIGJhbGwucG9zaXRpb24ueCArIGJhbGxSYWRpdXMpO1xuICAgICAgICAgICAgYmFsbC52ZWxvY2l0eSA9IG5ldyBWZWN0b3IyKC1iYWxsLnZlbG9jaXR5LngsIGJhbGwudmVsb2NpdHkueSk7XG4gICAgICAgICAgICBjb2xsaWRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYocmlnaHRCYWxsRWRnZSA+PSBHQU1FX0NPTkZJRy5HQU1FX1dJRFRIIC0gR0FNRV9DT05GSUcuQ1VTSElPTl9XSURUSCkge1xuICAgICAgICAgICAgYmFsbC5wb3NpdGlvbiA9IGJhbGwucG9zaXRpb24uYWRkWChHQU1FX0NPTkZJRy5HQU1FX1dJRFRIIC0gR0FNRV9DT05GSUcuQ1VTSElPTl9XSURUSCAtIGJhbGwucG9zaXRpb24ueCAtIGJhbGxSYWRpdXMpO1xuICAgICAgICAgICAgYmFsbC52ZWxvY2l0eSA9IG5ldyBWZWN0b3IyKC1iYWxsLnZlbG9jaXR5LngsIGJhbGwudmVsb2NpdHkueSk7XG4gICAgICAgICAgICBjb2xsaWRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYoYm90dG9tQmFsbEVkZ2UgPj0gR0FNRV9DT05GSUcuR0FNRV9IRUlHSFQgLSBHQU1FX0NPTkZJRy5DVVNISU9OX1dJRFRIKSB7XG4gICAgICAgICAgICBiYWxsLnBvc2l0aW9uID0gYmFsbC5wb3NpdGlvbi5hZGRZKEdBTUVfQ09ORklHLkdBTUVfSEVJR0hUIC0gR0FNRV9DT05GSUcuQ1VTSElPTl9XSURUSCAtIGJhbGwucG9zaXRpb24ueSAtIGJhbGxSYWRpdXMpO1xuICAgICAgICAgICAgYmFsbC52ZWxvY2l0eSA9IG5ldyBWZWN0b3IyKGJhbGwudmVsb2NpdHkueCwgLWJhbGwudmVsb2NpdHkueSk7XG4gICAgICAgICAgICBjb2xsaWRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZihjb2xsaWRlZCkge1xuICAgICAgICAgICAgYmFsbC52ZWxvY2l0eSA9IGJhbGwudmVsb2NpdHkubXVsdCgxIC0gR0FNRV9DT05GSUcuQ09MTElTSU9OX0xPU1MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXNvbHZlQmFsbHNDb2xsaXNpb24gKGZpcnN0OiBCYWxsLCBzZWNvbmQ6IEJhbGwpOiBib29sZWFuIHtcblxuICAgICAgICBpZighZmlyc3QudmlzaWJsZSB8fCAhc2Vjb25kLnZpc2libGUpe1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8vIEZpbmQgYSBub3JtYWwgdmVjdG9yXG4gICAgICAgIGNvbnN0IG46IFZlY3RvcjIgPSBmaXJzdC5wb3NpdGlvbi5zdWJ0cmFjdChzZWNvbmQucG9zaXRpb24pO1xuICAgIFxuICAgICAgICAvLyBGaW5kIGRpc3RhbmNlXG4gICAgICAgIGNvbnN0IGRpc3Q6IG51bWJlciA9IG4ubGVuZ3RoO1xuICAgIFxuICAgICAgICBpZihkaXN0ID4gR0FNRV9DT05GSUcuQkFMTF9ESUFNRVRFUil7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLy8gRmluZCBtaW5pbXVtIHRyYW5zbGF0aW9uIGRpc3RhbmNlXG4gICAgICAgIGNvbnN0IG10ZCA9IG4ubXVsdCgoR0FNRV9DT05GSUcuQkFMTF9ESUFNRVRFUiAtIGRpc3QpIC8gZGlzdCk7XG4gICAgXG4gICAgICAgIC8vIFB1c2gtcHVsbCBiYWxscyBhcGFydFxuICAgICAgICBmaXJzdC5wb3NpdGlvbiA9IGZpcnN0LnBvc2l0aW9uLmFkZChtdGQubXVsdCgwLjUpKTtcbiAgICAgICAgc2Vjb25kLnBvc2l0aW9uID0gc2Vjb25kLnBvc2l0aW9uLnN1YnRyYWN0KG10ZC5tdWx0KDAuNSkpO1xuICAgIFxuICAgICAgICAvLyBGaW5kIHVuaXQgbm9ybWFsIHZlY3RvclxuICAgICAgICBjb25zdCB1biA9IG4ubXVsdCgxL24ubGVuZ3RoKTtcbiAgICBcbiAgICAgICAgLy8gRmluZCB1bml0IHRhbmdlbnQgdmVjdG9yXG4gICAgICAgIGNvbnN0IHV0ID0gbmV3IFZlY3RvcjIoLXVuLnksIHVuLngpO1xuICAgIFxuICAgICAgICAvLyBQcm9qZWN0IHZlbG9jaXRpZXMgb250byB0aGUgdW5pdCBub3JtYWwgYW5kIHVuaXQgdGFuZ2VudCB2ZWN0b3JzXG4gICAgICAgIGNvbnN0IHYxbjogbnVtYmVyID0gdW4uZG90KGZpcnN0LnZlbG9jaXR5KTtcbiAgICAgICAgY29uc3QgdjF0OiBudW1iZXIgPSB1dC5kb3QoZmlyc3QudmVsb2NpdHkpO1xuICAgICAgICBjb25zdCB2Mm46IG51bWJlciA9IHVuLmRvdChzZWNvbmQudmVsb2NpdHkpO1xuICAgICAgICBjb25zdCB2MnQ6IG51bWJlciA9IHV0LmRvdChzZWNvbmQudmVsb2NpdHkpO1xuICAgIFxuICAgICAgICAvLyBDb252ZXJ0IHRoZSBzY2FsYXIgbm9ybWFsIGFuZCB0YW5nZW50aWFsIHZlbG9jaXRpZXMgaW50byB2ZWN0b3JzXG4gICAgICAgIGNvbnN0IHYxblRhZzogVmVjdG9yMiA9IHVuLm11bHQodjJuKTtcbiAgICAgICAgY29uc3QgdjF0VGFnOiBWZWN0b3IyID0gdXQubXVsdCh2MXQpO1xuICAgICAgICBjb25zdCB2Mm5UYWc6IFZlY3RvcjIgPSB1bi5tdWx0KHYxbik7XG4gICAgICAgIGNvbnN0IHYydFRhZzogVmVjdG9yMiA9IHV0Lm11bHQodjJ0KTtcbiAgICBcbiAgICAgICAgLy8gVXBkYXRlIHZlbG9jaXRpZXNcbiAgICAgICAgZmlyc3QudmVsb2NpdHkgPSB2MW5UYWcuYWRkKHYxdFRhZyk7XG4gICAgICAgIHNlY29uZC52ZWxvY2l0eSA9IHYyblRhZy5hZGQodjJ0VGFnKTtcbiAgICBcbiAgICAgICAgZmlyc3QudmVsb2NpdHkgPSBmaXJzdC52ZWxvY2l0eS5tdWx0KDEgLSBHQU1FX0NPTkZJRy5DT0xMSVNJT05fTE9TUyk7XG4gICAgICAgIHNlY29uZC52ZWxvY2l0eSA9IHNlY29uZC52ZWxvY2l0eS5tdWx0KDEgLSBHQU1FX0NPTkZJRy5DT0xMSVNJT05fTE9TUyk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUNvbGxpc2lvbnMoKTogdm9pZCB7XG4gICAgICAgIGZvcihsZXQgaSA9IDAgOyBpIDwgdGhpcy5fYmFsbHMubGVuZ3RoIDsgaSsrICl7IFxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnJlc29sdmVCYWxsQ29sbGlzaW9uV2l0aEN1c2hpb24odGhpcy5fYmFsbHNbaV0pO1xuXG4gICAgICAgICAgICBmb3IobGV0IGogPSBpICsgMSA7IGogPCB0aGlzLl9iYWxscy5sZW5ndGggOyBqKysgKXtcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdEJhbGwgPSB0aGlzLl9iYWxsc1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWNvbmRCYWxsID0gdGhpcy5fYmFsbHNbal07XG4gICAgICAgICAgICAgICAgY29uc3QgY29sbGlkZWQgPSB0aGlzLnJlc29sdmVCYWxsc0NvbGxpc2lvbihmaXJzdEJhbGwsIHNlY29uZEJhbGwpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmKGNvbGxpZGVkKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9yY2U6IG51bWJlciA9IGZpcnN0QmFsbC52ZWxvY2l0eS5sZW5ndGggKyBzZWNvbmRCYWxsLnZlbG9jaXR5Lmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2b2x1bWU6IG51bWJlciA9IG1hcFJhbmdlKGZvcmNlLCAwLCBHQU1FX0NPTkZJRy5NQVhfQkFMTF9FWFBFQ1RFRF9DT0xMSVNJT05fRk9SQ0UsIDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICBBc3NldHMucGxheVNvdW5kKEdBTUVfQ09ORklHLlNPVU5EUy5CQUxMU19DT0xMSURFLCB2b2x1bWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLl90dXJuU3RhdGUuZmlyc3RDb2xsaWRlZEJhbGxDb2xvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3I6IENvbG9yID0gZmlyc3RCYWxsLmNvbG9yID09PSBDb2xvci53aGl0ZSA/IHNlY29uZEJhbGwuY29sb3IgOiBmaXJzdEJhbGwuY29sb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90dXJuU3RhdGUuZmlyc3RDb2xsaWRlZEJhbGxDb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9ICAgIFxuICAgIH1cblxuICAgIHByaXZhdGUgcmVzb2x2ZUJhbGxJblBvY2tldChiYWxsOiBCYWxsKTogYm9vbGVhbiB7XG5cbiAgICAgICAgY29uc3QgaW5Qb2NrZXQ6IGJvb2xlYW4gPSBHQU1FX0NPTkZJRy5QT0NLRVRTX1BPU0lUSU9OU1xuICAgICAgICAgICAgLnNvbWUoKHBvY2tldFBvczogVmVjdG9yMikgPT4gYmFsbC5wb3NpdGlvbi5kaXN0RnJvbShwb2NrZXRQb3MpIDw9IEdBTUVfQ09ORklHLlBPQ0tFVF9SQURJVVMpO1xuXG4gICAgICAgIGlmKGluUG9ja2V0KSB7XG4gICAgICAgICAgICBiYWxsLmhpZGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpblBvY2tldDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzVmFsaWRQbGF5ZXJDb2xvcihjb2xvcjogQ29sb3IpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGNvbG9yID09PSBDb2xvci5yZWQgfHwgY29sb3IgPT09IENvbG9yLnllbGxvdztcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUJhbGxzSW5Qb2NrZXRzKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9iYWxscy5mb3JFYWNoKChiYWxsOiBCYWxsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpblBvY2tldCA9IHRoaXMucmVzb2x2ZUJhbGxJblBvY2tldChiYWxsKTtcbiAgICAgICAgICAgIGlmIChpblBvY2tldCAmJiAhdGhpcy5fdHVyblN0YXRlLnBvY2tldGVkQmFsbHMuaW5jbHVkZXMoYmFsbCkpIHtcbiAgICAgICAgICAgICAgICBBc3NldHMucGxheVNvdW5kKEdBTUVfQ09ORklHLlNPVU5EUy5SQUlMLCAxKTtcbiAgICAgICAgICAgICAgICBpZighdGhpcy5jdXJyZW50UGxheWVyLmNvbG9yICYmIHRoaXMuaXNWYWxpZFBsYXllckNvbG9yKGJhbGwuY29sb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBsYXllci5jb2xvciA9IGJhbGwuY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFBsYXllci5jb2xvciA9IGJhbGwuY29sb3IgPT09IENvbG9yLnllbGxvdyA/IENvbG9yLnJlZCA6IENvbG9yLnllbGxvdztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fdHVyblN0YXRlLnBvY2tldGVkQmFsbHMucHVzaChiYWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVCYWxsSW5IYW5kKCk6IHZvaWQge1xuXG4gICAgICAgIGlmKE1vdXNlLmlzUHJlc3NlZChHQU1FX0NPTkZJRy5QTEFDRV9CQUxMX0lOX0hBTkRfTU9VU0VfQlVUVE9OKSkge1xuICAgICAgICAgICAgdGhpcy5fdHVyblN0YXRlLmJhbGxJbkhhbmQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3N0aWNrLnNob3codGhpcy5fY3VlQmFsbC5wb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zdGljay5tb3ZhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9zdGljay52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9jdWVCYWxsLnBvc2l0aW9uID0gTW91c2UucG9zaXRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGJhbGxzTW92aW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fYmFsbHMuc29tZShiYWxsID0+IGJhbGwubW92aW5nKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbmNsdWRlVHVybigpOiB2b2lkIHtcblxuICAgICAgICB0aGlzLl90dXJuU3RhdGUucG9ja2V0ZWRCYWxscy5mb3JFYWNoKChiYWxsOiBCYWxsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBiYWxsSW5kZXg6IG51bWJlciA9IHRoaXMuX2JhbGxzLmluZGV4T2YoYmFsbCk7XG4gICAgICAgICAgICBpZihiYWxsLmNvbG9yICE9IENvbG9yLndoaXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmFsbHMuc3BsaWNlKGJhbGxJbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYodGhpcy5jdXJyZW50UGxheWVyLmNvbG9yKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQbGF5ZXIubWF0Y2hTY29yZSA9IDggLSB0aGlzLmdldEJhbGxzQnlDb2xvcih0aGlzLmN1cnJlbnRQbGF5ZXIuY29sb3IpLmxlbmd0aCAtIHRoaXMuZ2V0QmFsbHNCeUNvbG9yKENvbG9yLmJsYWNrKS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZih0aGlzLm5leHRQbGF5ZXIuY29sb3IpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dFBsYXllci5tYXRjaFNjb3JlID0gOCAtIHRoaXMuZ2V0QmFsbHNCeUNvbG9yKHRoaXMubmV4dFBsYXllci5jb2xvcikubGVuZ3RoIC0gdGhpcy5nZXRCYWxsc0J5Q29sb3IoQ29sb3IuYmxhY2spLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3R1cm5TdGF0ZS5pc1ZhbGlkID0gdGhpcy5fcmVmZXJlZS5pc1ZhbGlkVHVybih0aGlzLmN1cnJlbnRQbGF5ZXIsIHRoaXMuX3R1cm5TdGF0ZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnYW1lT3ZlcigpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuX3R1cm5TdGF0ZS5pc1ZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQbGF5ZXIub3ZlcmFsbFNjb3JlKys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm5leHRQbGF5ZXIub3ZlcmFsbFNjb3JlKys7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0TWF0Y2goKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG5leHRUdXJuKCk6IHZvaWQge1xuXG4gICAgICAgIGNvbnN0IGZvdWwgPSAhdGhpcy5fdHVyblN0YXRlLmlzVmFsaWQ7XG5cbiAgICAgICAgaWYoIXRoaXMuXzhCYWxsLnZpc2libGUpe1xuICAgICAgICAgICAgdGhpcy5nYW1lT3ZlcigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoIXRoaXMuX2N1ZUJhbGwudmlzaWJsZSl7XG4gICAgICAgICAgICB0aGlzLl9jdWVCYWxsLnNob3coVmVjdG9yMi5jb3B5KEdBTUVfQ09ORklHLkNVRV9CQUxMX1BPU0lUSU9OKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZihmb3VsIHx8IHRoaXMuX3R1cm5TdGF0ZS5wb2NrZXRlZEJhbGxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFBsYXllckluZGV4Kys7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50UGxheWVySW5kZXggPSB0aGlzLl9jdXJyZW50UGxheWVySW5kZXggJSB0aGlzLl9wbGF5ZXJzLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3N0aWNrLnNob3codGhpcy5fY3VlQmFsbC5wb3NpdGlvbik7XG5cbiAgICAgICAgdGhpcy5fdHVyblN0YXRlID0gbmV3IFN0YXRlKCk7XG4gICAgICAgIHRoaXMuX3R1cm5TdGF0ZS5iYWxsSW5IYW5kID0gZm91bDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRyYXdDdXJyZW50UGxheWVyTGFiZWwoKTogdm9pZCB7XG4gICAgICAgIFxuICAgICAgICBDYW52YXMyRC5kcmF3VGV4dChcbiAgICAgICAgICAgIEdBTUVfQ09ORklHLkNVUlJFTlRfUExBWUVSX0xBQkVMICsgKHRoaXMuX2N1cnJlbnRQbGF5ZXJJbmRleCArIDEpLCBcbiAgICAgICAgICAgIEdBTUVfQ09ORklHLkNVUlJFTlRfUExBWUVSX0xBQkVMX0ZPTlQsIFxuICAgICAgICAgICAgR0FNRV9DT05GSUcuQ1VSUkVOVF9QTEFZRVJfTEFCRUxfQ09MT1IsIFxuICAgICAgICAgICAgR0FNRV9DT05GSUcuQ1VSUkVOVF9QTEFZRVJfTEFCRUxfUE9TSVRJT04sIFxuICAgICAgICAgICAgR0FNRV9DT05GSUcuQ1VSUkVOVF9QTEFZRVJfTEFCRUxfQUxJR05NRU5UXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgZHJhd01hdGNoU2NvcmVzKCk6IHZvaWQge1xuICAgICAgICBmb3IobGV0IGkgPSAwIDsgaSA8IHRoaXMuX3BsYXllcnMubGVuZ3RoIDsgaSsrKXsgICAgXG4gICAgICAgICAgICBmb3IobGV0IGogPSAwIDsgaiA8IHRoaXMuX3BsYXllcnNbaV0ubWF0Y2hTY29yZSA7IGorKyl7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NvcmVQb3NpdGlvbjogVmVjdG9yMiA9IFZlY3RvcjIuY29weShHQU1FX0NPTkZJRy5NQVRDSF9TQ09SRV9QT1NJVElPTlNbaV0pLmFkZFRvWChqICogR0FNRV9DT05GSUcuTUFUQ0hfU0NPUkVfTUFSR0lOKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzY29yZVNwcml0ZTogSFRNTEltYWdlRWxlbWVudCA9IHRoaXMuX3BsYXllcnNbaV0uY29sb3IgPT09IENvbG9yLnJlZCA/IEFzc2V0cy5nZXRTcHJpdGUoR0FNRV9DT05GSUcuU1BSSVRFUy5SRURfU0NPUkUpIDogQXNzZXRzLmdldFNwcml0ZShHQU1FX0NPTkZJRy5TUFJJVEVTLllFTExPV19TQ09SRSk7XG4gICAgICAgICAgICAgICAgQ2FudmFzMkQuZHJhd0ltYWdlKHNjb3JlU3ByaXRlLCBzY29yZVBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSAgICBcbiAgICB9XG5cbiAgICBwcml2YXRlIGRyYXdPdmVyYWxsU2NvcmVzKCk6IHZvaWQge1xuICAgICAgICBmb3IobGV0IGkgPSAwIDsgaSA8IHRoaXMuX3BsYXllcnMubGVuZ3RoIDsgaSsrKXsgXG4gICAgICAgICAgICBDYW52YXMyRC5kcmF3VGV4dChcbiAgICAgICAgICAgICAgICB0aGlzLl9wbGF5ZXJzW2ldLm92ZXJhbGxTY29yZS50b1N0cmluZygpLCBcbiAgICAgICAgICAgICAgICBHQU1FX0NPTkZJRy5PVkVSQUxMX1NDT1JFX0xBQkVMX0ZPTlQsXG4gICAgICAgICAgICAgICAgR0FNRV9DT05GSUcuT1ZFUkFMTF9TQ09SRV9MQUJFTF9DT0xPUixcbiAgICAgICAgICAgICAgICBHQU1FX0NPTkZJRy5PVkVSQUxMX1NDT1JFX0xBQkVMU19QT1NJVElPTlNbaV0sXG4gICAgICAgICAgICAgICAgR0FNRV9DT05GSUcuT1ZFUkFMTF9TQ09SRV9MQUJFTFNfQUxMSUdOTUVOVFxuICAgICAgICAgICAgICAgICk7ICAgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLy0tLS0tLVB1YmxpYyBNZXRob2RzLS0tLS0tLy9cblxuICAgIHB1YmxpYyBpbml0TWF0Y2goKTogdm9pZCB7XG5cbiAgICAgICAgY29uc3QgcmVkQmFsbHM6IEJhbGxbXSA9IEdBTUVfQ09ORklHLlJFRF9CQUxMU19QT1NJVElPTlNcbiAgICAgICAgICAgIC5tYXAoKHBvc2l0aW9uOiBWZWN0b3IyKSA9PiBuZXcgQmFsbChWZWN0b3IyLmNvcHkocG9zaXRpb24pLCBDb2xvci55ZWxsb3cpKTtcblxuICAgICAgICBjb25zdCB5ZWxsb3dCYWxsczogQmFsbFtdID0gR0FNRV9DT05GSUcuWUVMTE9XX0JBTExTX1BPU0lUSU9OU1xuICAgICAgICAgICAgLm1hcCgocG9zaXRpb246IFZlY3RvcjIpID0+IG5ldyBCYWxsKFZlY3RvcjIuY29weShwb3NpdGlvbiksIENvbG9yLnJlZCkpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5fOEJhbGwgPSBuZXcgQmFsbChWZWN0b3IyLmNvcHkoR0FNRV9DT05GSUcuRUlHSFRfQkFMTF9QT1NJVElPTiksIENvbG9yLmJsYWNrKTtcblxuICAgICAgICB0aGlzLl9jdWVCYWxsID0gbmV3IEJhbGwoVmVjdG9yMi5jb3B5KEdBTUVfQ09ORklHLkNVRV9CQUxMX1BPU0lUSU9OKSwgQ29sb3Iud2hpdGUpO1xuXG4gICAgICAgIHRoaXMuX3N0aWNrID0gbmV3IFN0aWNrKFZlY3RvcjIuY29weShHQU1FX0NPTkZJRy5DVUVfQkFMTF9QT1NJVElPTikpO1xuXG4gICAgICAgIHRoaXMuX2JhbGxzID0gW1xuICAgICAgICAgICAgLi4ucmVkQmFsbHMsIFxuICAgICAgICAgICAgLi4uIHllbGxvd0JhbGxzLCBcbiAgICAgICAgICAgIHRoaXMuXzhCYWxsLFxuICAgICAgICAgICAgdGhpcy5fY3VlQmFsbCwgXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fY3VycmVudFBsYXllckluZGV4ID0gMDtcblxuICAgICAgICB0aGlzLl9wbGF5ZXJzLmZvckVhY2goKHBsYXllcjogUGxheWVyKSA9PiB7XG4gICAgICAgICAgICBwbGF5ZXIubWF0Y2hTY29yZSA9IDA7XG4gICAgICAgICAgICBwbGF5ZXIuY29sb3IgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fdHVyblN0YXRlID0gbmV3IFN0YXRlKCk7XG4gICAgICAgIHRoaXMuX3JlZmVyZWUgPSBuZXcgUmVmZXJlZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgIGlmKHRoaXMuX3R1cm5TdGF0ZS5iYWxsSW5IYW5kKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUJhbGxJbkhhbmQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhhbmRsZUJhbGxzSW5Qb2NrZXRzKCk7XG4gICAgICAgIHRoaXMuaGFuZGxlQ29sbGlzaW9ucygpO1xuICAgICAgICB0aGlzLmhhbmRsZUlucHV0KCk7XG4gICAgICAgIHRoaXMuX3N0aWNrLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLl9iYWxscy5mb3JFYWNoKChiYWxsOiBCYWxsKSA9PiBiYWxsLnVwZGF0ZSgpKTtcblxuICAgICAgICBpZighdGhpcy5iYWxsc01vdmluZygpICYmICF0aGlzLl9zdGljay52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmNsdWRlVHVybigpO1xuICAgICAgICAgICAgdGhpcy5uZXh0VHVybigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRyYXcoKTogdm9pZCB7XG4gICAgICAgIENhbnZhczJELmRyYXdJbWFnZShBc3NldHMuZ2V0U3ByaXRlKEdBTUVfQ09ORklHLlNQUklURVMuVEFCTEUpKTtcbiAgICAgICAgdGhpcy5kcmF3Q3VycmVudFBsYXllckxhYmVsKCk7XG4gICAgICAgIHRoaXMuZHJhd092ZXJhbGxTY29yZXMoKTtcbiAgICAgICAgdGhpcy5fYmFsbHMuZm9yRWFjaCgoYmFsbDogQmFsbCkgPT4gYmFsbC5kcmF3KCkpO1xuICAgICAgICB0aGlzLl9zdGljay5kcmF3KCk7XG4gICAgICAgIHRoaXMuZHJhd01hdGNoU2NvcmVzKCk7XG4gICAgfVxufSIsImltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi9TdGF0ZSc7XG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJy4vLi4vY29tbW9uL0NvbG9yJztcbmltcG9ydCB7IEJhbGwgfSBmcm9tIFwiLi9CYWxsXCI7XG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi9QbGF5ZXJcIjtcblxuZXhwb3J0IGNsYXNzIFJlZmVyZWUge1xuXG4gICAgcHJpdmF0ZSBpc1ZhbGlkRmlyc3RUb3VjaChwbGF5ZXI6IFBsYXllciwgY29sbGlkZWRCYWxsQ29sb3I6IENvbG9yKTogYm9vbGVhbiB7XG5cbiAgICAgICAgaWYoIWNvbGxpZGVkQmFsbENvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYoIXBsYXllci5jb2xvcikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbGxpZGVkQmFsbENvbG9yICE9PSBDb2xvci5ibGFjaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwbGF5ZXIuY29sb3IgPT09IGNvbGxpZGVkQmFsbENvbG9yIHx8IFxuICAgICAgICAgICAgICAgKHBsYXllci5tYXRjaFNjb3JlID09PSA3ICYmIGNvbGxpZGVkQmFsbENvbG9yID09PSBDb2xvci5ibGFjaykgfHxcbiAgICAgICAgICAgICAgIChwbGF5ZXIubWF0Y2hTY29yZSA9PT0gOCAmJiBjb2xsaWRlZEJhbGxDb2xvciA9PT0gQ29sb3IuYmxhY2spOyBcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzVmFsaWRQb2NrZXRlZEJhbGxzKHBsYXllcjogUGxheWVyLCBwb2NrZXRlZEJhbGxzOiBCYWxsW10pOiBib29sZWFuIHtcbiAgICAgICAgaWYocG9ja2V0ZWRCYWxscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmKHBsYXllci5jb2xvcikge1xuICAgICAgICAgICAgaWYgKHBsYXllci5tYXRjaFNjb3JlID09PSA4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvY2tldGVkQmFsbHMubGVuZ3RoID09PSAxICYmIHBvY2tldGVkQmFsbHNbMF0uY29sb3IgPT09IENvbG9yLmJsYWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvY2tldGVkQmFsbHMuZXZlcnkoKGJhbGw6IEJhbGwpID0+IGJhbGwuY29sb3IgPT09IHBsYXllci5jb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjb2xvciA9IHBvY2tldGVkQmFsbHNbMF0uY29sb3I7XG4gICAgICAgICAgICByZXR1cm4gY29sb3IgIT09IENvbG9yLndoaXRlICYmXG4gICAgICAgICAgICAgICAgICAgY29sb3IgIT09IENvbG9yLmJsYWNrICYmXG4gICAgICAgICAgICAgICAgICAgcG9ja2V0ZWRCYWxscy5ldmVyeSgoYmFsbDogQmFsbCkgPT4gYmFsbC5jb2xvciA9PT0gY29sb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBpc1ZhbGlkVHVybihwbGF5ZXI6IFBsYXllciwgc3RhdGU6IFN0YXRlKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWRGaXJzdFRvdWNoKHBsYXllciwgc3RhdGUuZmlyc3RDb2xsaWRlZEJhbGxDb2xvcikgJiZcbiAgICAgICAgICAgICAgIHRoaXMuaXNWYWxpZFBvY2tldGVkQmFsbHMocGxheWVyLCBzdGF0ZS5wb2NrZXRlZEJhbGxzKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgR0FNRV9DT05GSUcgfSBmcm9tICcuLy4uL2dhbWUuY29uZmlnJztcbmltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi8uLi9jb21tb24vQ29sb3InO1xuaW1wb3J0IHsgQ2FudmFzMkQgfSBmcm9tICcuLi9DYW52YXMnO1xuXG5leHBvcnQgY2xhc3MgUGxheWVyIHtcblxuICAgIHB1YmxpYyBjb2xvcjogQ29sb3I7XG4gICAgcHVibGljIG1hdGNoU2NvcmU6IG51bWJlciA9IDA7XG4gICAgcHVibGljIG92ZXJhbGxTY29yZTogbnVtYmVyID0gMDtcblxufSIsImltcG9ydCB7IEtleWJvYXJkIH0gZnJvbSAnLi8uLi9pbnB1dC9LZXlib2FyZCc7XG5pbXBvcnQgeyBNb3VzZSB9IGZyb20gJy4vLi4vaW5wdXQvTW91c2UnO1xuaW1wb3J0IHsgR0FNRV9DT05GSUcgfSBmcm9tICcuLy4uL2dhbWUuY29uZmlnJztcbmltcG9ydCB7IEFzc2V0cyB9IGZyb20gJy4vLi4vQXNzZXRzJztcbmltcG9ydCB7IENhbnZhczJEIH0gZnJvbSAnLi8uLi9DYW52YXMnO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJy4vLi4vZ2VvbS9WZWN0b3IyJztcbmltcG9ydCB7IG1hcFJhbmdlIH0gZnJvbSAnLi4vY29tbW9uL0hlbHBlcic7XG5cbmV4cG9ydCBjbGFzcyBTdGljayB7XG5cbiAgICAvLy0tLS0tLU1lbWJlcnMtLS0tLS0vL1xuXG4gICAgcHJpdmF0ZSBfc3ByaXRlOiBIVE1MSW1hZ2VFbGVtZW50ID0gQXNzZXRzLmdldFNwcml0ZShHQU1FX0NPTkZJRy5TUFJJVEVTLlNUSUNLKTtcbiAgICBwcml2YXRlIF9yb3RhdGlvbjogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9vcmlnaW46IFZlY3RvcjIgPSBWZWN0b3IyLmNvcHkoR0FNRV9DT05GSUcuU1RJQ0tfT1JJR0lOKTtcbiAgICBwcml2YXRlIF9wb3dlcjogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9tb3ZhYmxlOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwcml2YXRlIF92aXNpYmxlOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIC8vLS0tLS0tUHJvcGVydGllcy0tLS0tLS8vXG5cbiAgICBwdWJsaWMgZ2V0IHBvc2l0aW9uKCkgOiBWZWN0b3IyIHtcbiAgICAgICAgcmV0dXJuIFZlY3RvcjIuY29weSh0aGlzLl9wb3NpdGlvbik7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBnZXQgcm90YXRpb24oKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcG93ZXIoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bvd2VyO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgbW92YWJsZSh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9tb3ZhYmxlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCB2aXNpYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlzaWJsZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHZpc2libGUodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fdmlzaWJsZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8vLS0tLS0tQ29uc3RydWN0b3ItLS0tLS0vL1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfcG9zaXRpb246IFZlY3RvcjIpIHt9XG5cbiAgICAvLy0tLS0tLVByaXZhdGUgTWV0aG9kcy0tLS0tLS8vXG5cbiAgICBwcml2YXRlIGluY3JlYXNlUG93ZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3Bvd2VyICs9IEdBTUVfQ09ORklHLlBPV0VSX1RPX0FERF9QRVJfRlJBTUU7XG4gICAgICAgIHRoaXMuX29yaWdpbi5hZGRUb1goR0FNRV9DT05GSUcuU1RJQ0tfTU9WRU1FTlRfUEVSX0ZSQU1FKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRlY3JlYXNlUG93ZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3Bvd2VyIC09IEdBTUVfQ09ORklHLlBPV0VSX1RPX0FERF9QRVJfRlJBTUU7XG4gICAgICAgIHRoaXMuX29yaWdpbi5hZGRUb1goLUdBTUVfQ09ORklHLlNUSUNLX01PVkVNRU5UX1BFUl9GUkFNRSk7XG4gICAgfVxuICAgIFxuICAgIHByaXZhdGUgaXNMZXNzVGhhbk1heFBvd2VyKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG93ZXIgPCBHQU1FX0NPTkZJRy5TVElDS19NQVhfUE9XRVI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc01vcmVUaGFuTWluUG93ZXIoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb3dlciA+PSAwO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlUG93ZXIoKTogdm9pZCB7XG5cbiAgICAgICAgaWYgKEtleWJvYXJkLmlzRG93bihHQU1FX0NPTkZJRy5JTkNSRUFTRV9TSE9UX1BPV0VSX0tFWSkgJiYgdGhpcy5pc0xlc3NUaGFuTWF4UG93ZXIoKSkge1xuICAgICAgICAgICAgdGhpcy5pbmNyZWFzZVBvd2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoS2V5Ym9hcmQuaXNEb3duKEdBTUVfQ09ORklHLkRFQ1JFQVNFX1NIT1RfUE9XRVJfS0VZKSAmJiB0aGlzLmlzTW9yZVRoYW5NaW5Qb3dlcigpKSB7XG4gICAgICAgICAgICB0aGlzLmRlY3JlYXNlUG93ZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlUm90YXRpb24oKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IG9wcG9zaXRlOiBudW1iZXIgPSBNb3VzZS5wb3NpdGlvbi55IC0gdGhpcy5fcG9zaXRpb24ueTtcbiAgICAgICAgY29uc3QgYWRqYWNlbnQ6IG51bWJlciA9IE1vdXNlLnBvc2l0aW9uLnggLSB0aGlzLl9wb3NpdGlvbi54O1xuICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IE1hdGguYXRhbjIob3Bwb3NpdGUsIGFkamFjZW50KTtcbiAgICB9XG5cbiAgICAvLy0tLS0tLVB1YmxpYyBNZXRob2RzLS0tLS0tLy9cblxuICAgIHB1YmxpYyBoaWRlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9wb3dlciA9IDA7XG4gICAgICAgIHRoaXMuX3Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbW92YWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaG93KHBvc2l0aW9uOiBWZWN0b3IyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHRoaXMuX29yaWdpbiA9IFZlY3RvcjIuY29weShHQU1FX0NPTkZJRy5TVElDS19PUklHSU4pO1xuICAgICAgICB0aGlzLl9tb3ZhYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fdmlzaWJsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgcHVibGljIHNob290KCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9vcmlnaW4gPSBWZWN0b3IyLmNvcHkoR0FNRV9DT05GSUcuU1RJQ0tfU0hPVF9PUklHSU4pO1xuICAgICAgICBjb25zdCB2b2x1bWU6IG51bWJlciA9IG1hcFJhbmdlKHRoaXMuX3Bvd2VyLCAwLCBHQU1FX0NPTkZJRy5TVElDS19NQVhfUE9XRVIsIDAsIDEpO1xuICAgICAgICBBc3NldHMucGxheVNvdW5kKEdBTUVfQ09ORklHLlNPVU5EUy5TVFJJS0UsIHZvbHVtZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgaWYodGhpcy5fbW92YWJsZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVSb3RhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQb3dlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRyYXcoKTogdm9pZCB7XG4gICAgICAgIGlmKHRoaXMuX3Zpc2libGUpIHtcbiAgICAgICAgICAgIENhbnZhczJELmRyYXdJbWFnZSh0aGlzLl9zcHJpdGUsIHRoaXMuX3Bvc2l0aW9uLCB0aGlzLl9yb3RhdGlvbiwgdGhpcy5fb3JpZ2luKTtcbiAgICAgICAgfVxuICAgIH1cblxufSIsImltcG9ydCB7IEdBTUVfQ09ORklHIH0gZnJvbSAnLi8uLi9nYW1lLmNvbmZpZyc7XG5pbXBvcnQgeyBDYW52YXMyRCB9IGZyb20gJy4vLi4vQ2FudmFzJztcbmltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi8uLi9jb21tb24vQ29sb3InO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJy4vLi4vZ2VvbS9WZWN0b3IyJztcbmltcG9ydCB7IEFzc2V0cyB9IGZyb20gJy4uL0Fzc2V0cyc7XG5cbmV4cG9ydCBjbGFzcyBCYWxsIHtcblxuICAgIC8vLS0tLS0tTWVtYmVycy0tLS0tLS8vXG5cbiAgICBwcml2YXRlIF9zcHJpdGU6IEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfY29sb3I6IENvbG9yO1xuICAgIHByaXZhdGUgX3ZlbG9jaXR5OiBWZWN0b3IyID0gVmVjdG9yMi56ZXJvO1xuICAgIHByaXZhdGUgX21vdmluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX3Zpc2libGU6IGJvb2xlYW4gPSB0cnVlO1xuXG5cbiAgICAvLy0tLS0tLVByb3BlcnRpZXMtLS0tLS0vL1xuXG4gICAgcHVibGljIGdldCBwb3NpdGlvbigpOiBWZWN0b3IyIHtcbiAgICAgICAgcmV0dXJuIFZlY3RvcjIuY29weSh0aGlzLl9wb3NpdGlvbik7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb3NpdGlvbih2YWx1ZTogVmVjdG9yMikge1xuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgbmV4dFBvc2l0aW9uKCk6IFZlY3RvcjIge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi5hZGQodGhpcy5fdmVsb2NpdHkubXVsdCgxIC0gR0FNRV9DT05GSUcuRlJJQ1RJT04pKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHZlbG9jaXR5KCk6IFZlY3RvcjIge1xuICAgICAgICByZXR1cm4gVmVjdG9yMi5jb3B5KHRoaXMuX3ZlbG9jaXR5KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHZlbG9jaXR5KHZhbHVlOiBWZWN0b3IyKSB7XG4gICAgICAgIHRoaXMuX21vdmluZyA9IHZhbHVlLmxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIHRoaXMuX3ZlbG9jaXR5ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBtb3ZpbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb3Zpbmc7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBjb2xvcigpOiBDb2xvciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb2xvcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHZpc2libGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aXNpYmxlO1xuICAgIH1cblxuICAgIC8vLS0tLS0tQ29uc3RydWN0b3ItLS0tLS0vL1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfcG9zaXRpb246IFZlY3RvcjIsIGNvbG9yOiBDb2xvcikge1xuICAgICAgICB0aGlzLl9jb2xvciA9IGNvbG9yO1xuICAgICAgICB0aGlzLnJlc29sdmVTcHJpdGUoY29sb3IpO1xuICAgIH1cblxuICAgIC8vLS0tLS0tUHJpdmF0ZSBNZXRob2RzLS0tLS0tLy9cblxuICAgIHByaXZhdGUgcmVzb2x2ZVNwcml0ZShjb2xvcjogQ29sb3IpIHtcbiAgICAgICAgc3dpdGNoKGNvbG9yKSB7XG4gICAgICAgICAgICBjYXNlIENvbG9yLndoaXRlOlxuICAgICAgICAgICAgICAgIHRoaXMuX3Nwcml0ZSA9IEFzc2V0cy5nZXRTcHJpdGUoR0FNRV9DT05GSUcuU1BSSVRFUy5DVUVfQkFMTCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQ29sb3IuYmxhY2s6XG4gICAgICAgICAgICAgICAgdGhpcy5fc3ByaXRlID0gQXNzZXRzLmdldFNwcml0ZShHQU1FX0NPTkZJRy5TUFJJVEVTLkJMQUNLX0JBTEwpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIENvbG9yLnJlZDpcbiAgICAgICAgICAgICAgICB0aGlzLl9zcHJpdGUgPSBBc3NldHMuZ2V0U3ByaXRlKEdBTUVfQ09ORklHLlNQUklURVMuUkVEX0JBTEwpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIENvbG9yLnllbGxvdzpcbiAgICAgICAgICAgICAgICB0aGlzLl9zcHJpdGUgPSBBc3NldHMuZ2V0U3ByaXRlKEdBTUVfQ09ORklHLlNQUklURVMuWUVMTE9XX0JBTEwpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8tLS0tLS1QdWJsaWMgTWV0aG9kcy0tLS0tLS8vXG5cbiAgICBwdWJsaWMgc2hvb3QocG93ZXI6IG51bWJlciwgYW5nbGU6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLl92ZWxvY2l0eSA9IG5ldyBWZWN0b3IyKHBvd2VyICogTWF0aC5jb3MoYW5nbGUpLCBwb3dlciAqIE1hdGguc2luKGFuZ2xlKSk7XG4gICAgICAgIHRoaXMuX21vdmluZyA9IHRydWU7XG4gICAgfVxuXG4gICAgcHVibGljIHNob3cocG9zaXRpb246IFZlY3RvcjIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgdGhpcy5fdmVsb2NpdHkgPSBWZWN0b3IyLnplcm87XG4gICAgICAgIHRoaXMuX3Zpc2libGUgPSB0cnVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBoaWRlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl92ZWxvY2l0eSA9IFZlY3RvcjIuemVybztcbiAgICAgICAgdGhpcy5fbW92aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3Zpc2libGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICBpZih0aGlzLl9tb3ZpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZlbG9jaXR5Lm11bHRCeSgxIC0gR0FNRV9DT05GSUcuRlJJQ1RJT04pO1xuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24uYWRkVG8odGhpcy5fdmVsb2NpdHkpO1xuXG4gICAgICAgICAgICBpZih0aGlzLl92ZWxvY2l0eS5sZW5ndGggPCBHQU1FX0NPTkZJRy5CQUxMX01JTl9WRUxPQ0lUWV9MRU5HVEgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZlbG9jaXR5ID0gVmVjdG9yMi56ZXJvO1xuICAgICAgICAgICAgICAgIHRoaXMuX21vdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRyYXcoKTogdm9pZCB7XG4gICAgICAgIGlmKHRoaXMuX3Zpc2libGUpe1xuICAgICAgICAgICAgQ2FudmFzMkQuZHJhd0ltYWdlKHRoaXMuX3Nwcml0ZSwgdGhpcy5fcG9zaXRpb24sIDAsIEdBTUVfQ09ORklHLkJBTExfT1JJR0lOKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYWxsIH0gZnJvbSAnLi9CYWxsJztcbmltcG9ydCB7IENvbG9yIH0gZnJvbSBcIi4uL2NvbW1vbi9Db2xvclwiO1xuXG5leHBvcnQgY2xhc3MgU3RhdGUge1xuICAgIHB1YmxpYyBmaXJzdENvbGxpZGVkQmFsbENvbG9yOiBDb2xvcjtcbiAgICBwdWJsaWMgcG9ja2V0ZWRCYWxsczogQmFsbFtdID0gW107XG4gICAgcHVibGljIGJhbGxJbkhhbmQgPSBmYWxzZTtcbiAgICBwdWJsaWMgaXNWYWxpZCA9IGZhbHNlO1xufSJdLCJzb3VyY2VSb290IjoiIn0=